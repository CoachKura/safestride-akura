(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();function Uu(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var zh={exports:{}},Vo={},Hh={exports:{}},H={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ta=Symbol.for("react.element"),Wm=Symbol.for("react.portal"),zm=Symbol.for("react.fragment"),Hm=Symbol.for("react.strict_mode"),Gm=Symbol.for("react.profiler"),Vm=Symbol.for("react.provider"),qm=Symbol.for("react.context"),Km=Symbol.for("react.forward_ref"),Ym=Symbol.for("react.suspense"),Jm=Symbol.for("react.memo"),Qm=Symbol.for("react.lazy"),vd=Symbol.iterator;function Xm(e){return e===null||typeof e!="object"?null:(e=vd&&e[vd]||e["@@iterator"],typeof e=="function"?e:null)}var Gh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Vh=Object.assign,qh={};function Bn(e,t,r){this.props=e,this.context=t,this.refs=qh,this.updater=r||Gh}Bn.prototype.isReactComponent={};Bn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Bn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Kh(){}Kh.prototype=Bn.prototype;function Fu(e,t,r){this.props=e,this.context=t,this.refs=qh,this.updater=r||Gh}var Wu=Fu.prototype=new Kh;Wu.constructor=Fu;Vh(Wu,Bn.prototype);Wu.isPureReactComponent=!0;var gd=Array.isArray,Yh=Object.prototype.hasOwnProperty,zu={current:null},Jh={key:!0,ref:!0,__self:!0,__source:!0};function Qh(e,t,r){var n,i={},a=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)Yh.call(t,n)&&!Jh.hasOwnProperty(n)&&(i[n]=t[n]);var s=arguments.length-2;if(s===1)i.children=r;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(n in s=e.defaultProps,s)i[n]===void 0&&(i[n]=s[n]);return{$$typeof:ta,type:e,key:a,ref:o,props:i,_owner:zu.current}}function Zm(e,t){return{$$typeof:ta,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Hu(e){return typeof e=="object"&&e!==null&&e.$$typeof===ta}function ey(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var md=/\/+/g;function Ms(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ey(""+e.key):t.toString(36)}function Ka(e,t,r,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case ta:case Wm:o=!0}}if(o)return o=e,i=i(o),e=n===""?"."+Ms(o,0):n,gd(i)?(r="",e!=null&&(r=e.replace(md,"$&/")+"/"),Ka(i,t,r,"",function(u){return u})):i!=null&&(Hu(i)&&(i=Zm(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(md,"$&/")+"/")+e)),t.push(i)),1;if(o=0,n=n===""?".":n+":",gd(e))for(var s=0;s<e.length;s++){a=e[s];var l=n+Ms(a,s);o+=Ka(a,t,r,l,i)}else if(l=Xm(e),typeof l=="function")for(e=l.call(e),s=0;!(a=e.next()).done;)a=a.value,l=n+Ms(a,s++),o+=Ka(a,t,r,l,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ba(e,t,r){if(e==null)return e;var n=[],i=0;return Ka(e,n,"","",function(a){return t.call(r,a,i++)}),n}function ty(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Fe={current:null},Ya={transition:null},ry={ReactCurrentDispatcher:Fe,ReactCurrentBatchConfig:Ya,ReactCurrentOwner:zu};function Xh(){throw Error("act(...) is not supported in production builds of React.")}H.Children={map:ba,forEach:function(e,t,r){ba(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return ba(e,function(){t++}),t},toArray:function(e){return ba(e,function(t){return t})||[]},only:function(e){if(!Hu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};H.Component=Bn;H.Fragment=zm;H.Profiler=Gm;H.PureComponent=Fu;H.StrictMode=Hm;H.Suspense=Ym;H.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ry;H.act=Xh;H.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Vh({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=zu.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)Yh.call(t,l)&&!Jh.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];n.children=s}return{$$typeof:ta,type:e.type,key:i,ref:a,props:n,_owner:o}};H.createContext=function(e){return e={$$typeof:qm,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Vm,_context:e},e.Consumer=e};H.createElement=Qh;H.createFactory=function(e){var t=Qh.bind(null,e);return t.type=e,t};H.createRef=function(){return{current:null}};H.forwardRef=function(e){return{$$typeof:Km,render:e}};H.isValidElement=Hu;H.lazy=function(e){return{$$typeof:Qm,_payload:{_status:-1,_result:e},_init:ty}};H.memo=function(e,t){return{$$typeof:Jm,type:e,compare:t===void 0?null:t}};H.startTransition=function(e){var t=Ya.transition;Ya.transition={};try{e()}finally{Ya.transition=t}};H.unstable_act=Xh;H.useCallback=function(e,t){return Fe.current.useCallback(e,t)};H.useContext=function(e){return Fe.current.useContext(e)};H.useDebugValue=function(){};H.useDeferredValue=function(e){return Fe.current.useDeferredValue(e)};H.useEffect=function(e,t){return Fe.current.useEffect(e,t)};H.useId=function(){return Fe.current.useId()};H.useImperativeHandle=function(e,t,r){return Fe.current.useImperativeHandle(e,t,r)};H.useInsertionEffect=function(e,t){return Fe.current.useInsertionEffect(e,t)};H.useLayoutEffect=function(e,t){return Fe.current.useLayoutEffect(e,t)};H.useMemo=function(e,t){return Fe.current.useMemo(e,t)};H.useReducer=function(e,t,r){return Fe.current.useReducer(e,t,r)};H.useRef=function(e){return Fe.current.useRef(e)};H.useState=function(e){return Fe.current.useState(e)};H.useSyncExternalStore=function(e,t,r){return Fe.current.useSyncExternalStore(e,t,r)};H.useTransition=function(){return Fe.current.useTransition()};H.version="18.3.1";Hh.exports=H;var O=Hh.exports;const Z=Uu(O);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ny=O,iy=Symbol.for("react.element"),ay=Symbol.for("react.fragment"),oy=Object.prototype.hasOwnProperty,sy=ny.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ly={key:!0,ref:!0,__self:!0,__source:!0};function Zh(e,t,r){var n,i={},a=null,o=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)oy.call(t,n)&&!ly.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:iy,type:e,key:a,ref:o,props:i,_owner:sy.current}}Vo.Fragment=ay;Vo.jsx=Zh;Vo.jsxs=Zh;zh.exports=Vo;var S=zh.exports,Ol={},ep={exports:{}},at={},tp={exports:{}},rp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,P){var R=T.length;T.push(P);e:for(;0<R;){var B=R-1>>>1,W=T[B];if(0<i(W,P))T[B]=P,T[R]=W,R=B;else break e}}function r(T){return T.length===0?null:T[0]}function n(T){if(T.length===0)return null;var P=T[0],R=T.pop();if(R!==P){T[0]=R;e:for(var B=0,W=T.length,$e=W>>>1;B<$e;){var xe=2*(B+1)-1,Re=T[xe],ut=xe+1,$t=T[ut];if(0>i(Re,R))ut<W&&0>i($t,Re)?(T[B]=$t,T[ut]=R,B=ut):(T[B]=Re,T[xe]=R,B=xe);else if(ut<W&&0>i($t,R))T[B]=$t,T[ut]=R,B=ut;else break e}}return P}function i(T,P){var R=T.sortIndex-P.sortIndex;return R!==0?R:T.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var l=[],u=[],c=1,f=null,d=3,h=!1,p=!1,m=!1,w=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(T){for(var P=r(u);P!==null;){if(P.callback===null)n(u);else if(P.startTime<=T)n(u),P.sortIndex=P.expirationTime,t(l,P);else break;P=r(u)}}function b(T){if(m=!1,y(T),!p)if(r(l)!==null)p=!0,he(E);else{var P=r(u);P!==null&&lt(b,P.startTime-T)}}function E(T,P){p=!1,m&&(m=!1,g(C),C=-1),h=!0;var R=d;try{for(y(P),f=r(l);f!==null&&(!(f.expirationTime>P)||T&&!F());){var B=f.callback;if(typeof B=="function"){f.callback=null,d=f.priorityLevel;var W=B(f.expirationTime<=P);P=e.unstable_now(),typeof W=="function"?f.callback=W:f===r(l)&&n(l),y(P)}else n(l);f=r(l)}if(f!==null)var $e=!0;else{var xe=r(u);xe!==null&&lt(b,xe.startTime-P),$e=!1}return $e}finally{f=null,d=R,h=!1}}var _=!1,x=null,C=-1,I=5,A=-1;function F(){return!(e.unstable_now()-A<I)}function le(){if(x!==null){var T=e.unstable_now();A=T;var P=!0;try{P=x(!0,T)}finally{P?z():(_=!1,x=null)}}else _=!1}var z;if(typeof v=="function")z=function(){v(le)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,de=q.port2;q.port1.onmessage=le,z=function(){de.postMessage(null)}}else z=function(){w(le,0)};function he(T){x=T,_||(_=!0,z())}function lt(T,P){C=w(function(){T(e.unstable_now())},P)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){p||h||(p=!0,he(E))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(T){switch(d){case 1:case 2:case 3:var P=3;break;default:P=d}var R=d;d=P;try{return T()}finally{d=R}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,P){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var R=d;d=T;try{return P()}finally{d=R}},e.unstable_scheduleCallback=function(T,P,R){var B=e.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?B+R:B):R=B,T){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=R+W,T={id:c++,callback:P,priorityLevel:T,startTime:R,expirationTime:W,sortIndex:-1},R>B?(T.sortIndex=R,t(u,T),r(l)===null&&T===r(u)&&(m?(g(C),C=-1):m=!0,lt(b,R-B))):(T.sortIndex=W,t(l,T),p||h||(p=!0,he(E))),T},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(T){var P=d;return function(){var R=d;d=P;try{return T.apply(this,arguments)}finally{d=R}}}})(rp);tp.exports=rp;var uy=tp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cy=O,it=uy;function k(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var np=new Set,ki={};function Kr(e,t){On(e,t),On(e+"Capture",t)}function On(e,t){for(ki[e]=t,e=0;e<t.length;e++)np.add(t[e])}var Vt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tl=Object.prototype.hasOwnProperty,dy=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,yd={},wd={};function fy(e){return Tl.call(wd,e)?!0:Tl.call(yd,e)?!1:dy.test(e)?wd[e]=!0:(yd[e]=!0,!1)}function hy(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function py(e,t,r,n){if(t===null||typeof t>"u"||hy(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function We(e,t,r,n,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Ie={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ie[e]=new We(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ie[t]=new We(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ie[e]=new We(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ie[e]=new We(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ie[e]=new We(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ie[e]=new We(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ie[e]=new We(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ie[e]=new We(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ie[e]=new We(e,5,!1,e.toLowerCase(),null,!1,!1)});var Gu=/[\-:]([a-z])/g;function Vu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Gu,Vu);Ie[t]=new We(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Gu,Vu);Ie[t]=new We(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Gu,Vu);Ie[t]=new We(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ie[e]=new We(e,1,!1,e.toLowerCase(),null,!1,!1)});Ie.xlinkHref=new We("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ie[e]=new We(e,1,!1,e.toLowerCase(),null,!0,!0)});function qu(e,t,r,n){var i=Ie.hasOwnProperty(t)?Ie[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(py(t,r,i,n)&&(r=null),n||i===null?fy(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Jt=cy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Sa=Symbol.for("react.element"),un=Symbol.for("react.portal"),cn=Symbol.for("react.fragment"),Ku=Symbol.for("react.strict_mode"),Il=Symbol.for("react.profiler"),ip=Symbol.for("react.provider"),ap=Symbol.for("react.context"),Yu=Symbol.for("react.forward_ref"),Rl=Symbol.for("react.suspense"),Al=Symbol.for("react.suspense_list"),Ju=Symbol.for("react.memo"),er=Symbol.for("react.lazy"),op=Symbol.for("react.offscreen"),bd=Symbol.iterator;function qn(e){return e===null||typeof e!="object"?null:(e=bd&&e[bd]||e["@@iterator"],typeof e=="function"?e:null)}var se=Object.assign,Bs;function si(e){if(Bs===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Bs=t&&t[1]||""}return`
`+Bs+e}var Us=!1;function Fs(e,t){if(!e||Us)return"";Us=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=n.stack.split(`
`),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==a[s]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=s);break}}}finally{Us=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?si(e):""}function vy(e){switch(e.tag){case 5:return si(e.type);case 16:return si("Lazy");case 13:return si("Suspense");case 19:return si("SuspenseList");case 0:case 2:case 15:return e=Fs(e.type,!1),e;case 11:return e=Fs(e.type.render,!1),e;case 1:return e=Fs(e.type,!0),e;default:return""}}function Nl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case cn:return"Fragment";case un:return"Portal";case Il:return"Profiler";case Ku:return"StrictMode";case Rl:return"Suspense";case Al:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ap:return(e.displayName||"Context")+".Consumer";case ip:return(e._context.displayName||"Context")+".Provider";case Yu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ju:return t=e.displayName||null,t!==null?t:Nl(e.type)||"Memo";case er:t=e._payload,e=e._init;try{return Nl(e(t))}catch{}}return null}function gy(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Nl(t);case 8:return t===Ku?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function wr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function sp(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function my(e){var t=sp(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function _a(e){e._valueTracker||(e._valueTracker=my(e))}function lp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=sp(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function so(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function jl(e,t){var r=t.checked;return se({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Sd(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=wr(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function up(e,t){t=t.checked,t!=null&&qu(e,"checked",t,!1)}function Ll(e,t){up(e,t);var r=wr(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?$l(e,t.type,r):t.hasOwnProperty("defaultValue")&&$l(e,t.type,wr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function _d(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function $l(e,t,r){(t!=="number"||so(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var li=Array.isArray;function _n(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+wr(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Ml(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(k(91));return se({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ed(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(k(92));if(li(r)){if(1<r.length)throw Error(k(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:wr(r)}}function cp(e,t){var r=wr(t.value),n=wr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function xd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function dp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Bl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?dp(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ea,fp=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ea=Ea||document.createElement("div"),Ea.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ea.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ci(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var fi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yy=["Webkit","ms","Moz","O"];Object.keys(fi).forEach(function(e){yy.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fi[t]=fi[e]})});function hp(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||fi.hasOwnProperty(e)&&fi[e]?(""+t).trim():t+"px"}function pp(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=hp(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var wy=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ul(e,t){if(t){if(wy[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(k(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(k(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(k(61))}if(t.style!=null&&typeof t.style!="object")throw Error(k(62))}}function Fl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wl=null;function Qu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var zl=null,En=null,xn=null;function kd(e){if(e=ia(e)){if(typeof zl!="function")throw Error(k(280));var t=e.stateNode;t&&(t=Qo(t),zl(e.stateNode,e.type,t))}}function vp(e){En?xn?xn.push(e):xn=[e]:En=e}function gp(){if(En){var e=En,t=xn;if(xn=En=null,kd(e),t)for(e=0;e<t.length;e++)kd(t[e])}}function mp(e,t){return e(t)}function yp(){}var Ws=!1;function wp(e,t,r){if(Ws)return e(t,r);Ws=!0;try{return mp(e,t,r)}finally{Ws=!1,(En!==null||xn!==null)&&(yp(),gp())}}function Pi(e,t){var r=e.stateNode;if(r===null)return null;var n=Qo(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(k(231,t,typeof r));return r}var Hl=!1;if(Vt)try{var Kn={};Object.defineProperty(Kn,"passive",{get:function(){Hl=!0}}),window.addEventListener("test",Kn,Kn),window.removeEventListener("test",Kn,Kn)}catch{Hl=!1}function by(e,t,r,n,i,a,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(c){this.onError(c)}}var hi=!1,lo=null,uo=!1,Gl=null,Sy={onError:function(e){hi=!0,lo=e}};function _y(e,t,r,n,i,a,o,s,l){hi=!1,lo=null,by.apply(Sy,arguments)}function Ey(e,t,r,n,i,a,o,s,l){if(_y.apply(this,arguments),hi){if(hi){var u=lo;hi=!1,lo=null}else throw Error(k(198));uo||(uo=!0,Gl=u)}}function Yr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function bp(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Cd(e){if(Yr(e)!==e)throw Error(k(188))}function xy(e){var t=e.alternate;if(!t){if(t=Yr(e),t===null)throw Error(k(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return Cd(i),e;if(a===n)return Cd(i),t;a=a.sibling}throw Error(k(188))}if(r.return!==n.return)r=i,n=a;else{for(var o=!1,s=i.child;s;){if(s===r){o=!0,r=i,n=a;break}if(s===n){o=!0,n=i,r=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===r){o=!0,r=a,n=i;break}if(s===n){o=!0,n=a,r=i;break}s=s.sibling}if(!o)throw Error(k(189))}}if(r.alternate!==n)throw Error(k(190))}if(r.tag!==3)throw Error(k(188));return r.stateNode.current===r?e:t}function Sp(e){return e=xy(e),e!==null?_p(e):null}function _p(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=_p(e);if(t!==null)return t;e=e.sibling}return null}var Ep=it.unstable_scheduleCallback,Pd=it.unstable_cancelCallback,ky=it.unstable_shouldYield,Cy=it.unstable_requestPaint,fe=it.unstable_now,Py=it.unstable_getCurrentPriorityLevel,Xu=it.unstable_ImmediatePriority,xp=it.unstable_UserBlockingPriority,co=it.unstable_NormalPriority,Dy=it.unstable_LowPriority,kp=it.unstable_IdlePriority,qo=null,jt=null;function Oy(e){if(jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(qo,e,void 0,(e.current.flags&128)===128)}catch{}}var Pt=Math.clz32?Math.clz32:Ry,Ty=Math.log,Iy=Math.LN2;function Ry(e){return e>>>=0,e===0?32:31-(Ty(e)/Iy|0)|0}var xa=64,ka=4194304;function ui(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function fo(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,o=r&268435455;if(o!==0){var s=o&~i;s!==0?n=ui(s):(a&=o,a!==0&&(n=ui(a)))}else o=r&~i,o!==0?n=ui(o):a!==0&&(n=ui(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Pt(t),i=1<<r,n|=e[r],t&=~i;return n}function Ay(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ny(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-Pt(a),s=1<<o,l=i[o];l===-1?(!(s&r)||s&n)&&(i[o]=Ay(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}}function Vl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Cp(){var e=xa;return xa<<=1,!(xa&4194240)&&(xa=64),e}function zs(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ra(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Pt(t),e[t]=r}function jy(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-Pt(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}function Zu(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Pt(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var Y=0;function Pp(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Dp,ec,Op,Tp,Ip,ql=!1,Ca=[],lr=null,ur=null,cr=null,Di=new Map,Oi=new Map,nr=[],Ly="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dd(e,t){switch(e){case"focusin":case"focusout":lr=null;break;case"dragenter":case"dragleave":ur=null;break;case"mouseover":case"mouseout":cr=null;break;case"pointerover":case"pointerout":Di.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oi.delete(t.pointerId)}}function Yn(e,t,r,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=ia(t),t!==null&&ec(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function $y(e,t,r,n,i){switch(t){case"focusin":return lr=Yn(lr,e,t,r,n,i),!0;case"dragenter":return ur=Yn(ur,e,t,r,n,i),!0;case"mouseover":return cr=Yn(cr,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return Di.set(a,Yn(Di.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Oi.set(a,Yn(Oi.get(a)||null,e,t,r,n,i)),!0}return!1}function Rp(e){var t=Lr(e.target);if(t!==null){var r=Yr(t);if(r!==null){if(t=r.tag,t===13){if(t=bp(r),t!==null){e.blockedOn=t,Ip(e.priority,function(){Op(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ja(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Kl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Wl=n,r.target.dispatchEvent(n),Wl=null}else return t=ia(r),t!==null&&ec(t),e.blockedOn=r,!1;t.shift()}return!0}function Od(e,t,r){Ja(e)&&r.delete(t)}function My(){ql=!1,lr!==null&&Ja(lr)&&(lr=null),ur!==null&&Ja(ur)&&(ur=null),cr!==null&&Ja(cr)&&(cr=null),Di.forEach(Od),Oi.forEach(Od)}function Jn(e,t){e.blockedOn===t&&(e.blockedOn=null,ql||(ql=!0,it.unstable_scheduleCallback(it.unstable_NormalPriority,My)))}function Ti(e){function t(i){return Jn(i,e)}if(0<Ca.length){Jn(Ca[0],e);for(var r=1;r<Ca.length;r++){var n=Ca[r];n.blockedOn===e&&(n.blockedOn=null)}}for(lr!==null&&Jn(lr,e),ur!==null&&Jn(ur,e),cr!==null&&Jn(cr,e),Di.forEach(t),Oi.forEach(t),r=0;r<nr.length;r++)n=nr[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<nr.length&&(r=nr[0],r.blockedOn===null);)Rp(r),r.blockedOn===null&&nr.shift()}var kn=Jt.ReactCurrentBatchConfig,ho=!0;function By(e,t,r,n){var i=Y,a=kn.transition;kn.transition=null;try{Y=1,tc(e,t,r,n)}finally{Y=i,kn.transition=a}}function Uy(e,t,r,n){var i=Y,a=kn.transition;kn.transition=null;try{Y=4,tc(e,t,r,n)}finally{Y=i,kn.transition=a}}function tc(e,t,r,n){if(ho){var i=Kl(e,t,r,n);if(i===null)Zs(e,t,n,po,r),Dd(e,n);else if($y(i,e,t,r,n))n.stopPropagation();else if(Dd(e,n),t&4&&-1<Ly.indexOf(e)){for(;i!==null;){var a=ia(i);if(a!==null&&Dp(a),a=Kl(e,t,r,n),a===null&&Zs(e,t,n,po,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else Zs(e,t,n,null,r)}}var po=null;function Kl(e,t,r,n){if(po=null,e=Qu(n),e=Lr(e),e!==null)if(t=Yr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=bp(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return po=e,null}function Ap(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Py()){case Xu:return 1;case xp:return 4;case co:case Dy:return 16;case kp:return 536870912;default:return 16}default:return 16}}var or=null,rc=null,Qa=null;function Np(){if(Qa)return Qa;var e,t=rc,r=t.length,n,i="value"in or?or.value:or.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===i[a-n];n++);return Qa=i.slice(e,1<n?1-n:void 0)}function Xa(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Pa(){return!0}function Td(){return!1}function ot(e){function t(r,n,i,a,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(r=e[s],this[s]=r?r(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Pa:Td,this.isPropagationStopped=Td,this}return se(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Pa)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Pa)},persist:function(){},isPersistent:Pa}),t}var Un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nc=ot(Un),na=se({},Un,{view:0,detail:0}),Fy=ot(na),Hs,Gs,Qn,Ko=se({},na,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ic,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qn&&(Qn&&e.type==="mousemove"?(Hs=e.screenX-Qn.screenX,Gs=e.screenY-Qn.screenY):Gs=Hs=0,Qn=e),Hs)},movementY:function(e){return"movementY"in e?e.movementY:Gs}}),Id=ot(Ko),Wy=se({},Ko,{dataTransfer:0}),zy=ot(Wy),Hy=se({},na,{relatedTarget:0}),Vs=ot(Hy),Gy=se({},Un,{animationName:0,elapsedTime:0,pseudoElement:0}),Vy=ot(Gy),qy=se({},Un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ky=ot(qy),Yy=se({},Un,{data:0}),Rd=ot(Yy),Jy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zy(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Xy[e])?!!t[e]:!1}function ic(){return Zy}var ew=se({},na,{key:function(e){if(e.key){var t=Jy[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Xa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Qy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ic,charCode:function(e){return e.type==="keypress"?Xa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Xa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),tw=ot(ew),rw=se({},Ko,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ad=ot(rw),nw=se({},na,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ic}),iw=ot(nw),aw=se({},Un,{propertyName:0,elapsedTime:0,pseudoElement:0}),ow=ot(aw),sw=se({},Ko,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),lw=ot(sw),uw=[9,13,27,32],ac=Vt&&"CompositionEvent"in window,pi=null;Vt&&"documentMode"in document&&(pi=document.documentMode);var cw=Vt&&"TextEvent"in window&&!pi,jp=Vt&&(!ac||pi&&8<pi&&11>=pi),Nd=" ",jd=!1;function Lp(e,t){switch(e){case"keyup":return uw.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $p(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var dn=!1;function dw(e,t){switch(e){case"compositionend":return $p(t);case"keypress":return t.which!==32?null:(jd=!0,Nd);case"textInput":return e=t.data,e===Nd&&jd?null:e;default:return null}}function fw(e,t){if(dn)return e==="compositionend"||!ac&&Lp(e,t)?(e=Np(),Qa=rc=or=null,dn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jp&&t.locale!=="ko"?null:t.data;default:return null}}var hw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ld(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!hw[e.type]:t==="textarea"}function Mp(e,t,r,n){vp(n),t=vo(t,"onChange"),0<t.length&&(r=new nc("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var vi=null,Ii=null;function pw(e){Yp(e,0)}function Yo(e){var t=pn(e);if(lp(t))return e}function vw(e,t){if(e==="change")return t}var Bp=!1;if(Vt){var qs;if(Vt){var Ks="oninput"in document;if(!Ks){var $d=document.createElement("div");$d.setAttribute("oninput","return;"),Ks=typeof $d.oninput=="function"}qs=Ks}else qs=!1;Bp=qs&&(!document.documentMode||9<document.documentMode)}function Md(){vi&&(vi.detachEvent("onpropertychange",Up),Ii=vi=null)}function Up(e){if(e.propertyName==="value"&&Yo(Ii)){var t=[];Mp(t,Ii,e,Qu(e)),wp(pw,t)}}function gw(e,t,r){e==="focusin"?(Md(),vi=t,Ii=r,vi.attachEvent("onpropertychange",Up)):e==="focusout"&&Md()}function mw(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Yo(Ii)}function yw(e,t){if(e==="click")return Yo(t)}function ww(e,t){if(e==="input"||e==="change")return Yo(t)}function bw(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ot=typeof Object.is=="function"?Object.is:bw;function Ri(e,t){if(Ot(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Tl.call(t,i)||!Ot(e[i],t[i]))return!1}return!0}function Bd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ud(e,t){var r=Bd(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Bd(r)}}function Fp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Fp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Wp(){for(var e=window,t=so();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=so(e.document)}return t}function oc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Sw(e){var t=Wp(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Fp(r.ownerDocument.documentElement,r)){if(n!==null&&oc(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=Ud(r,a);var o=Ud(r,n);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var _w=Vt&&"documentMode"in document&&11>=document.documentMode,fn=null,Yl=null,gi=null,Jl=!1;function Fd(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Jl||fn==null||fn!==so(n)||(n=fn,"selectionStart"in n&&oc(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),gi&&Ri(gi,n)||(gi=n,n=vo(Yl,"onSelect"),0<n.length&&(t=new nc("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=fn)))}function Da(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var hn={animationend:Da("Animation","AnimationEnd"),animationiteration:Da("Animation","AnimationIteration"),animationstart:Da("Animation","AnimationStart"),transitionend:Da("Transition","TransitionEnd")},Ys={},zp={};Vt&&(zp=document.createElement("div").style,"AnimationEvent"in window||(delete hn.animationend.animation,delete hn.animationiteration.animation,delete hn.animationstart.animation),"TransitionEvent"in window||delete hn.transitionend.transition);function Jo(e){if(Ys[e])return Ys[e];if(!hn[e])return e;var t=hn[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in zp)return Ys[e]=t[r];return e}var Hp=Jo("animationend"),Gp=Jo("animationiteration"),Vp=Jo("animationstart"),qp=Jo("transitionend"),Kp=new Map,Wd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _r(e,t){Kp.set(e,t),Kr(t,[e])}for(var Js=0;Js<Wd.length;Js++){var Qs=Wd[Js],Ew=Qs.toLowerCase(),xw=Qs[0].toUpperCase()+Qs.slice(1);_r(Ew,"on"+xw)}_r(Hp,"onAnimationEnd");_r(Gp,"onAnimationIteration");_r(Vp,"onAnimationStart");_r("dblclick","onDoubleClick");_r("focusin","onFocus");_r("focusout","onBlur");_r(qp,"onTransitionEnd");On("onMouseEnter",["mouseout","mouseover"]);On("onMouseLeave",["mouseout","mouseover"]);On("onPointerEnter",["pointerout","pointerover"]);On("onPointerLeave",["pointerout","pointerover"]);Kr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Kr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Kr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Kr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Kr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Kr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ci="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kw=new Set("cancel close invalid load scroll toggle".split(" ").concat(ci));function zd(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Ey(n,t,void 0,e),e.currentTarget=null}function Yp(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var o=n.length-1;0<=o;o--){var s=n[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;zd(i,s,u),a=l}else for(o=0;o<n.length;o++){if(s=n[o],l=s.instance,u=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;zd(i,s,u),a=l}}}if(uo)throw e=Gl,uo=!1,Gl=null,e}function te(e,t){var r=t[tu];r===void 0&&(r=t[tu]=new Set);var n=e+"__bubble";r.has(n)||(Jp(t,e,2,!1),r.add(n))}function Xs(e,t,r){var n=0;t&&(n|=4),Jp(r,e,n,t)}var Oa="_reactListening"+Math.random().toString(36).slice(2);function Ai(e){if(!e[Oa]){e[Oa]=!0,np.forEach(function(r){r!=="selectionchange"&&(kw.has(r)||Xs(r,!1,e),Xs(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Oa]||(t[Oa]=!0,Xs("selectionchange",!1,t))}}function Jp(e,t,r,n){switch(Ap(t)){case 1:var i=By;break;case 4:i=Uy;break;default:i=tc}r=i.bind(null,t,r,e),i=void 0,!Hl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Zs(e,t,r,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var s=n.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;s!==null;){if(o=Lr(s),o===null)return;if(l=o.tag,l===5||l===6){n=a=o;continue e}s=s.parentNode}}n=n.return}wp(function(){var u=a,c=Qu(r),f=[];e:{var d=Kp.get(e);if(d!==void 0){var h=nc,p=e;switch(e){case"keypress":if(Xa(r)===0)break e;case"keydown":case"keyup":h=tw;break;case"focusin":p="focus",h=Vs;break;case"focusout":p="blur",h=Vs;break;case"beforeblur":case"afterblur":h=Vs;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=Id;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=zy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=iw;break;case Hp:case Gp:case Vp:h=Vy;break;case qp:h=ow;break;case"scroll":h=Fy;break;case"wheel":h=lw;break;case"copy":case"cut":case"paste":h=Ky;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Ad}var m=(t&4)!==0,w=!m&&e==="scroll",g=m?d!==null?d+"Capture":null:d;m=[];for(var v=u,y;v!==null;){y=v;var b=y.stateNode;if(y.tag===5&&b!==null&&(y=b,g!==null&&(b=Pi(v,g),b!=null&&m.push(Ni(v,b,y)))),w)break;v=v.return}0<m.length&&(d=new h(d,p,null,r,c),f.push({event:d,listeners:m}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",d&&r!==Wl&&(p=r.relatedTarget||r.fromElement)&&(Lr(p)||p[qt]))break e;if((h||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,h?(p=r.relatedTarget||r.toElement,h=u,p=p?Lr(p):null,p!==null&&(w=Yr(p),p!==w||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=u),h!==p)){if(m=Id,b="onMouseLeave",g="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(m=Ad,b="onPointerLeave",g="onPointerEnter",v="pointer"),w=h==null?d:pn(h),y=p==null?d:pn(p),d=new m(b,v+"leave",h,r,c),d.target=w,d.relatedTarget=y,b=null,Lr(c)===u&&(m=new m(g,v+"enter",p,r,c),m.target=y,m.relatedTarget=w,b=m),w=b,h&&p)t:{for(m=h,g=p,v=0,y=m;y;y=Qr(y))v++;for(y=0,b=g;b;b=Qr(b))y++;for(;0<v-y;)m=Qr(m),v--;for(;0<y-v;)g=Qr(g),y--;for(;v--;){if(m===g||g!==null&&m===g.alternate)break t;m=Qr(m),g=Qr(g)}m=null}else m=null;h!==null&&Hd(f,d,h,m,!1),p!==null&&w!==null&&Hd(f,w,p,m,!0)}}e:{if(d=u?pn(u):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var E=vw;else if(Ld(d))if(Bp)E=ww;else{E=mw;var _=gw}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(E=yw);if(E&&(E=E(e,u))){Mp(f,E,r,c);break e}_&&_(e,d,u),e==="focusout"&&(_=d._wrapperState)&&_.controlled&&d.type==="number"&&$l(d,"number",d.value)}switch(_=u?pn(u):window,e){case"focusin":(Ld(_)||_.contentEditable==="true")&&(fn=_,Yl=u,gi=null);break;case"focusout":gi=Yl=fn=null;break;case"mousedown":Jl=!0;break;case"contextmenu":case"mouseup":case"dragend":Jl=!1,Fd(f,r,c);break;case"selectionchange":if(_w)break;case"keydown":case"keyup":Fd(f,r,c)}var x;if(ac)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else dn?Lp(e,r)&&(C="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(jp&&r.locale!=="ko"&&(dn||C!=="onCompositionStart"?C==="onCompositionEnd"&&dn&&(x=Np()):(or=c,rc="value"in or?or.value:or.textContent,dn=!0)),_=vo(u,C),0<_.length&&(C=new Rd(C,e,null,r,c),f.push({event:C,listeners:_}),x?C.data=x:(x=$p(r),x!==null&&(C.data=x)))),(x=cw?dw(e,r):fw(e,r))&&(u=vo(u,"onBeforeInput"),0<u.length&&(c=new Rd("onBeforeInput","beforeinput",null,r,c),f.push({event:c,listeners:u}),c.data=x))}Yp(f,t)})}function Ni(e,t,r){return{instance:e,listener:t,currentTarget:r}}function vo(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Pi(e,r),a!=null&&n.unshift(Ni(e,a,i)),a=Pi(e,t),a!=null&&n.push(Ni(e,a,i))),e=e.return}return n}function Qr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Hd(e,t,r,n,i){for(var a=t._reactName,o=[];r!==null&&r!==n;){var s=r,l=s.alternate,u=s.stateNode;if(l!==null&&l===n)break;s.tag===5&&u!==null&&(s=u,i?(l=Pi(r,a),l!=null&&o.unshift(Ni(r,l,s))):i||(l=Pi(r,a),l!=null&&o.push(Ni(r,l,s)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var Cw=/\r\n?/g,Pw=/\u0000|\uFFFD/g;function Gd(e){return(typeof e=="string"?e:""+e).replace(Cw,`
`).replace(Pw,"")}function Ta(e,t,r){if(t=Gd(t),Gd(e)!==t&&r)throw Error(k(425))}function go(){}var Ql=null,Xl=null;function Zl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var eu=typeof setTimeout=="function"?setTimeout:void 0,Dw=typeof clearTimeout=="function"?clearTimeout:void 0,Vd=typeof Promise=="function"?Promise:void 0,Ow=typeof queueMicrotask=="function"?queueMicrotask:typeof Vd<"u"?function(e){return Vd.resolve(null).then(e).catch(Tw)}:eu;function Tw(e){setTimeout(function(){throw e})}function el(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),Ti(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Ti(t)}function dr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function qd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Fn=Math.random().toString(36).slice(2),Nt="__reactFiber$"+Fn,ji="__reactProps$"+Fn,qt="__reactContainer$"+Fn,tu="__reactEvents$"+Fn,Iw="__reactListeners$"+Fn,Rw="__reactHandles$"+Fn;function Lr(e){var t=e[Nt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[qt]||r[Nt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=qd(e);e!==null;){if(r=e[Nt])return r;e=qd(e)}return t}e=r,r=e.parentNode}return null}function ia(e){return e=e[Nt]||e[qt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function pn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(k(33))}function Qo(e){return e[ji]||null}var ru=[],vn=-1;function Er(e){return{current:e}}function re(e){0>vn||(e.current=ru[vn],ru[vn]=null,vn--)}function ee(e,t){vn++,ru[vn]=e.current,e.current=t}var br={},Le=Er(br),Ve=Er(!1),Wr=br;function Tn(e,t){var r=e.type.contextTypes;if(!r)return br;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function qe(e){return e=e.childContextTypes,e!=null}function mo(){re(Ve),re(Le)}function Kd(e,t,r){if(Le.current!==br)throw Error(k(168));ee(Le,t),ee(Ve,r)}function Qp(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(k(108,gy(e)||"Unknown",i));return se({},r,n)}function yo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||br,Wr=Le.current,ee(Le,e),ee(Ve,Ve.current),!0}function Yd(e,t,r){var n=e.stateNode;if(!n)throw Error(k(169));r?(e=Qp(e,t,Wr),n.__reactInternalMemoizedMergedChildContext=e,re(Ve),re(Le),ee(Le,e)):re(Ve),ee(Ve,r)}var Ft=null,Xo=!1,tl=!1;function Xp(e){Ft===null?Ft=[e]:Ft.push(e)}function Aw(e){Xo=!0,Xp(e)}function xr(){if(!tl&&Ft!==null){tl=!0;var e=0,t=Y;try{var r=Ft;for(Y=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Ft=null,Xo=!1}catch(i){throw Ft!==null&&(Ft=Ft.slice(e+1)),Ep(Xu,xr),i}finally{Y=t,tl=!1}}return null}var gn=[],mn=0,wo=null,bo=0,dt=[],ft=0,zr=null,Wt=1,zt="";function Or(e,t){gn[mn++]=bo,gn[mn++]=wo,wo=e,bo=t}function Zp(e,t,r){dt[ft++]=Wt,dt[ft++]=zt,dt[ft++]=zr,zr=e;var n=Wt;e=zt;var i=32-Pt(n)-1;n&=~(1<<i),r+=1;var a=32-Pt(t)+i;if(30<a){var o=i-i%5;a=(n&(1<<o)-1).toString(32),n>>=o,i-=o,Wt=1<<32-Pt(t)+i|r<<i|n,zt=a+e}else Wt=1<<a|r<<i|n,zt=e}function sc(e){e.return!==null&&(Or(e,1),Zp(e,1,0))}function lc(e){for(;e===wo;)wo=gn[--mn],gn[mn]=null,bo=gn[--mn],gn[mn]=null;for(;e===zr;)zr=dt[--ft],dt[ft]=null,zt=dt[--ft],dt[ft]=null,Wt=dt[--ft],dt[ft]=null}var tt=null,Ze=null,ne=!1,kt=null;function ev(e,t){var r=ht(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Jd(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,tt=e,Ze=dr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,tt=e,Ze=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=zr!==null?{id:Wt,overflow:zt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=ht(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,tt=e,Ze=null,!0):!1;default:return!1}}function nu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function iu(e){if(ne){var t=Ze;if(t){var r=t;if(!Jd(e,t)){if(nu(e))throw Error(k(418));t=dr(r.nextSibling);var n=tt;t&&Jd(e,t)?ev(n,r):(e.flags=e.flags&-4097|2,ne=!1,tt=e)}}else{if(nu(e))throw Error(k(418));e.flags=e.flags&-4097|2,ne=!1,tt=e}}}function Qd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;tt=e}function Ia(e){if(e!==tt)return!1;if(!ne)return Qd(e),ne=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Zl(e.type,e.memoizedProps)),t&&(t=Ze)){if(nu(e))throw tv(),Error(k(418));for(;t;)ev(e,t),t=dr(t.nextSibling)}if(Qd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(k(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Ze=dr(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Ze=null}}else Ze=tt?dr(e.stateNode.nextSibling):null;return!0}function tv(){for(var e=Ze;e;)e=dr(e.nextSibling)}function In(){Ze=tt=null,ne=!1}function uc(e){kt===null?kt=[e]:kt.push(e)}var Nw=Jt.ReactCurrentBatchConfig;function Xn(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(k(309));var n=r.stateNode}if(!n)throw Error(k(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var s=i.refs;o===null?delete s[a]:s[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(k(284));if(!r._owner)throw Error(k(290,e))}return e}function Ra(e,t){throw e=Object.prototype.toString.call(t),Error(k(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Xd(e){var t=e._init;return t(e._payload)}function rv(e){function t(g,v){if(e){var y=g.deletions;y===null?(g.deletions=[v],g.flags|=16):y.push(v)}}function r(g,v){if(!e)return null;for(;v!==null;)t(g,v),v=v.sibling;return null}function n(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function i(g,v){return g=vr(g,v),g.index=0,g.sibling=null,g}function a(g,v,y){return g.index=y,e?(y=g.alternate,y!==null?(y=y.index,y<v?(g.flags|=2,v):y):(g.flags|=2,v)):(g.flags|=1048576,v)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function s(g,v,y,b){return v===null||v.tag!==6?(v=ll(y,g.mode,b),v.return=g,v):(v=i(v,y),v.return=g,v)}function l(g,v,y,b){var E=y.type;return E===cn?c(g,v,y.props.children,b,y.key):v!==null&&(v.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===er&&Xd(E)===v.type)?(b=i(v,y.props),b.ref=Xn(g,v,y),b.return=g,b):(b=ao(y.type,y.key,y.props,null,g.mode,b),b.ref=Xn(g,v,y),b.return=g,b)}function u(g,v,y,b){return v===null||v.tag!==4||v.stateNode.containerInfo!==y.containerInfo||v.stateNode.implementation!==y.implementation?(v=ul(y,g.mode,b),v.return=g,v):(v=i(v,y.children||[]),v.return=g,v)}function c(g,v,y,b,E){return v===null||v.tag!==7?(v=Fr(y,g.mode,b,E),v.return=g,v):(v=i(v,y),v.return=g,v)}function f(g,v,y){if(typeof v=="string"&&v!==""||typeof v=="number")return v=ll(""+v,g.mode,y),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Sa:return y=ao(v.type,v.key,v.props,null,g.mode,y),y.ref=Xn(g,null,v),y.return=g,y;case un:return v=ul(v,g.mode,y),v.return=g,v;case er:var b=v._init;return f(g,b(v._payload),y)}if(li(v)||qn(v))return v=Fr(v,g.mode,y,null),v.return=g,v;Ra(g,v)}return null}function d(g,v,y,b){var E=v!==null?v.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return E!==null?null:s(g,v,""+y,b);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Sa:return y.key===E?l(g,v,y,b):null;case un:return y.key===E?u(g,v,y,b):null;case er:return E=y._init,d(g,v,E(y._payload),b)}if(li(y)||qn(y))return E!==null?null:c(g,v,y,b,null);Ra(g,y)}return null}function h(g,v,y,b,E){if(typeof b=="string"&&b!==""||typeof b=="number")return g=g.get(y)||null,s(v,g,""+b,E);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Sa:return g=g.get(b.key===null?y:b.key)||null,l(v,g,b,E);case un:return g=g.get(b.key===null?y:b.key)||null,u(v,g,b,E);case er:var _=b._init;return h(g,v,y,_(b._payload),E)}if(li(b)||qn(b))return g=g.get(y)||null,c(v,g,b,E,null);Ra(v,b)}return null}function p(g,v,y,b){for(var E=null,_=null,x=v,C=v=0,I=null;x!==null&&C<y.length;C++){x.index>C?(I=x,x=null):I=x.sibling;var A=d(g,x,y[C],b);if(A===null){x===null&&(x=I);break}e&&x&&A.alternate===null&&t(g,x),v=a(A,v,C),_===null?E=A:_.sibling=A,_=A,x=I}if(C===y.length)return r(g,x),ne&&Or(g,C),E;if(x===null){for(;C<y.length;C++)x=f(g,y[C],b),x!==null&&(v=a(x,v,C),_===null?E=x:_.sibling=x,_=x);return ne&&Or(g,C),E}for(x=n(g,x);C<y.length;C++)I=h(x,g,C,y[C],b),I!==null&&(e&&I.alternate!==null&&x.delete(I.key===null?C:I.key),v=a(I,v,C),_===null?E=I:_.sibling=I,_=I);return e&&x.forEach(function(F){return t(g,F)}),ne&&Or(g,C),E}function m(g,v,y,b){var E=qn(y);if(typeof E!="function")throw Error(k(150));if(y=E.call(y),y==null)throw Error(k(151));for(var _=E=null,x=v,C=v=0,I=null,A=y.next();x!==null&&!A.done;C++,A=y.next()){x.index>C?(I=x,x=null):I=x.sibling;var F=d(g,x,A.value,b);if(F===null){x===null&&(x=I);break}e&&x&&F.alternate===null&&t(g,x),v=a(F,v,C),_===null?E=F:_.sibling=F,_=F,x=I}if(A.done)return r(g,x),ne&&Or(g,C),E;if(x===null){for(;!A.done;C++,A=y.next())A=f(g,A.value,b),A!==null&&(v=a(A,v,C),_===null?E=A:_.sibling=A,_=A);return ne&&Or(g,C),E}for(x=n(g,x);!A.done;C++,A=y.next())A=h(x,g,C,A.value,b),A!==null&&(e&&A.alternate!==null&&x.delete(A.key===null?C:A.key),v=a(A,v,C),_===null?E=A:_.sibling=A,_=A);return e&&x.forEach(function(le){return t(g,le)}),ne&&Or(g,C),E}function w(g,v,y,b){if(typeof y=="object"&&y!==null&&y.type===cn&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Sa:e:{for(var E=y.key,_=v;_!==null;){if(_.key===E){if(E=y.type,E===cn){if(_.tag===7){r(g,_.sibling),v=i(_,y.props.children),v.return=g,g=v;break e}}else if(_.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===er&&Xd(E)===_.type){r(g,_.sibling),v=i(_,y.props),v.ref=Xn(g,_,y),v.return=g,g=v;break e}r(g,_);break}else t(g,_);_=_.sibling}y.type===cn?(v=Fr(y.props.children,g.mode,b,y.key),v.return=g,g=v):(b=ao(y.type,y.key,y.props,null,g.mode,b),b.ref=Xn(g,v,y),b.return=g,g=b)}return o(g);case un:e:{for(_=y.key;v!==null;){if(v.key===_)if(v.tag===4&&v.stateNode.containerInfo===y.containerInfo&&v.stateNode.implementation===y.implementation){r(g,v.sibling),v=i(v,y.children||[]),v.return=g,g=v;break e}else{r(g,v);break}else t(g,v);v=v.sibling}v=ul(y,g.mode,b),v.return=g,g=v}return o(g);case er:return _=y._init,w(g,v,_(y._payload),b)}if(li(y))return p(g,v,y,b);if(qn(y))return m(g,v,y,b);Ra(g,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,v!==null&&v.tag===6?(r(g,v.sibling),v=i(v,y),v.return=g,g=v):(r(g,v),v=ll(y,g.mode,b),v.return=g,g=v),o(g)):r(g,v)}return w}var Rn=rv(!0),nv=rv(!1),So=Er(null),_o=null,yn=null,cc=null;function dc(){cc=yn=_o=null}function fc(e){var t=So.current;re(So),e._currentValue=t}function au(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Cn(e,t){_o=e,cc=yn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ge=!0),e.firstContext=null)}function mt(e){var t=e._currentValue;if(cc!==e)if(e={context:e,memoizedValue:t,next:null},yn===null){if(_o===null)throw Error(k(308));yn=e,_o.dependencies={lanes:0,firstContext:e}}else yn=yn.next=e;return t}var $r=null;function hc(e){$r===null?$r=[e]:$r.push(e)}function iv(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,hc(t)):(r.next=i.next,i.next=r),t.interleaved=r,Kt(e,n)}function Kt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var tr=!1;function pc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function av(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Gt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fr(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,V&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Kt(e,r)}return i=n.interleaved,i===null?(t.next=t,hc(n)):(t.next=i.next,i.next=t),n.interleaved=t,Kt(e,r)}function Za(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Zu(e,r)}}function Zd(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Eo(e,t,r,n){var i=e.updateQueue;tr=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,o===null?a=u:o.next=u,o=l;var c=e.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==o&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;o=0,c=u=l=null,s=a;do{var d=s.lane,h=s.eventTime;if((n&d)===d){c!==null&&(c=c.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,m=s;switch(d=t,h=r,m.tag){case 1:if(p=m.payload,typeof p=="function"){f=p.call(h,f,d);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,d=typeof p=="function"?p.call(h,f,d):p,d==null)break e;f=se({},f,d);break e;case 2:tr=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,d=i.effects,d===null?i.effects=[s]:d.push(s))}else h={eventTime:h,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=h,l=f):c=c.next=h,o|=d;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;d=s,s=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);Gr|=o,e.lanes=o,e.memoizedState=f}}function ef(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(k(191,i));i.call(n)}}}var aa={},Lt=Er(aa),Li=Er(aa),$i=Er(aa);function Mr(e){if(e===aa)throw Error(k(174));return e}function vc(e,t){switch(ee($i,t),ee(Li,e),ee(Lt,aa),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Bl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Bl(t,e)}re(Lt),ee(Lt,t)}function An(){re(Lt),re(Li),re($i)}function ov(e){Mr($i.current);var t=Mr(Lt.current),r=Bl(t,e.type);t!==r&&(ee(Li,e),ee(Lt,r))}function gc(e){Li.current===e&&(re(Lt),re(Li))}var ae=Er(0);function xo(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var rl=[];function mc(){for(var e=0;e<rl.length;e++)rl[e]._workInProgressVersionPrimary=null;rl.length=0}var eo=Jt.ReactCurrentDispatcher,nl=Jt.ReactCurrentBatchConfig,Hr=0,oe=null,me=null,we=null,ko=!1,mi=!1,Mi=0,jw=0;function Ae(){throw Error(k(321))}function yc(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Ot(e[r],t[r]))return!1;return!0}function wc(e,t,r,n,i,a){if(Hr=a,oe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,eo.current=e===null||e.memoizedState===null?Bw:Uw,e=r(n,i),mi){a=0;do{if(mi=!1,Mi=0,25<=a)throw Error(k(301));a+=1,we=me=null,t.updateQueue=null,eo.current=Fw,e=r(n,i)}while(mi)}if(eo.current=Co,t=me!==null&&me.next!==null,Hr=0,we=me=oe=null,ko=!1,t)throw Error(k(300));return e}function bc(){var e=Mi!==0;return Mi=0,e}function At(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return we===null?oe.memoizedState=we=e:we=we.next=e,we}function yt(){if(me===null){var e=oe.alternate;e=e!==null?e.memoizedState:null}else e=me.next;var t=we===null?oe.memoizedState:we.next;if(t!==null)we=t,me=e;else{if(e===null)throw Error(k(310));me=e,e={memoizedState:me.memoizedState,baseState:me.baseState,baseQueue:me.baseQueue,queue:me.queue,next:null},we===null?oe.memoizedState=we=e:we=we.next=e}return we}function Bi(e,t){return typeof t=="function"?t(e):t}function il(e){var t=yt(),r=t.queue;if(r===null)throw Error(k(311));r.lastRenderedReducer=e;var n=me,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var s=o=null,l=null,u=a;do{var c=u.lane;if((Hr&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=f,o=n):l=l.next=f,oe.lanes|=c,Gr|=c}u=u.next}while(u!==null&&u!==a);l===null?o=n:l.next=s,Ot(n,t.memoizedState)||(Ge=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do a=i.lane,oe.lanes|=a,Gr|=a,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function al(e){var t=yt(),r=t.queue;if(r===null)throw Error(k(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);Ot(a,t.memoizedState)||(Ge=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function sv(){}function lv(e,t){var r=oe,n=yt(),i=t(),a=!Ot(n.memoizedState,i);if(a&&(n.memoizedState=i,Ge=!0),n=n.queue,Sc(dv.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||we!==null&&we.memoizedState.tag&1){if(r.flags|=2048,Ui(9,cv.bind(null,r,n,i,t),void 0,null),be===null)throw Error(k(349));Hr&30||uv(r,t,i)}return i}function uv(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=oe.updateQueue,t===null?(t={lastEffect:null,stores:null},oe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function cv(e,t,r,n){t.value=r,t.getSnapshot=n,fv(t)&&hv(e)}function dv(e,t,r){return r(function(){fv(t)&&hv(e)})}function fv(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ot(e,r)}catch{return!0}}function hv(e){var t=Kt(e,1);t!==null&&Dt(t,e,1,-1)}function tf(e){var t=At();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:e},t.queue=e,e=e.dispatch=Mw.bind(null,oe,e),[t.memoizedState,e]}function Ui(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=oe.updateQueue,t===null?(t={lastEffect:null,stores:null},oe.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function pv(){return yt().memoizedState}function to(e,t,r,n){var i=At();oe.flags|=e,i.memoizedState=Ui(1|t,r,void 0,n===void 0?null:n)}function Zo(e,t,r,n){var i=yt();n=n===void 0?null:n;var a=void 0;if(me!==null){var o=me.memoizedState;if(a=o.destroy,n!==null&&yc(n,o.deps)){i.memoizedState=Ui(t,r,a,n);return}}oe.flags|=e,i.memoizedState=Ui(1|t,r,a,n)}function rf(e,t){return to(8390656,8,e,t)}function Sc(e,t){return Zo(2048,8,e,t)}function vv(e,t){return Zo(4,2,e,t)}function gv(e,t){return Zo(4,4,e,t)}function mv(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function yv(e,t,r){return r=r!=null?r.concat([e]):null,Zo(4,4,mv.bind(null,t,e),r)}function _c(){}function wv(e,t){var r=yt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&yc(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function bv(e,t){var r=yt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&yc(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Sv(e,t,r){return Hr&21?(Ot(r,t)||(r=Cp(),oe.lanes|=r,Gr|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ge=!0),e.memoizedState=r)}function Lw(e,t){var r=Y;Y=r!==0&&4>r?r:4,e(!0);var n=nl.transition;nl.transition={};try{e(!1),t()}finally{Y=r,nl.transition=n}}function _v(){return yt().memoizedState}function $w(e,t,r){var n=pr(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Ev(e))xv(t,r);else if(r=iv(e,t,r,n),r!==null){var i=Ue();Dt(r,e,n,i),kv(r,t,n)}}function Mw(e,t,r){var n=pr(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ev(e))xv(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,s=a(o,r);if(i.hasEagerState=!0,i.eagerState=s,Ot(s,o)){var l=t.interleaved;l===null?(i.next=i,hc(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}r=iv(e,t,i,n),r!==null&&(i=Ue(),Dt(r,e,n,i),kv(r,t,n))}}function Ev(e){var t=e.alternate;return e===oe||t!==null&&t===oe}function xv(e,t){mi=ko=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function kv(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Zu(e,r)}}var Co={readContext:mt,useCallback:Ae,useContext:Ae,useEffect:Ae,useImperativeHandle:Ae,useInsertionEffect:Ae,useLayoutEffect:Ae,useMemo:Ae,useReducer:Ae,useRef:Ae,useState:Ae,useDebugValue:Ae,useDeferredValue:Ae,useTransition:Ae,useMutableSource:Ae,useSyncExternalStore:Ae,useId:Ae,unstable_isNewReconciler:!1},Bw={readContext:mt,useCallback:function(e,t){return At().memoizedState=[e,t===void 0?null:t],e},useContext:mt,useEffect:rf,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,to(4194308,4,mv.bind(null,t,e),r)},useLayoutEffect:function(e,t){return to(4194308,4,e,t)},useInsertionEffect:function(e,t){return to(4,2,e,t)},useMemo:function(e,t){var r=At();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=At();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=$w.bind(null,oe,e),[n.memoizedState,e]},useRef:function(e){var t=At();return e={current:e},t.memoizedState=e},useState:tf,useDebugValue:_c,useDeferredValue:function(e){return At().memoizedState=e},useTransition:function(){var e=tf(!1),t=e[0];return e=Lw.bind(null,e[1]),At().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=oe,i=At();if(ne){if(r===void 0)throw Error(k(407));r=r()}else{if(r=t(),be===null)throw Error(k(349));Hr&30||uv(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,rf(dv.bind(null,n,a,e),[e]),n.flags|=2048,Ui(9,cv.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=At(),t=be.identifierPrefix;if(ne){var r=zt,n=Wt;r=(n&~(1<<32-Pt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Mi++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=jw++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Uw={readContext:mt,useCallback:wv,useContext:mt,useEffect:Sc,useImperativeHandle:yv,useInsertionEffect:vv,useLayoutEffect:gv,useMemo:bv,useReducer:il,useRef:pv,useState:function(){return il(Bi)},useDebugValue:_c,useDeferredValue:function(e){var t=yt();return Sv(t,me.memoizedState,e)},useTransition:function(){var e=il(Bi)[0],t=yt().memoizedState;return[e,t]},useMutableSource:sv,useSyncExternalStore:lv,useId:_v,unstable_isNewReconciler:!1},Fw={readContext:mt,useCallback:wv,useContext:mt,useEffect:Sc,useImperativeHandle:yv,useInsertionEffect:vv,useLayoutEffect:gv,useMemo:bv,useReducer:al,useRef:pv,useState:function(){return al(Bi)},useDebugValue:_c,useDeferredValue:function(e){var t=yt();return me===null?t.memoizedState=e:Sv(t,me.memoizedState,e)},useTransition:function(){var e=al(Bi)[0],t=yt().memoizedState;return[e,t]},useMutableSource:sv,useSyncExternalStore:lv,useId:_v,unstable_isNewReconciler:!1};function St(e,t){if(e&&e.defaultProps){t=se({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function ou(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:se({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var es={isMounted:function(e){return(e=e._reactInternals)?Yr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ue(),i=pr(e),a=Gt(n,i);a.payload=t,r!=null&&(a.callback=r),t=fr(e,a,i),t!==null&&(Dt(t,e,i,n),Za(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ue(),i=pr(e),a=Gt(n,i);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=fr(e,a,i),t!==null&&(Dt(t,e,i,n),Za(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ue(),n=pr(e),i=Gt(r,n);i.tag=2,t!=null&&(i.callback=t),t=fr(e,i,n),t!==null&&(Dt(t,e,n,r),Za(t,e,n))}};function nf(e,t,r,n,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,o):t.prototype&&t.prototype.isPureReactComponent?!Ri(r,n)||!Ri(i,a):!0}function Cv(e,t,r){var n=!1,i=br,a=t.contextType;return typeof a=="object"&&a!==null?a=mt(a):(i=qe(t)?Wr:Le.current,n=t.contextTypes,a=(n=n!=null)?Tn(e,i):br),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=es,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function af(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&es.enqueueReplaceState(t,t.state,null)}function su(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},pc(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=mt(a):(a=qe(t)?Wr:Le.current,i.context=Tn(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(ou(e,t,a,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&es.enqueueReplaceState(i,i.state,null),Eo(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Nn(e,t){try{var r="",n=t;do r+=vy(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function ol(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function lu(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Ww=typeof WeakMap=="function"?WeakMap:Map;function Pv(e,t,r){r=Gt(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Do||(Do=!0,yu=n),lu(e,t)},r}function Dv(e,t,r){r=Gt(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){lu(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){lu(e,t),typeof n!="function"&&(hr===null?hr=new Set([this]):hr.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function of(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Ww;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=r0.bind(null,e,t,r),t.then(e,e))}function sf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function lf(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Gt(-1,1),t.tag=2,fr(r,t,1))),r.lanes|=1),e)}var zw=Jt.ReactCurrentOwner,Ge=!1;function Be(e,t,r,n){t.child=e===null?nv(t,null,r,n):Rn(t,e.child,r,n)}function uf(e,t,r,n,i){r=r.render;var a=t.ref;return Cn(t,i),n=wc(e,t,r,n,a,i),r=bc(),e!==null&&!Ge?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Yt(e,t,i)):(ne&&r&&sc(t),t.flags|=1,Be(e,t,n,i),t.child)}function cf(e,t,r,n,i){if(e===null){var a=r.type;return typeof a=="function"&&!Tc(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,Ov(e,t,a,n,i)):(e=ao(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:Ri,r(o,n)&&e.ref===t.ref)return Yt(e,t,i)}return t.flags|=1,e=vr(a,n),e.ref=t.ref,e.return=t,t.child=e}function Ov(e,t,r,n,i){if(e!==null){var a=e.memoizedProps;if(Ri(a,n)&&e.ref===t.ref)if(Ge=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(Ge=!0);else return t.lanes=e.lanes,Yt(e,t,i)}return uu(e,t,r,n,i)}function Tv(e,t,r){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ee(bn,Qe),Qe|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ee(bn,Qe),Qe|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,ee(bn,Qe),Qe|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,ee(bn,Qe),Qe|=n;return Be(e,t,i,r),t.child}function Iv(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function uu(e,t,r,n,i){var a=qe(r)?Wr:Le.current;return a=Tn(t,a),Cn(t,i),r=wc(e,t,r,n,a,i),n=bc(),e!==null&&!Ge?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Yt(e,t,i)):(ne&&n&&sc(t),t.flags|=1,Be(e,t,r,i),t.child)}function df(e,t,r,n,i){if(qe(r)){var a=!0;yo(t)}else a=!1;if(Cn(t,i),t.stateNode===null)ro(e,t),Cv(t,r,n),su(t,r,n,i),n=!0;else if(e===null){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=mt(u):(u=qe(r)?Wr:Le.current,u=Tn(t,u));var c=r.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==n||l!==u)&&af(t,o,n,u),tr=!1;var d=t.memoizedState;o.state=d,Eo(t,n,o,i),l=t.memoizedState,s!==n||d!==l||Ve.current||tr?(typeof c=="function"&&(ou(t,r,c,n),l=t.memoizedState),(s=tr||nf(t,r,s,n,d,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=u,n=s):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,av(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:St(t.type,s),o.props=u,f=t.pendingProps,d=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=mt(l):(l=qe(r)?Wr:Le.current,l=Tn(t,l));var h=r.getDerivedStateFromProps;(c=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==f||d!==l)&&af(t,o,n,l),tr=!1,d=t.memoizedState,o.state=d,Eo(t,n,o,i);var p=t.memoizedState;s!==f||d!==p||Ve.current||tr?(typeof h=="function"&&(ou(t,r,h,n),p=t.memoizedState),(u=tr||nf(t,r,u,n,d,p,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,p,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),o.props=n,o.state=p,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),n=!1)}return cu(e,t,r,n,a,i)}function cu(e,t,r,n,i,a){Iv(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return i&&Yd(t,r,!1),Yt(e,t,a);n=t.stateNode,zw.current=t;var s=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Rn(t,e.child,null,a),t.child=Rn(t,null,s,a)):Be(e,t,s,a),t.memoizedState=n.state,i&&Yd(t,r,!0),t.child}function Rv(e){var t=e.stateNode;t.pendingContext?Kd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Kd(e,t.context,!1),vc(e,t.containerInfo)}function ff(e,t,r,n,i){return In(),uc(i),t.flags|=256,Be(e,t,r,n),t.child}var du={dehydrated:null,treeContext:null,retryLane:0};function fu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Av(e,t,r){var n=t.pendingProps,i=ae.current,a=!1,o=(t.flags&128)!==0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ee(ae,i&1),e===null)return iu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,a?(n=t.mode,a=t.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=ns(o,n,0,null),e=Fr(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=fu(r),t.memoizedState=du,e):Ec(t,o));if(i=e.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return Hw(e,t,o,n,s,i,r);if(a){a=n.fallback,o=t.mode,i=e.child,s=i.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=vr(i,l),n.subtreeFlags=i.subtreeFlags&14680064),s!==null?a=vr(s,a):(a=Fr(a,o,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,o=e.child.memoizedState,o=o===null?fu(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~r,t.memoizedState=du,n}return a=e.child,e=a.sibling,n=vr(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Ec(e,t){return t=ns({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Aa(e,t,r,n){return n!==null&&uc(n),Rn(t,e.child,null,r),e=Ec(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Hw(e,t,r,n,i,a,o){if(r)return t.flags&256?(t.flags&=-257,n=ol(Error(k(422))),Aa(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=ns({mode:"visible",children:n.children},i,0,null),a=Fr(a,i,o,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&Rn(t,e.child,null,o),t.child.memoizedState=fu(o),t.memoizedState=du,a);if(!(t.mode&1))return Aa(e,t,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var s=n.dgst;return n=s,a=Error(k(419)),n=ol(a,n,void 0),Aa(e,t,o,n)}if(s=(o&e.childLanes)!==0,Ge||s){if(n=be,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Kt(e,i),Dt(n,e,i,-1))}return Oc(),n=ol(Error(k(421))),Aa(e,t,o,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=n0.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,Ze=dr(i.nextSibling),tt=t,ne=!0,kt=null,e!==null&&(dt[ft++]=Wt,dt[ft++]=zt,dt[ft++]=zr,Wt=e.id,zt=e.overflow,zr=t),t=Ec(t,n.children),t.flags|=4096,t)}function hf(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),au(e.return,t,r)}function sl(e,t,r,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function Nv(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(Be(e,t,n.children,r),n=ae.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&hf(e,r,t);else if(e.tag===19)hf(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ee(ae,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&xo(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),sl(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&xo(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}sl(t,!0,r,null,a);break;case"together":sl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ro(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Yt(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Gr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(k(153));if(t.child!==null){for(e=t.child,r=vr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=vr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Gw(e,t,r){switch(t.tag){case 3:Rv(t),In();break;case 5:ov(t);break;case 1:qe(t.type)&&yo(t);break;case 4:vc(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;ee(So,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ee(ae,ae.current&1),t.flags|=128,null):r&t.child.childLanes?Av(e,t,r):(ee(ae,ae.current&1),e=Yt(e,t,r),e!==null?e.sibling:null);ee(ae,ae.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Nv(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ee(ae,ae.current),n)break;return null;case 22:case 23:return t.lanes=0,Tv(e,t,r)}return Yt(e,t,r)}var jv,hu,Lv,$v;jv=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};hu=function(){};Lv=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Mr(Lt.current);var a=null;switch(r){case"input":i=jl(e,i),n=jl(e,n),a=[];break;case"select":i=se({},i,{value:void 0}),n=se({},n,{value:void 0}),a=[];break;case"textarea":i=Ml(e,i),n=Ml(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=go)}Ul(r,n);var o;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(o in s)s.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ki.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var l=n[u];if(s=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(a||(a=[]),a.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ki.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&te("scroll",e),a||s===l||(a=[])):(a=a||[]).push(u,l))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};$v=function(e,t,r,n){r!==n&&(t.flags|=4)};function Zn(e,t){if(!ne)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ne(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Vw(e,t,r){var n=t.pendingProps;switch(lc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ne(t),null;case 1:return qe(t.type)&&mo(),Ne(t),null;case 3:return n=t.stateNode,An(),re(Ve),re(Le),mc(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ia(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,kt!==null&&(Su(kt),kt=null))),hu(e,t),Ne(t),null;case 5:gc(t);var i=Mr($i.current);if(r=t.type,e!==null&&t.stateNode!=null)Lv(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(k(166));return Ne(t),null}if(e=Mr(Lt.current),Ia(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[Nt]=t,n[ji]=a,e=(t.mode&1)!==0,r){case"dialog":te("cancel",n),te("close",n);break;case"iframe":case"object":case"embed":te("load",n);break;case"video":case"audio":for(i=0;i<ci.length;i++)te(ci[i],n);break;case"source":te("error",n);break;case"img":case"image":case"link":te("error",n),te("load",n);break;case"details":te("toggle",n);break;case"input":Sd(n,a),te("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},te("invalid",n);break;case"textarea":Ed(n,a),te("invalid",n)}Ul(r,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var s=a[o];o==="children"?typeof s=="string"?n.textContent!==s&&(a.suppressHydrationWarning!==!0&&Ta(n.textContent,s,e),i=["children",s]):typeof s=="number"&&n.textContent!==""+s&&(a.suppressHydrationWarning!==!0&&Ta(n.textContent,s,e),i=["children",""+s]):ki.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&te("scroll",n)}switch(r){case"input":_a(n),_d(n,a,!0);break;case"textarea":_a(n),xd(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=go)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=dp(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Nt]=t,e[ji]=n,jv(e,t,!1,!1),t.stateNode=e;e:{switch(o=Fl(r,n),r){case"dialog":te("cancel",e),te("close",e),i=n;break;case"iframe":case"object":case"embed":te("load",e),i=n;break;case"video":case"audio":for(i=0;i<ci.length;i++)te(ci[i],e);i=n;break;case"source":te("error",e),i=n;break;case"img":case"image":case"link":te("error",e),te("load",e),i=n;break;case"details":te("toggle",e),i=n;break;case"input":Sd(e,n),i=jl(e,n),te("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=se({},n,{value:void 0}),te("invalid",e);break;case"textarea":Ed(e,n),i=Ml(e,n),te("invalid",e);break;default:i=n}Ul(r,i),s=i;for(a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="style"?pp(e,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&fp(e,l)):a==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Ci(e,l):typeof l=="number"&&Ci(e,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(ki.hasOwnProperty(a)?l!=null&&a==="onScroll"&&te("scroll",e):l!=null&&qu(e,a,l,o))}switch(r){case"input":_a(e),_d(e,n,!1);break;case"textarea":_a(e),xd(e);break;case"option":n.value!=null&&e.setAttribute("value",""+wr(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?_n(e,!!n.multiple,a,!1):n.defaultValue!=null&&_n(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=go)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ne(t),null;case 6:if(e&&t.stateNode!=null)$v(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(k(166));if(r=Mr($i.current),Mr(Lt.current),Ia(t)){if(n=t.stateNode,r=t.memoizedProps,n[Nt]=t,(a=n.nodeValue!==r)&&(e=tt,e!==null))switch(e.tag){case 3:Ta(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ta(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Nt]=t,t.stateNode=n}return Ne(t),null;case 13:if(re(ae),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ne&&Ze!==null&&t.mode&1&&!(t.flags&128))tv(),In(),t.flags|=98560,a=!1;else if(a=Ia(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(k(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(k(317));a[Nt]=t}else In(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ne(t),a=!1}else kt!==null&&(Su(kt),kt=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ae.current&1?ye===0&&(ye=3):Oc())),t.updateQueue!==null&&(t.flags|=4),Ne(t),null);case 4:return An(),hu(e,t),e===null&&Ai(t.stateNode.containerInfo),Ne(t),null;case 10:return fc(t.type._context),Ne(t),null;case 17:return qe(t.type)&&mo(),Ne(t),null;case 19:if(re(ae),a=t.memoizedState,a===null)return Ne(t),null;if(n=(t.flags&128)!==0,o=a.rendering,o===null)if(n)Zn(a,!1);else{if(ye!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=xo(e),o!==null){for(t.flags|=128,Zn(a,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ee(ae,ae.current&1|2),t.child}e=e.sibling}a.tail!==null&&fe()>jn&&(t.flags|=128,n=!0,Zn(a,!1),t.lanes=4194304)}else{if(!n)if(e=xo(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Zn(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!ne)return Ne(t),null}else 2*fe()-a.renderingStartTime>jn&&r!==1073741824&&(t.flags|=128,n=!0,Zn(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(r=a.last,r!==null?r.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=fe(),t.sibling=null,r=ae.current,ee(ae,n?r&1|2:r&1),t):(Ne(t),null);case 22:case 23:return Dc(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Qe&1073741824&&(Ne(t),t.subtreeFlags&6&&(t.flags|=8192)):Ne(t),null;case 24:return null;case 25:return null}throw Error(k(156,t.tag))}function qw(e,t){switch(lc(t),t.tag){case 1:return qe(t.type)&&mo(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return An(),re(Ve),re(Le),mc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return gc(t),null;case 13:if(re(ae),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(k(340));In()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return re(ae),null;case 4:return An(),null;case 10:return fc(t.type._context),null;case 22:case 23:return Dc(),null;case 24:return null;default:return null}}var Na=!1,je=!1,Kw=typeof WeakSet=="function"?WeakSet:Set,N=null;function wn(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ce(e,t,n)}else r.current=null}function pu(e,t,r){try{r()}catch(n){ce(e,t,n)}}var pf=!1;function Yw(e,t){if(Ql=ho,e=Wp(),oc(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,s=-1,l=-1,u=0,c=0,f=e,d=null;t:for(;;){for(var h;f!==r||i!==0&&f.nodeType!==3||(s=o+i),f!==a||n!==0&&f.nodeType!==3||(l=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(h=f.firstChild)!==null;)d=f,f=h;for(;;){if(f===e)break t;if(d===r&&++u===i&&(s=o),d===a&&++c===n&&(l=o),(h=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=h}r=s===-1||l===-1?null:{start:s,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Xl={focusedElem:e,selectionRange:r},ho=!1,N=t;N!==null;)if(t=N,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,N=e;else for(;N!==null;){t=N;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var m=p.memoizedProps,w=p.memoizedState,g=t.stateNode,v=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:St(t.type,m),w);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(k(163))}}catch(b){ce(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,N=e;break}N=t.return}return p=pf,pf=!1,p}function yi(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&pu(t,r,a)}i=i.next}while(i!==n)}}function ts(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function vu(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Mv(e){var t=e.alternate;t!==null&&(e.alternate=null,Mv(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Nt],delete t[ji],delete t[tu],delete t[Iw],delete t[Rw])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Bv(e){return e.tag===5||e.tag===3||e.tag===4}function vf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Bv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function gu(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=go));else if(n!==4&&(e=e.child,e!==null))for(gu(e,t,r),e=e.sibling;e!==null;)gu(e,t,r),e=e.sibling}function mu(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(mu(e,t,r),e=e.sibling;e!==null;)mu(e,t,r),e=e.sibling}var De=null,Et=!1;function Xt(e,t,r){for(r=r.child;r!==null;)Uv(e,t,r),r=r.sibling}function Uv(e,t,r){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(qo,r)}catch{}switch(r.tag){case 5:je||wn(r,t);case 6:var n=De,i=Et;De=null,Xt(e,t,r),De=n,Et=i,De!==null&&(Et?(e=De,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):De.removeChild(r.stateNode));break;case 18:De!==null&&(Et?(e=De,r=r.stateNode,e.nodeType===8?el(e.parentNode,r):e.nodeType===1&&el(e,r),Ti(e)):el(De,r.stateNode));break;case 4:n=De,i=Et,De=r.stateNode.containerInfo,Et=!0,Xt(e,t,r),De=n,Et=i;break;case 0:case 11:case 14:case 15:if(!je&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&pu(r,t,o),i=i.next}while(i!==n)}Xt(e,t,r);break;case 1:if(!je&&(wn(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){ce(r,t,s)}Xt(e,t,r);break;case 21:Xt(e,t,r);break;case 22:r.mode&1?(je=(n=je)||r.memoizedState!==null,Xt(e,t,r),je=n):Xt(e,t,r);break;default:Xt(e,t,r)}}function gf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Kw),t.forEach(function(n){var i=i0.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function wt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=e,o=t,s=o;e:for(;s!==null;){switch(s.tag){case 5:De=s.stateNode,Et=!1;break e;case 3:De=s.stateNode.containerInfo,Et=!0;break e;case 4:De=s.stateNode.containerInfo,Et=!0;break e}s=s.return}if(De===null)throw Error(k(160));Uv(a,o,i),De=null,Et=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){ce(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Fv(t,e),t=t.sibling}function Fv(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(wt(t,e),Rt(e),n&4){try{yi(3,e,e.return),ts(3,e)}catch(m){ce(e,e.return,m)}try{yi(5,e,e.return)}catch(m){ce(e,e.return,m)}}break;case 1:wt(t,e),Rt(e),n&512&&r!==null&&wn(r,r.return);break;case 5:if(wt(t,e),Rt(e),n&512&&r!==null&&wn(r,r.return),e.flags&32){var i=e.stateNode;try{Ci(i,"")}catch(m){ce(e,e.return,m)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=r!==null?r.memoizedProps:a,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&a.type==="radio"&&a.name!=null&&up(i,a),Fl(s,o);var u=Fl(s,a);for(o=0;o<l.length;o+=2){var c=l[o],f=l[o+1];c==="style"?pp(i,f):c==="dangerouslySetInnerHTML"?fp(i,f):c==="children"?Ci(i,f):qu(i,c,f,u)}switch(s){case"input":Ll(i,a);break;case"textarea":cp(i,a);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var h=a.value;h!=null?_n(i,!!a.multiple,h,!1):d!==!!a.multiple&&(a.defaultValue!=null?_n(i,!!a.multiple,a.defaultValue,!0):_n(i,!!a.multiple,a.multiple?[]:"",!1))}i[ji]=a}catch(m){ce(e,e.return,m)}}break;case 6:if(wt(t,e),Rt(e),n&4){if(e.stateNode===null)throw Error(k(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(m){ce(e,e.return,m)}}break;case 3:if(wt(t,e),Rt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ti(t.containerInfo)}catch(m){ce(e,e.return,m)}break;case 4:wt(t,e),Rt(e);break;case 13:wt(t,e),Rt(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Cc=fe())),n&4&&gf(e);break;case 22:if(c=r!==null&&r.memoizedState!==null,e.mode&1?(je=(u=je)||c,wt(t,e),je=u):wt(t,e),Rt(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(N=e,c=e.child;c!==null;){for(f=N=c;N!==null;){switch(d=N,h=d.child,d.tag){case 0:case 11:case 14:case 15:yi(4,d,d.return);break;case 1:wn(d,d.return);var p=d.stateNode;if(typeof p.componentWillUnmount=="function"){n=d,r=d.return;try{t=n,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(m){ce(n,r,m)}}break;case 5:wn(d,d.return);break;case 22:if(d.memoizedState!==null){yf(f);continue}}h!==null?(h.return=d,N=h):yf(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(s=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=hp("display",o))}catch(m){ce(e,e.return,m)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(m){ce(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:wt(t,e),Rt(e),n&4&&gf(e);break;case 21:break;default:wt(t,e),Rt(e)}}function Rt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Bv(r)){var n=r;break e}r=r.return}throw Error(k(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Ci(i,""),n.flags&=-33);var a=vf(e);mu(e,a,i);break;case 3:case 4:var o=n.stateNode.containerInfo,s=vf(e);gu(e,s,o);break;default:throw Error(k(161))}}catch(l){ce(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Jw(e,t,r){N=e,Wv(e)}function Wv(e,t,r){for(var n=(e.mode&1)!==0;N!==null;){var i=N,a=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||Na;if(!o){var s=i.alternate,l=s!==null&&s.memoizedState!==null||je;s=Na;var u=je;if(Na=o,(je=l)&&!u)for(N=i;N!==null;)o=N,l=o.child,o.tag===22&&o.memoizedState!==null?wf(i):l!==null?(l.return=o,N=l):wf(i);for(;a!==null;)N=a,Wv(a),a=a.sibling;N=i,Na=s,je=u}mf(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,N=a):mf(e)}}function mf(e){for(;N!==null;){var t=N;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:je||ts(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!je)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:St(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&ef(t,a,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}ef(t,o,r)}break;case 5:var s=t.stateNode;if(r===null&&t.flags&4){r=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Ti(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(k(163))}je||t.flags&512&&vu(t)}catch(d){ce(t,t.return,d)}}if(t===e){N=null;break}if(r=t.sibling,r!==null){r.return=t.return,N=r;break}N=t.return}}function yf(e){for(;N!==null;){var t=N;if(t===e){N=null;break}var r=t.sibling;if(r!==null){r.return=t.return,N=r;break}N=t.return}}function wf(e){for(;N!==null;){var t=N;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{ts(4,t)}catch(l){ce(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(l){ce(t,i,l)}}var a=t.return;try{vu(t)}catch(l){ce(t,a,l)}break;case 5:var o=t.return;try{vu(t)}catch(l){ce(t,o,l)}}}catch(l){ce(t,t.return,l)}if(t===e){N=null;break}var s=t.sibling;if(s!==null){s.return=t.return,N=s;break}N=t.return}}var Qw=Math.ceil,Po=Jt.ReactCurrentDispatcher,xc=Jt.ReactCurrentOwner,vt=Jt.ReactCurrentBatchConfig,V=0,be=null,ve=null,Te=0,Qe=0,bn=Er(0),ye=0,Fi=null,Gr=0,rs=0,kc=0,wi=null,He=null,Cc=0,jn=1/0,Bt=null,Do=!1,yu=null,hr=null,ja=!1,sr=null,Oo=0,bi=0,wu=null,no=-1,io=0;function Ue(){return V&6?fe():no!==-1?no:no=fe()}function pr(e){return e.mode&1?V&2&&Te!==0?Te&-Te:Nw.transition!==null?(io===0&&(io=Cp()),io):(e=Y,e!==0||(e=window.event,e=e===void 0?16:Ap(e.type)),e):1}function Dt(e,t,r,n){if(50<bi)throw bi=0,wu=null,Error(k(185));ra(e,r,n),(!(V&2)||e!==be)&&(e===be&&(!(V&2)&&(rs|=r),ye===4&&ir(e,Te)),Ke(e,n),r===1&&V===0&&!(t.mode&1)&&(jn=fe()+500,Xo&&xr()))}function Ke(e,t){var r=e.callbackNode;Ny(e,t);var n=fo(e,e===be?Te:0);if(n===0)r!==null&&Pd(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Pd(r),t===1)e.tag===0?Aw(bf.bind(null,e)):Xp(bf.bind(null,e)),Ow(function(){!(V&6)&&xr()}),r=null;else{switch(Pp(n)){case 1:r=Xu;break;case 4:r=xp;break;case 16:r=co;break;case 536870912:r=kp;break;default:r=co}r=Jv(r,zv.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function zv(e,t){if(no=-1,io=0,V&6)throw Error(k(327));var r=e.callbackNode;if(Pn()&&e.callbackNode!==r)return null;var n=fo(e,e===be?Te:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=To(e,n);else{t=n;var i=V;V|=2;var a=Gv();(be!==e||Te!==t)&&(Bt=null,jn=fe()+500,Ur(e,t));do try{e0();break}catch(s){Hv(e,s)}while(!0);dc(),Po.current=a,V=i,ve!==null?t=0:(be=null,Te=0,t=ye)}if(t!==0){if(t===2&&(i=Vl(e),i!==0&&(n=i,t=bu(e,i))),t===1)throw r=Fi,Ur(e,0),ir(e,n),Ke(e,fe()),r;if(t===6)ir(e,n);else{if(i=e.current.alternate,!(n&30)&&!Xw(i)&&(t=To(e,n),t===2&&(a=Vl(e),a!==0&&(n=a,t=bu(e,a))),t===1))throw r=Fi,Ur(e,0),ir(e,n),Ke(e,fe()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(k(345));case 2:Tr(e,He,Bt);break;case 3:if(ir(e,n),(n&130023424)===n&&(t=Cc+500-fe(),10<t)){if(fo(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){Ue(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=eu(Tr.bind(null,e,He,Bt),t);break}Tr(e,He,Bt);break;case 4:if(ir(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var o=31-Pt(n);a=1<<o,o=t[o],o>i&&(i=o),n&=~a}if(n=i,n=fe()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Qw(n/1960))-n,10<n){e.timeoutHandle=eu(Tr.bind(null,e,He,Bt),n);break}Tr(e,He,Bt);break;case 5:Tr(e,He,Bt);break;default:throw Error(k(329))}}}return Ke(e,fe()),e.callbackNode===r?zv.bind(null,e):null}function bu(e,t){var r=wi;return e.current.memoizedState.isDehydrated&&(Ur(e,t).flags|=256),e=To(e,t),e!==2&&(t=He,He=r,t!==null&&Su(t)),e}function Su(e){He===null?He=e:He.push.apply(He,e)}function Xw(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!Ot(a(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ir(e,t){for(t&=~kc,t&=~rs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Pt(t),n=1<<r;e[r]=-1,t&=~n}}function bf(e){if(V&6)throw Error(k(327));Pn();var t=fo(e,0);if(!(t&1))return Ke(e,fe()),null;var r=To(e,t);if(e.tag!==0&&r===2){var n=Vl(e);n!==0&&(t=n,r=bu(e,n))}if(r===1)throw r=Fi,Ur(e,0),ir(e,t),Ke(e,fe()),r;if(r===6)throw Error(k(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Tr(e,He,Bt),Ke(e,fe()),null}function Pc(e,t){var r=V;V|=1;try{return e(t)}finally{V=r,V===0&&(jn=fe()+500,Xo&&xr())}}function Vr(e){sr!==null&&sr.tag===0&&!(V&6)&&Pn();var t=V;V|=1;var r=vt.transition,n=Y;try{if(vt.transition=null,Y=1,e)return e()}finally{Y=n,vt.transition=r,V=t,!(V&6)&&xr()}}function Dc(){Qe=bn.current,re(bn)}function Ur(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Dw(r)),ve!==null)for(r=ve.return;r!==null;){var n=r;switch(lc(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&mo();break;case 3:An(),re(Ve),re(Le),mc();break;case 5:gc(n);break;case 4:An();break;case 13:re(ae);break;case 19:re(ae);break;case 10:fc(n.type._context);break;case 22:case 23:Dc()}r=r.return}if(be=e,ve=e=vr(e.current,null),Te=Qe=t,ye=0,Fi=null,kc=rs=Gr=0,He=wi=null,$r!==null){for(t=0;t<$r.length;t++)if(r=$r[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=i,n.next=o}r.pending=n}$r=null}return e}function Hv(e,t){do{var r=ve;try{if(dc(),eo.current=Co,ko){for(var n=oe.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}ko=!1}if(Hr=0,we=me=oe=null,mi=!1,Mi=0,xc.current=null,r===null||r.return===null){ye=1,Fi=t,ve=null;break}e:{var a=e,o=r.return,s=r,l=t;if(t=Te,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=s,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=sf(o);if(h!==null){h.flags&=-257,lf(h,o,s,a,t),h.mode&1&&of(a,u,t),t=h,l=u;var p=t.updateQueue;if(p===null){var m=new Set;m.add(l),t.updateQueue=m}else p.add(l);break e}else{if(!(t&1)){of(a,u,t),Oc();break e}l=Error(k(426))}}else if(ne&&s.mode&1){var w=sf(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),lf(w,o,s,a,t),uc(Nn(l,s));break e}}a=l=Nn(l,s),ye!==4&&(ye=2),wi===null?wi=[a]:wi.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var g=Pv(a,l,t);Zd(a,g);break e;case 1:s=l;var v=a.type,y=a.stateNode;if(!(a.flags&128)&&(typeof v.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(hr===null||!hr.has(y)))){a.flags|=65536,t&=-t,a.lanes|=t;var b=Dv(a,s,t);Zd(a,b);break e}}a=a.return}while(a!==null)}qv(r)}catch(E){t=E,ve===r&&r!==null&&(ve=r=r.return);continue}break}while(!0)}function Gv(){var e=Po.current;return Po.current=Co,e===null?Co:e}function Oc(){(ye===0||ye===3||ye===2)&&(ye=4),be===null||!(Gr&268435455)&&!(rs&268435455)||ir(be,Te)}function To(e,t){var r=V;V|=2;var n=Gv();(be!==e||Te!==t)&&(Bt=null,Ur(e,t));do try{Zw();break}catch(i){Hv(e,i)}while(!0);if(dc(),V=r,Po.current=n,ve!==null)throw Error(k(261));return be=null,Te=0,ye}function Zw(){for(;ve!==null;)Vv(ve)}function e0(){for(;ve!==null&&!ky();)Vv(ve)}function Vv(e){var t=Yv(e.alternate,e,Qe);e.memoizedProps=e.pendingProps,t===null?qv(e):ve=t,xc.current=null}function qv(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=qw(r,t),r!==null){r.flags&=32767,ve=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ye=6,ve=null;return}}else if(r=Vw(r,t,Qe),r!==null){ve=r;return}if(t=t.sibling,t!==null){ve=t;return}ve=t=e}while(t!==null);ye===0&&(ye=5)}function Tr(e,t,r){var n=Y,i=vt.transition;try{vt.transition=null,Y=1,t0(e,t,r,n)}finally{vt.transition=i,Y=n}return null}function t0(e,t,r,n){do Pn();while(sr!==null);if(V&6)throw Error(k(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(k(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(jy(e,a),e===be&&(ve=be=null,Te=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ja||(ja=!0,Jv(co,function(){return Pn(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=vt.transition,vt.transition=null;var o=Y;Y=1;var s=V;V|=4,xc.current=null,Yw(e,r),Fv(r,e),Sw(Xl),ho=!!Ql,Xl=Ql=null,e.current=r,Jw(r),Cy(),V=s,Y=o,vt.transition=a}else e.current=r;if(ja&&(ja=!1,sr=e,Oo=i),a=e.pendingLanes,a===0&&(hr=null),Oy(r.stateNode),Ke(e,fe()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Do)throw Do=!1,e=yu,yu=null,e;return Oo&1&&e.tag!==0&&Pn(),a=e.pendingLanes,a&1?e===wu?bi++:(bi=0,wu=e):bi=0,xr(),null}function Pn(){if(sr!==null){var e=Pp(Oo),t=vt.transition,r=Y;try{if(vt.transition=null,Y=16>e?16:e,sr===null)var n=!1;else{if(e=sr,sr=null,Oo=0,V&6)throw Error(k(331));var i=V;for(V|=4,N=e.current;N!==null;){var a=N,o=a.child;if(N.flags&16){var s=a.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(N=u;N!==null;){var c=N;switch(c.tag){case 0:case 11:case 15:yi(8,c,a)}var f=c.child;if(f!==null)f.return=c,N=f;else for(;N!==null;){c=N;var d=c.sibling,h=c.return;if(Mv(c),c===u){N=null;break}if(d!==null){d.return=h,N=d;break}N=h}}}var p=a.alternate;if(p!==null){var m=p.child;if(m!==null){p.child=null;do{var w=m.sibling;m.sibling=null,m=w}while(m!==null)}}N=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,N=o;else e:for(;N!==null;){if(a=N,a.flags&2048)switch(a.tag){case 0:case 11:case 15:yi(9,a,a.return)}var g=a.sibling;if(g!==null){g.return=a.return,N=g;break e}N=a.return}}var v=e.current;for(N=v;N!==null;){o=N;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,N=y;else e:for(o=v;N!==null;){if(s=N,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:ts(9,s)}}catch(E){ce(s,s.return,E)}if(s===o){N=null;break e}var b=s.sibling;if(b!==null){b.return=s.return,N=b;break e}N=s.return}}if(V=i,xr(),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(qo,e)}catch{}n=!0}return n}finally{Y=r,vt.transition=t}}return!1}function Sf(e,t,r){t=Nn(r,t),t=Pv(e,t,1),e=fr(e,t,1),t=Ue(),e!==null&&(ra(e,1,t),Ke(e,t))}function ce(e,t,r){if(e.tag===3)Sf(e,e,r);else for(;t!==null;){if(t.tag===3){Sf(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(hr===null||!hr.has(n))){e=Nn(r,e),e=Dv(t,e,1),t=fr(t,e,1),e=Ue(),t!==null&&(ra(t,1,e),Ke(t,e));break}}t=t.return}}function r0(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Ue(),e.pingedLanes|=e.suspendedLanes&r,be===e&&(Te&r)===r&&(ye===4||ye===3&&(Te&130023424)===Te&&500>fe()-Cc?Ur(e,0):kc|=r),Ke(e,t)}function Kv(e,t){t===0&&(e.mode&1?(t=ka,ka<<=1,!(ka&130023424)&&(ka=4194304)):t=1);var r=Ue();e=Kt(e,t),e!==null&&(ra(e,t,r),Ke(e,r))}function n0(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Kv(e,r)}function i0(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(k(314))}n!==null&&n.delete(t),Kv(e,r)}var Yv;Yv=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ve.current)Ge=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ge=!1,Gw(e,t,r);Ge=!!(e.flags&131072)}else Ge=!1,ne&&t.flags&1048576&&Zp(t,bo,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;ro(e,t),e=t.pendingProps;var i=Tn(t,Le.current);Cn(t,r),i=wc(null,t,n,e,i,r);var a=bc();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,qe(n)?(a=!0,yo(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,pc(t),i.updater=es,t.stateNode=i,i._reactInternals=t,su(t,n,e,r),t=cu(null,t,n,!0,a,r)):(t.tag=0,ne&&a&&sc(t),Be(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(ro(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=o0(n),e=St(n,e),i){case 0:t=uu(null,t,n,e,r);break e;case 1:t=df(null,t,n,e,r);break e;case 11:t=uf(null,t,n,e,r);break e;case 14:t=cf(null,t,n,St(n.type,e),r);break e}throw Error(k(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:St(n,i),uu(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:St(n,i),df(e,t,n,i,r);case 3:e:{if(Rv(t),e===null)throw Error(k(387));n=t.pendingProps,a=t.memoizedState,i=a.element,av(e,t),Eo(t,n,null,r);var o=t.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=Nn(Error(k(423)),t),t=ff(e,t,n,r,i);break e}else if(n!==i){i=Nn(Error(k(424)),t),t=ff(e,t,n,r,i);break e}else for(Ze=dr(t.stateNode.containerInfo.firstChild),tt=t,ne=!0,kt=null,r=nv(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(In(),n===i){t=Yt(e,t,r);break e}Be(e,t,n,r)}t=t.child}return t;case 5:return ov(t),e===null&&iu(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,Zl(n,i)?o=null:a!==null&&Zl(n,a)&&(t.flags|=32),Iv(e,t),Be(e,t,o,r),t.child;case 6:return e===null&&iu(t),null;case 13:return Av(e,t,r);case 4:return vc(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Rn(t,null,n,r):Be(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:St(n,i),uf(e,t,n,i,r);case 7:return Be(e,t,t.pendingProps,r),t.child;case 8:return Be(e,t,t.pendingProps.children,r),t.child;case 12:return Be(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,ee(So,n._currentValue),n._currentValue=o,a!==null)if(Ot(a.value,o)){if(a.children===i.children&&!Ve.current){t=Yt(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var s=a.dependencies;if(s!==null){o=a.child;for(var l=s.firstContext;l!==null;){if(l.context===n){if(a.tag===1){l=Gt(-1,r&-r),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),au(a.return,r,t),s.lanes|=r;break}l=l.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(k(341));o.lanes|=r,s=o.alternate,s!==null&&(s.lanes|=r),au(o,r,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Be(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Cn(t,r),i=mt(i),n=n(i),t.flags|=1,Be(e,t,n,r),t.child;case 14:return n=t.type,i=St(n,t.pendingProps),i=St(n.type,i),cf(e,t,n,i,r);case 15:return Ov(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:St(n,i),ro(e,t),t.tag=1,qe(n)?(e=!0,yo(t)):e=!1,Cn(t,r),Cv(t,n,i),su(t,n,i,r),cu(null,t,n,!0,e,r);case 19:return Nv(e,t,r);case 22:return Tv(e,t,r)}throw Error(k(156,t.tag))};function Jv(e,t){return Ep(e,t)}function a0(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ht(e,t,r,n){return new a0(e,t,r,n)}function Tc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function o0(e){if(typeof e=="function")return Tc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Yu)return 11;if(e===Ju)return 14}return 2}function vr(e,t){var r=e.alternate;return r===null?(r=ht(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ao(e,t,r,n,i,a){var o=2;if(n=e,typeof e=="function")Tc(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case cn:return Fr(r.children,i,a,t);case Ku:o=8,i|=8;break;case Il:return e=ht(12,r,t,i|2),e.elementType=Il,e.lanes=a,e;case Rl:return e=ht(13,r,t,i),e.elementType=Rl,e.lanes=a,e;case Al:return e=ht(19,r,t,i),e.elementType=Al,e.lanes=a,e;case op:return ns(r,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ip:o=10;break e;case ap:o=9;break e;case Yu:o=11;break e;case Ju:o=14;break e;case er:o=16,n=null;break e}throw Error(k(130,e==null?e:typeof e,""))}return t=ht(o,r,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function Fr(e,t,r,n){return e=ht(7,e,n,t),e.lanes=r,e}function ns(e,t,r,n){return e=ht(22,e,n,t),e.elementType=op,e.lanes=r,e.stateNode={isHidden:!1},e}function ll(e,t,r){return e=ht(6,e,null,t),e.lanes=r,e}function ul(e,t,r){return t=ht(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function s0(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zs(0),this.expirationTimes=zs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zs(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ic(e,t,r,n,i,a,o,s,l){return e=new s0(e,t,r,s,l),t===1?(t=1,a===!0&&(t|=8)):t=0,a=ht(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},pc(a),e}function l0(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:un,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Qv(e){if(!e)return br;e=e._reactInternals;e:{if(Yr(e)!==e||e.tag!==1)throw Error(k(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(qe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(k(171))}if(e.tag===1){var r=e.type;if(qe(r))return Qp(e,r,t)}return t}function Xv(e,t,r,n,i,a,o,s,l){return e=Ic(r,n,!0,e,i,a,o,s,l),e.context=Qv(null),r=e.current,n=Ue(),i=pr(r),a=Gt(n,i),a.callback=t??null,fr(r,a,i),e.current.lanes=i,ra(e,i,n),Ke(e,n),e}function is(e,t,r,n){var i=t.current,a=Ue(),o=pr(i);return r=Qv(r),t.context===null?t.context=r:t.pendingContext=r,t=Gt(a,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=fr(i,t,o),e!==null&&(Dt(e,i,o,a),Za(e,i,o)),o}function Io(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function _f(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Rc(e,t){_f(e,t),(e=e.alternate)&&_f(e,t)}function u0(){return null}var Zv=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ac(e){this._internalRoot=e}as.prototype.render=Ac.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(k(409));is(e,t,null,null)};as.prototype.unmount=Ac.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Vr(function(){is(null,e,null,null)}),t[qt]=null}};function as(e){this._internalRoot=e}as.prototype.unstable_scheduleHydration=function(e){if(e){var t=Tp();e={blockedOn:null,target:e,priority:t};for(var r=0;r<nr.length&&t!==0&&t<nr[r].priority;r++);nr.splice(r,0,e),r===0&&Rp(e)}};function Nc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function os(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ef(){}function c0(e,t,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var u=Io(o);a.call(u)}}var o=Xv(t,n,e,0,null,!1,!1,"",Ef);return e._reactRootContainer=o,e[qt]=o.current,Ai(e.nodeType===8?e.parentNode:e),Vr(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var s=n;n=function(){var u=Io(l);s.call(u)}}var l=Ic(e,0,!1,null,null,!1,!1,"",Ef);return e._reactRootContainer=l,e[qt]=l.current,Ai(e.nodeType===8?e.parentNode:e),Vr(function(){is(t,l,r,n)}),l}function ss(e,t,r,n,i){var a=r._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var s=i;i=function(){var l=Io(o);s.call(l)}}is(t,o,e,i)}else o=c0(r,t,e,i,n);return Io(o)}Dp=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ui(t.pendingLanes);r!==0&&(Zu(t,r|1),Ke(t,fe()),!(V&6)&&(jn=fe()+500,xr()))}break;case 13:Vr(function(){var n=Kt(e,1);if(n!==null){var i=Ue();Dt(n,e,1,i)}}),Rc(e,1)}};ec=function(e){if(e.tag===13){var t=Kt(e,134217728);if(t!==null){var r=Ue();Dt(t,e,134217728,r)}Rc(e,134217728)}};Op=function(e){if(e.tag===13){var t=pr(e),r=Kt(e,t);if(r!==null){var n=Ue();Dt(r,e,t,n)}Rc(e,t)}};Tp=function(){return Y};Ip=function(e,t){var r=Y;try{return Y=e,t()}finally{Y=r}};zl=function(e,t,r){switch(t){case"input":if(Ll(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Qo(n);if(!i)throw Error(k(90));lp(n),Ll(n,i)}}}break;case"textarea":cp(e,r);break;case"select":t=r.value,t!=null&&_n(e,!!r.multiple,t,!1)}};mp=Pc;yp=Vr;var d0={usingClientEntryPoint:!1,Events:[ia,pn,Qo,vp,gp,Pc]},ei={findFiberByHostInstance:Lr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},f0={bundleType:ei.bundleType,version:ei.version,rendererPackageName:ei.rendererPackageName,rendererConfig:ei.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Jt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Sp(e),e===null?null:e.stateNode},findFiberByHostInstance:ei.findFiberByHostInstance||u0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var La=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!La.isDisabled&&La.supportsFiber)try{qo=La.inject(f0),jt=La}catch{}}at.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=d0;at.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Nc(t))throw Error(k(200));return l0(e,t,null,r)};at.createRoot=function(e,t){if(!Nc(e))throw Error(k(299));var r=!1,n="",i=Zv;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Ic(e,1,!1,null,null,r,!1,n,i),e[qt]=t.current,Ai(e.nodeType===8?e.parentNode:e),new Ac(t)};at.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(k(188)):(e=Object.keys(e).join(","),Error(k(268,e)));return e=Sp(t),e=e===null?null:e.stateNode,e};at.flushSync=function(e){return Vr(e)};at.hydrate=function(e,t,r){if(!os(t))throw Error(k(200));return ss(null,e,t,!0,r)};at.hydrateRoot=function(e,t,r){if(!Nc(e))throw Error(k(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",o=Zv;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=Xv(t,null,e,1,r??null,i,!1,a,o),e[qt]=t.current,Ai(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new as(t)};at.render=function(e,t,r){if(!os(t))throw Error(k(200));return ss(null,e,t,!1,r)};at.unmountComponentAtNode=function(e){if(!os(e))throw Error(k(40));return e._reactRootContainer?(Vr(function(){ss(null,null,e,!1,function(){e._reactRootContainer=null,e[qt]=null})}),!0):!1};at.unstable_batchedUpdates=Pc;at.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!os(r))throw Error(k(200));if(e==null||e._reactInternals===void 0)throw Error(k(38));return ss(e,t,r,!1,n)};at.version="18.3.1-next-f1338f8080-20240426";function eg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(eg)}catch(e){console.error(e)}}eg(),ep.exports=at;var jc=ep.exports;const h0=Uu(jc);var xf=jc;Ol.createRoot=xf.createRoot,Ol.hydrateRoot=xf.hydrateRoot;function ls(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function p0(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(c){try{u(n.next(c))}catch(f){o(f)}}function l(c){try{u(n.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((n=n.apply(e,t||[])).next())})}const v0=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Lc extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class g0 extends Lc{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class kf extends Lc{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Cf extends Lc{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var _u;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(_u||(_u={}));class m0{constructor(t,{headers:r={},customFetch:n,region:i=_u.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=v0(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return p0(this,arguments,void 0,function*(r,n={}){var i;let a,o;try{const{headers:s,method:l,body:u,signal:c,timeout:f}=n;let d={},{region:h}=n;h||(h=this.region);const p=new URL(`${this.url}/${r}`);h&&h!=="any"&&(d["x-region"]=h,p.searchParams.set("forceFunctionRegion",h));let m;u&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",m=u):typeof u=="string"?(d["Content-Type"]="text/plain",m=u):typeof FormData<"u"&&u instanceof FormData?m=u:(d["Content-Type"]="application/json",m=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?m=JSON.stringify(u):m=u;let w=c;f&&(o=new AbortController,a=setTimeout(()=>o.abort(),f),c?(w=o.signal,c.addEventListener("abort",()=>o.abort())):w=o.signal);const g=yield this.fetch(p.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),s),body:m,signal:w}).catch(E=>{throw new g0(E)}),v=g.headers.get("x-relay-error");if(v&&v==="true")throw new kf(g);if(!g.ok)throw new Cf(g);let y=((i=g.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),b;return y==="application/json"?b=yield g.json():y==="application/octet-stream"||y==="application/pdf"?b=yield g.blob():y==="text/event-stream"?b=g:y==="multipart/form-data"?b=yield g.formData():b=yield g.text(),{data:b,error:null,response:g}}catch(s){return{data:null,error:s,response:s instanceof Cf||s instanceof kf?s.context:void 0}}finally{a&&clearTimeout(a)}})}}var y0=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},w0=class{constructor(e){var t,r,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,this.urlLengthLimit=(n=e.urlLengthLimit)!==null&&n!==void 0?n:8e3,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{let o=null,s=null,l=null,u=a.status,c=a.statusText;if(a.ok){var f,d;if(r.method!=="HEAD"){var h;const g=await a.text();g===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((h=r.headers.get("Accept"))===null||h===void 0)&&h.includes("application/vnd.pgrst.plan+text"))?s=g:s=JSON.parse(g))}const m=(f=r.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),w=(d=a.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");m&&w&&w.length>1&&(l=parseInt(w[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(s)&&(s.length>1?(o={code:"PGRST116",details:`Results contain ${s.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},s=null,l=null,u=406,c="Not Acceptable"):s.length===1?s=s[0]:s=null)}else{var p;const m=await a.text();try{o=JSON.parse(m),Array.isArray(o)&&a.status===404&&(s=[],o=null,u=200,c="OK")}catch{a.status===404&&m===""?(u=204,c="No Content"):o={message:m}}if(o&&r.isMaybeSingle&&(!(o==null||(p=o.details)===null||p===void 0)&&p.includes("0 rows"))&&(o=null,u=200,c="OK"),o&&r.shouldThrowOnError)throw new y0(o)}return{error:o,data:s,count:l,status:u,statusText:c}});return this.shouldThrowOnError||(i=i.catch(a=>{var o;let s="",l="",u="";const c=a==null?void 0:a.cause;if(c){var f,d,h,p;const g=(f=c==null?void 0:c.message)!==null&&f!==void 0?f:"",v=(d=c==null?void 0:c.code)!==null&&d!==void 0?d:"";s=`${(h=a==null?void 0:a.name)!==null&&h!==void 0?h:"FetchError"}: ${a==null?void 0:a.message}`,s+=`

Caused by: ${(p=c==null?void 0:c.name)!==null&&p!==void 0?p:"Error"}: ${g}`,v&&(s+=` (${v})`),c!=null&&c.stack&&(s+=`
${c.stack}`)}else{var m;s=(m=a==null?void 0:a.stack)!==null&&m!==void 0?m:""}const w=this.url.toString().length;return(a==null?void 0:a.name)==="AbortError"||(a==null?void 0:a.code)==="ABORT_ERR"?(u="",l="Request was aborted (timeout or manual cancellation)",w>this.urlLengthLimit&&(l+=`. Note: Your request URL is ${w} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((c==null?void 0:c.name)==="HeadersOverflowError"||(c==null?void 0:c.code)==="UND_ERR_HEADERS_OVERFLOW")&&(u="",l="HTTP headers exceeded server limits (typically 16KB)",w>this.urlLengthLimit&&(l+=`. Your request URL is ${w} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(o=a==null?void 0:a.name)!==null&&o!==void 0?o:"FetchError"}: ${a==null?void 0:a.message}`,details:s,hint:l,code:u},data:null,count:null,status:0,statusText:""}})),i.then(e,t)}returns(){return this}overrideTypes(){return this}},b0=class extends w0{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:i=n}={}){const a=i?`${i}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"offset":`${n}.offset`,a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(a,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:i=!1,format:a="text"}={}){var o;const s=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${l}"; options=${s};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const Pf=new RegExp("[,()]");var on=class extends b0{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&Pf.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&Pf.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");const a=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${a}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},S0=class{constructor(e,{headers:t={},schema:r,fetch:n,urlLengthLimit:i=8e3}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n,this.urlLengthLimit=i}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:n}=t??{},i=r?"HEAD":"GET";let a=!1;const o=(e??"*").split("").map(u=>/\s/.test(u)&&!a?"":(u==='"'&&(a=!a),u)).join(""),{url:s,headers:l}=this.cloneRequestState();return s.searchParams.set("select",o),n&&l.append("Prefer",`count=${n}`),new on({method:i,url:s,headers:l,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const i="POST",{url:a,headers:o}=this.cloneRequestState();if(t&&o.append("Prefer",`count=${t}`),r||o.append("Prefer","missing=default"),Array.isArray(e)){const s=e.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(s.length>0){const l=[...new Set(s)].map(u=>`"${u}"`);a.searchParams.set("columns",l.join(","))}}return new on({method:i,url:a,headers:o,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:i=!0}={}){var a;const o="POST",{url:s,headers:l}=this.cloneRequestState();if(l.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&s.searchParams.set("on_conflict",t),n&&l.append("Prefer",`count=${n}`),i||l.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((c,f)=>c.concat(Object.keys(f)),[]);if(u.length>0){const c=[...new Set(u)].map(f=>`"${f}"`);s.searchParams.set("columns",c.join(","))}}return new on({method:o,url:s,headers:l,schema:this.schema,body:e,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch,urlLengthLimit:this.urlLengthLimit})}update(e,{count:t}={}){var r;const n="PATCH",{url:i,headers:a}=this.cloneRequestState();return t&&a.append("Prefer",`count=${t}`),new on({method:n,url:i,headers:a,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:e}={}){var t;const r="DELETE",{url:n,headers:i}=this.cloneRequestState();return e&&i.append("Prefer",`count=${e}`),new on({method:r,url:n,headers:i,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function Wi(e){"@babel/helpers - typeof";return Wi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wi(e)}function _0(e,t){if(Wi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function E0(e){var t=_0(e,"string");return Wi(t)=="symbol"?t:t+""}function x0(e,t,r){return(t=E0(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Df(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $a(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Df(Object(r),!0).forEach(function(n){x0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Df(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var k0=class tg{constructor(t,{headers:r={},schema:n,fetch:i,timeout:a,urlLengthLimit:o=8e3}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.urlLengthLimit=o;const s=i??globalThis.fetch;a!==void 0&&a>0?this.fetch=(l,u)=>{const c=new AbortController,f=setTimeout(()=>c.abort(),a),d=u==null?void 0:u.signal;if(d){if(d.aborted)return clearTimeout(f),s(l,u);const h=()=>{clearTimeout(f),c.abort()};return d.addEventListener("abort",h,{once:!0}),s(l,$a($a({},u),{},{signal:c.signal})).finally(()=>{clearTimeout(f),d.removeEventListener("abort",h)})}return s(l,$a($a({},u),{},{signal:c.signal})).finally(()=>clearTimeout(f))}:this.fetch=s}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new S0(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new tg(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(t,r={},{head:n=!1,get:i=!1,count:a}={}){var o;let s;const l=new URL(`${this.url}/rpc/${t}`);let u;const c=h=>h!==null&&typeof h=="object"&&(!Array.isArray(h)||h.some(c)),f=n&&Object.values(r).some(c);f?(s="POST",u=r):n||i?(s=n?"HEAD":"GET",Object.entries(r).filter(([h,p])=>p!==void 0).map(([h,p])=>[h,Array.isArray(p)?`{${p.join(",")}}`:`${p}`]).forEach(([h,p])=>{l.searchParams.append(h,p)})):(s="POST",u=r);const d=new Headers(this.headers);return f?d.set("Prefer",a?`count=${a},return=minimal`:"return=minimal"):a&&d.set("Prefer",`count=${a}`),new on({method:s,url:l,headers:d,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch,urlLengthLimit:this.urlLengthLimit})}};class C0{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const i=n.node,a=parseInt(i.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const P0="2.98.0",D0=`realtime-js/${P0}`,O0="1.0.0",rg="2.0.0",Of=rg,Eu=1e4,T0=1e3,I0=100;var rr;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(rr||(rr={}));var ge;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ge||(ge={}));var xt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(xt||(xt={}));var xu;(function(e){e.websocket="websocket"})(xu||(xu={}));var Nr;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Nr||(Nr={}));class R0{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const i=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var r,n;const i=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,r,n){var i,a;const o=t.topic,s=(i=t.ref)!==null&&i!==void 0?i:"",l=(a=t.join_ref)!==null&&a!==void 0?a:"",u=t.payload.event,c=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},f=Object.keys(c).length===0?"":JSON.stringify(c);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`ref length ${s.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const d=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+s.length+o.length+u.length+f.length,h=new ArrayBuffer(this.HEADER_LENGTH+d);let p=new DataView(h),m=0;p.setUint8(m++,this.KINDS.userBroadcastPush),p.setUint8(m++,l.length),p.setUint8(m++,s.length),p.setUint8(m++,o.length),p.setUint8(m++,u.length),p.setUint8(m++,f.length),p.setUint8(m++,r),Array.from(l,g=>p.setUint8(m++,g.charCodeAt(0))),Array.from(s,g=>p.setUint8(m++,g.charCodeAt(0))),Array.from(o,g=>p.setUint8(m++,g.charCodeAt(0))),Array.from(u,g=>p.setUint8(m++,g.charCodeAt(0))),Array.from(f,g=>p.setUint8(m++,g.charCodeAt(0)));var w=new Uint8Array(h.byteLength+n.byteLength);return w.set(new Uint8Array(h),0),w.set(new Uint8Array(n),h.byteLength),w.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[i,a,o,s,l]=n;return r({join_ref:i,ref:a,topic:o,event:s,payload:l})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),i=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,i)}}_decodeUserBroadcast(t,r,n){const i=r.getUint8(1),a=r.getUint8(2),o=r.getUint8(3),s=r.getUint8(4);let l=this.HEADER_LENGTH+4;const u=n.decode(t.slice(l,l+i));l=l+i;const c=n.decode(t.slice(l,l+a));l=l+a;const f=n.decode(t.slice(l,l+o));l=l+o;const d=t.slice(l,t.byteLength),h=s===this.JSON_ENCODING?JSON.parse(n.decode(d)):d,p={type:this.BROADCAST_EVENT,event:c,payload:h};return o>0&&(p.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:p}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class ng{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var X;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(X||(X={}));const Tf=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((a,o)=>(a[o]=A0(o,e,t,i),a),{}):{}},A0=(e,t,r,n)=>{const i=t.find(s=>s.name===e),a=i==null?void 0:i.type,o=r[e];return a&&!n.includes(a)?ig(a,o):ku(o)},ig=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return $0(t,r)}switch(e){case X.bool:return N0(t);case X.float4:case X.float8:case X.int2:case X.int4:case X.int8:case X.numeric:case X.oid:return j0(t);case X.json:case X.jsonb:return L0(t);case X.timestamp:return M0(t);case X.abstime:case X.date:case X.daterange:case X.int4range:case X.int8range:case X.money:case X.reltime:case X.text:case X.time:case X.timestamptz:case X.timetz:case X.tsrange:case X.tstzrange:return ku(t);default:return ku(t)}},ku=e=>e,N0=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},j0=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},L0=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},$0=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const o=e.slice(1,r);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(s=>ig(t,s))}return e},M0=e=>typeof e=="string"?e.replace(" ","T"):e,ag=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class cl{constructor(t,r,n={},i=Eu){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var If;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(If||(If={}));class Si{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:o,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Si.syncState(this.state,i,a,o),this.pendingDiffs.forEach(l=>{this.state=Si.syncDiff(this.state,l,a,o)}),this.pendingDiffs=[],s()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Si.syncDiff(this.state,i,a,o),s())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const a=this.cloneDeep(t),o=this.transformState(r),s={},l={};return this.map(a,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const f=a[u];if(f){const d=c.map(w=>w.presence_ref),h=f.map(w=>w.presence_ref),p=c.filter(w=>h.indexOf(w.presence_ref)<0),m=f.filter(w=>d.indexOf(w.presence_ref)<0);p.length>0&&(s[u]=p),m.length>0&&(l[u]=m)}else s[u]=c}),this.syncDiff(a,{joins:s,leaves:l},n,i)}static syncDiff(t,r,n,i){const{joins:a,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(s,l)=>{var u;const c=(u=t[s])!==null&&u!==void 0?u:[];if(t[s]=this.cloneDeep(l),c.length>0){const f=t[s].map(h=>h.presence_ref),d=c.filter(h=>f.indexOf(h.presence_ref)<0);t[s].unshift(...d)}n(s,c,l)}),this.map(o,(s,l)=>{let u=t[s];if(!u)return;const c=l.map(f=>f.presence_ref);u=u.filter(f=>c.indexOf(f.presence_ref)<0),t[s]=u,i(s,u,l),u.length===0&&delete t[s]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Rf;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Rf||(Rf={}));var _i;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(_i||(_i={}));var Ut;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ut||(Ut={}));class Sn{constructor(t,r={config:{}},n){var i,a;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=ge.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new cl(this,xt.join,this.params,this.timeout),this.rejoinTimer=new ng(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ge.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ge.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ge.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ge.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ge.errored,this.rejoinTimer.scheduleTimeout())}),this._on(xt.reply,{},(o,s)=>{this._trigger(this._replyEventName(s),o)}),this.presence=new Si(this),this.broadcastEndpointURL=ag(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==ge.closed){const{config:{broadcast:o,presence:s,private:l}}=this.params,u=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(h=>h.filter))!==null&&i!==void 0?i:[],c=!!this.bindings[_i.PRESENCE]&&this.bindings[_i.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,f={},d={broadcast:o,presence:Object.assign(Object.assign({},s),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(h=>t==null?void 0:t(Ut.CHANNEL_ERROR,h)),this._onClose(()=>t==null?void 0:t(Ut.CLOSED)),this.updateJoinPayload(Object.assign({config:d},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:h})=>{var p;if(this.socket._isManualToken()||this.socket.setAuth(),h===void 0){t==null||t(Ut.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,w=(p=m==null?void 0:m.length)!==null&&p!==void 0?p:0,g=[];for(let v=0;v<w;v++){const y=m[v],{filter:{event:b,schema:E,table:_,filter:x}}=y,C=h&&h[v];if(C&&C.event===b&&Sn.isFilterValueEqual(C.schema,E)&&Sn.isFilterValueEqual(C.table,_)&&Sn.isFilterValueEqual(C.filter,x))g.push(Object.assign(Object.assign({},y),{id:C.id}));else{this.unsubscribe(),this.state=ge.errored,t==null||t(Ut.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(Ut.SUBSCRIBED);return}}).receive("error",h=>{this.state=ge.errored,t==null||t(Ut.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Ut.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===ge.joined&&t===_i.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var i;if(r==null)return Promise.reject("Payload is required for httpSend()");const a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},s=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(s.status===202)return{success:!0};let l=s.statusText;try{const u=await s.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:o}=t,s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,s,l;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(s=(o=this.params)===null||o===void 0?void 0:o.config)===null||s===void 0?void 0:s.broadcast)===null||l===void 0)&&l.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ge.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(xt.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new cl(this,xt.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ge.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new cl(this,t,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>I0){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,a;const o=t.toLocaleLowerCase(),{close:s,error:l,leave:u,join:c}=xt;if(n&&[s,l,u,c].indexOf(o)>=0&&n!==this._joinRef())return;let d=this._onMessage(o,r,n);if(r&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(h=>{var p,m,w;return((p=h.filter)===null||p===void 0?void 0:p.event)==="*"||((w=(m=h.filter)===null||m===void 0?void 0:m.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(h=>h.callback(d,n)):(a=this.bindings[o])===null||a===void 0||a.filter(h=>{var p,m,w,g,v,y;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in h){const b=h.id,E=(p=h.filter)===null||p===void 0?void 0:p.event;return b&&((m=r.ids)===null||m===void 0?void 0:m.includes(b))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const b=(v=(g=h==null?void 0:h.filter)===null||g===void 0?void 0:g.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return b==="*"||b===((y=r==null?void 0:r.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===o}).map(h=>{if(typeof d=="object"&&"ids"in d){const p=d.data,{schema:m,table:w,commit_timestamp:g,type:v,errors:y}=p;d=Object.assign(Object.assign({},{schema:m,table:w,commit_timestamp:g,eventType:v,new:{},old:{},errors:y}),this._getPayloadRecords(p))}h.callback(d,n)})}_isClosed(){return this.state===ge.closed}_isJoined(){return this.state===ge.joined}_isJoining(){return this.state===ge.joining}_isLeaving(){return this.state===ge.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&Sn.isEqual(i.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(xt.close,{},t)}_onError(t){this._on(xt.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ge.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Tf(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Tf(t.columns,t.old_record)),r}}const dl=()=>{},Ma={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},B0=[1e3,2e3,5e3,1e4],U0=1e4,F0=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class W0{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Eu,this.transport=null,this.heartbeatIntervalMs=Ma.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=dl,this.ref=0,this.reconnectTimer=null,this.vsn=Of,this.logger=dl,this.conn=null,this.sendBuffer=[],this.serializer=new R0,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${xu.websocket}`,this.httpEndpoint=ag(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=C0.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case rr.connecting:return Nr.Connecting;case rr.open:return Nr.Open;case rr.closing:return Nr.Closing;default:return Nr.Closed}}isConnected(){return this.connectionState()===Nr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new Sn(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:i,ref:a}=t,o=()=>{this.encode(t,s=>{var l;(l=this.conn)===null||l===void 0||l.send(s)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(T0,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Ma.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",u)}catch(c){this.log("error","error in heartbeat callback",c)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:i,payload:a,ref:o}=r,s=o?`(${o})`:"",l=a.status||"";this.log("receive",`${l} ${n} ${i} ${s}`.trim(),a),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(i,a,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===rr.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===rr.open||this.conn.readyState===rr.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.accessTokenValue&&(this.channels.forEach(r=>{r.updateJoinPayload({access_token:this.accessTokenValue})}),this.sendBuffer=[],this.channels.forEach(r=>{r._isJoining()&&(r.joinPush.sent=!1,r.joinPush.send())})),this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(xt.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([F0],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const a={access_token:r,version:D0};r&&i.updateJoinPayload(a),i.joinedOnce&&i._isJoined()&&i._push(xt.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new ng(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ma.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,i,a,o,s,l,u,c,f,d,h;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Eu,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:Ma.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(s=t==null?void 0:t.heartbeatCallback)!==null&&s!==void 0?s:dl,this.vsn=(l=t==null?void 0:t.vsn)!==null&&l!==void 0?l:Of,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:p=>B0[p-1]||U0,this.vsn){case O0:this.encode=(c=t==null?void 0:t.encode)!==null&&c!==void 0?c:(p,m)=>m(JSON.stringify(p)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(p,m)=>m(JSON.parse(p));break;case rg:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:this.serializer.encode.bind(this.serializer),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var zi=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function z0(e,t,r){const n=new URL(t,e);if(r)for(const[i,a]of Object.entries(r))a!==void 0&&n.searchParams.set(i,a);return n.toString()}async function H0(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function G0(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:i,body:a,headers:o}){const s=z0(e.baseUrl,n,i),l=await H0(e.auth),u=await t(s,{method:r,headers:{...a?{"Content-Type":"application/json"}:{},...l,...o},body:a?JSON.stringify(a):void 0}),c=await u.text(),f=(u.headers.get("content-type")||"").includes("application/json"),d=f&&c?JSON.parse(c):c;if(!u.ok){const h=f?d:void 0,p=h==null?void 0:h.error;throw new zi((p==null?void 0:p.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:p==null?void 0:p.type,icebergCode:p==null?void 0:p.code,details:h})}return{status:u.status,headers:u.headers,data:d}}}}function Ba(e){return e.join("")}var V0=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Ba(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ba(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ba(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ba(e.namespace)}`}),!0}catch(t){if(t instanceof zi&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof zi&&r.status===409)return;throw r}}};function Xr(e){return e.join("")}var q0=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Xr(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Xr(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Xr(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Xr(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Xr(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Xr(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof zi&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof zi&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},K0=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=G0({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new V0(this.client,t),this.tableOps=new q0(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},us=class extends Error{constructor(e,t="storage",r,n){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=n}};function cs(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var Ua=class extends us{constructor(e,t,r,n="storage"){super(e,n,t,r),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},og=class extends us{constructor(e,t,r="storage"){super(e,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const Y0=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),J0=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Cu=e=>{if(Array.isArray(e))return e.map(r=>Cu(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=Cu(n)}),t},Q0=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Hi(e){"@babel/helpers - typeof";return Hi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hi(e)}function X0(e,t){if(Hi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Z0(e){var t=X0(e,"string");return Hi(t)=="symbol"?t:t+""}function eb(e,t,r){return(t=Z0(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Af(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Af(Object(r),!0).forEach(function(n){eb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Af(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const Nf=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},tb=async(e,t,r,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const i=e,a=i.status||500;if(typeof i.json=="function")i.json().then(o=>{const s=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||a+"";t(new Ua(Nf(o),a,s,n))}).catch(()=>{if(n==="vectors"){const o=a+"";t(new Ua(i.statusText||`HTTP ${a} error`,a,o,n))}else{const o=a+"";t(new Ua(i.statusText||`HTTP ${a} error`,a,o,n))}});else{const o=a+"";t(new Ua(i.statusText||`HTTP ${a} error`,a,o,n))}}else t(new og(Nf(e),e,n))},rb=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!n?$($({},i),r):(J0(n)?(i.headers=$({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,t!=null&&t.duplex&&(i.duplex=t.duplex),$($({},i),r))};async function ti(e,t,r,n,i,a,o){return new Promise((s,l)=>{e(r,rb(t,n,i,a)).then(u=>{if(!u.ok)throw u;if(n!=null&&n.noResolveJson)return u;if(o==="vectors"){const c=u.headers.get("content-type");if(u.headers.get("content-length")==="0"||u.status===204)return{};if(!c||!c.includes("application/json"))return{}}return u.json()}).then(u=>s(u)).catch(u=>tb(u,l,n,o))})}function sg(e="storage"){return{get:async(t,r,n,i)=>ti(t,"GET",r,n,i,void 0,e),post:async(t,r,n,i,a)=>ti(t,"POST",r,i,a,n,e),put:async(t,r,n,i,a)=>ti(t,"PUT",r,i,a,n,e),head:async(t,r,n,i)=>ti(t,"HEAD",r,$($({},n),{},{noResolveJson:!0}),i,void 0,e),remove:async(t,r,n,i,a)=>ti(t,"DELETE",r,i,a,n,e)}}const nb=sg("storage"),{get:Gi,post:_t,put:Pu,head:ib,remove:$c}=nb,Xe=sg("vectors");var Wn=class{constructor(e,t={},r,n="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=Y0(r),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=$($({},this.headers),{},{[e]:t}),this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(cs(r))return{data:null,error:r};throw r}}},ab=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(cs(t))return{data:null,error:t};throw t}}};let lg;lg=Symbol.toStringTag;var ob=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[lg]="BlobDownloadBuilder",this.promise=null}asStream(){return new ab(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(cs(t))return{data:null,error:t};throw t}}};const sb={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},jf={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var lb=class extends Wn{constructor(e,t={},r,n){super(e,t,n,"storage"),this.bucketId=r}async uploadOrUpdate(e,t,r,n){var i=this;return i.handleOperation(async()=>{let a;const o=$($({},jf),n);let s=$($({},i.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),l&&a.append("metadata",i.encodeMetadata(l)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.has("cacheControl")||a.append("cacheControl",o.cacheControl),l&&!a.has("metadata")&&a.append("metadata",i.encodeMetadata(l))):(a=r,s["cache-control"]=`max-age=${o.cacheControl}`,s["content-type"]=o.contentType,l&&(s["x-metadata"]=i.toBase64(i.encodeMetadata(l))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!o.duplex&&(o.duplex="half")),n!=null&&n.headers&&(s=$($({},s),n.headers));const u=i._removeEmptyFolders(t),c=i._getFinalPath(u),f=await(e=="PUT"?Pu:_t)(i.fetch,`${i.url}/object/${c}`,a,$({headers:s},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{path:u,id:f.Id,fullPath:f.Key}})}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var i=this;const a=i._removeEmptyFolders(e),o=i._getFinalPath(a),s=new URL(i.url+`/object/upload/sign/${o}`);return s.searchParams.set("token",t),i.handleOperation(async()=>{let l;const u=$({upsert:jf.upsert},n),c=$($({},i.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType),{path:a,fullPath:(await Pu(i.fetch,s.toString(),l,{headers:c})).Key}})}async createSignedUploadUrl(e,t){var r=this;return r.handleOperation(async()=>{let n=r._getFinalPath(e);const i=$({},r.headers);t!=null&&t.upsert&&(i["x-upsert"]="true");const a=await _t(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:i}),o=new URL(r.url+a.url),s=o.searchParams.get("token");if(!s)throw new us("No token returned by API");return{signedUrl:o.toString(),path:e,token:s}})}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;return n.handleOperation(async()=>await _t(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}))}async copy(e,t,r){var n=this;return n.handleOperation(async()=>({path:(await _t(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(e,t,r){var n=this;return n.handleOperation(async()=>{let i=n._getFinalPath(e),a=await _t(n.fetch,`${n.url}/object/sign/${i}`,$({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${n.url}${a.signedURL}${o}`)}})}async createSignedUrls(e,t,r){var n=this;return n.handleOperation(async()=>{const i=await _t(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i.map(o=>$($({},o),{},{signedUrl:o.signedURL?encodeURI(`${n.url}${o.signedURL}${a}`):null}))})}download(e,t,r){const n=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),a=i?`?${i}`:"",o=this._getFinalPath(e),s=()=>Gi(this.fetch,`${this.url}/${n}/${o}${a}`,{headers:this.headers,noResolveJson:!0},r);return new ob(s,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);return t.handleOperation(async()=>Cu(await Gi(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})))}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await ib(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(cs(n)&&n instanceof og){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],i=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&n.push(i);const a=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});o!==""&&n.push(o);let s=n.join("&");return s!==""&&(s=`?${s}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${s}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await $c(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,r){var n=this;return n.handleOperation(async()=>{const i=$($($({},sb),t),{},{prefix:e||""});return await _t(n.fetch,`${n.url}/object/list/${n.bucketId}`,i,{headers:n.headers},r)})}async listV2(e,t){var r=this;return r.handleOperation(async()=>{const n=$({},e);return await _t(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const ub="2.98.0",oa={"X-Client-Info":`storage-js/${ub}`};var cb=class extends Wn{constructor(e,t={},r,n){const i=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase."));const a=i.href.replace(/\/$/,""),o=$($({},oa),t);super(a,o,r,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=t.listBucketOptionsToQueryString(e);return await Gi(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Gi(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var r=this;return r.handleOperation(async()=>await _t(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async updateBucket(e,t){var r=this;return r.handleOperation(async()=>await Pu(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await _t(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await $c(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},db=class extends Wn{constructor(e,t={},r){const n=e.replace(/\/$/,""),i=$($({},oa),t);super(n,i,r,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await _t(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),i=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return await Gi(t.fetch,i,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await $c(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!Q0(e))throw new us("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new K0({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(i,a){const o=i[a];return typeof o!="function"?o:async(...s)=>{try{return{data:await o.apply(i,s),error:null}}catch(l){if(n)throw l;return{data:null,error:l}}}}})}},fb=class extends Wn{constructor(e,t={},r){const n=e.replace(/\/$/,""),i=$($({},oa),{},{"Content-Type":"application/json"},t);super(n,i,r,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await Xe.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var r=this;return r.handleOperation(async()=>await Xe.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await Xe.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var r=this;return r.handleOperation(async()=>await Xe.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{})}},hb=class extends Wn{constructor(e,t={},r){const n=e.replace(/\/$/,""),i=$($({},oa),{},{"Content-Type":"application/json"},t);super(n,i,r,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Xe.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await Xe.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await Xe.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await Xe.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Xe.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},pb=class extends Wn{constructor(e,t={},r){const n=e.replace(/\/$/,""),i=$($({},oa),{},{"Content-Type":"application/json"},t);super(n,i,r,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Xe.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Xe.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await Xe.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Xe.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},vb=class extends pb{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new gb(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},gb=class extends fb{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,$($({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,$($({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new mb(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},mb=class extends hb{constructor(e,t,r,n,i){super(e,t,i),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,$($({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,$($({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,$($({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,$($({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,$($({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},yb=class extends cb{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new lb(this.url,this.headers,e,this.fetch)}get vectors(){return new vb(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new db(this.url+"/iceberg",this.headers,this.fetch)}};const ug="2.98.0",sn=30*1e3,Du=3,fl=Du*sn,wb="http://localhost:9999",bb="supabase.auth.token",Sb={"X-Client-Info":`gotrue-js/${ug}`},Ou="X-Supabase-Api-Version",cg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},_b=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Eb=10*60*1e3;class Vi extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function j(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class xb extends Vi{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function kb(e){return j(e)&&e.name==="AuthApiError"}class jr extends Vi{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Qt extends Vi{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class Ye extends Qt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function hl(e){return j(e)&&e.name==="AuthSessionMissingError"}class Zr extends Qt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Fa extends Qt{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Wa extends Qt{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Cb(e){return j(e)&&e.name==="AuthImplicitGrantRedirectError"}class Lf extends Qt{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Pb extends Qt{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Tu extends Qt{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function pl(e){return j(e)&&e.name==="AuthRetryableFetchError"}class $f extends Qt{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Iu extends Qt{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ro="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Mf=` 	
\r=`.split(""),Db=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Mf.length;t+=1)e[Mf[t].charCodeAt(0)]=-2;for(let t=0;t<Ro.length;t+=1)e[Ro[t].charCodeAt(0)]=t;return e})();function Bf(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Ro[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Ro[n]),t.queuedBits-=6}}function dg(e,t,r){const n=Db[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Uf(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{Ib(o,n,r)};for(let o=0;o<e.length;o+=1)dg(e.charCodeAt(o),i,a);return t.join("")}function Ob(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Tb(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}Ob(n,t)}}function Ib(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Dn(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)dg(e.charCodeAt(i),r,n);return new Uint8Array(t)}function Rb(e){const t=[];return Tb(e,r=>t.push(r)),new Uint8Array(t)}function Br(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>Bf(i,r,n)),Bf(null,r,n),t.join("")}function Ab(e){return Math.round(Date.now()/1e3)+e}function Nb(){return Symbol("auth-callback")}const Pe=()=>typeof window<"u"&&typeof document<"u",Cr={tested:!1,writable:!1},fg=()=>{if(!Pe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Cr.tested)return Cr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Cr.tested=!0,Cr.writable=!0}catch{Cr.tested=!0,Cr.writable=!1}return Cr.writable};function jb(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const hg=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Lb=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ln=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Pr=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ke=async(e,t)=>{await e.removeItem(t)};class ds{constructor(){this.promise=new ds.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}ds.promiseConstructor=Promise;function za(e){const t=e.split(".");if(t.length!==3)throw new Iu("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!_b.test(t[n]))throw new Iu("JWT not in base64url format");return{header:JSON.parse(Uf(t[0])),payload:JSON.parse(Uf(t[1])),signature:Dn(t[2]),raw:{header:t[0],payload:t[1]}}}async function $b(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Mb(e,t){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){n(o);return}}catch(o){if(!t(a,o)){i(o);return}}})()})}function Bb(e){return("0"+e.toString(16)).substr(-2)}function Ub(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,Bb).join("")}async function Fb(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function Wb(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await Fb(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function en(e,t,r=!1){const n=Ub();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await ln(e,`${t}-code-verifier`,i);const a=await Wb(n);return[a,n===a?"plain":"s256"]}const zb=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Hb(e){const t=e.headers.get(Ou);if(!t||!t.match(zb))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Gb(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Vb(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const qb=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function tn(e){if(!qb.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function vl(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Kb(e,t){return new Proxy(e,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,i)}})}function Ff(e){return JSON.parse(JSON.stringify(e))}const Ir=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Yb=[502,503,504];async function Wf(e){var t;if(!Lb(e))throw new Tu(Ir(e),0);if(Yb.includes(e.status))throw new Tu(Ir(e),e.status);let r;try{r=await e.json()}catch(a){throw new jr(Ir(a),a)}let n;const i=Hb(e);if(i&&i.getTime()>=cg["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new $f(Ir(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Ye}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new $f(Ir(r),e.status,r.weak_password.reasons);throw new xb(Ir(r),e.status||500,n)}const Jb=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function U(e,t,r,n){var i;const a=Object.assign({},n==null?void 0:n.headers);a[Ou]||(a[Ou]=cg["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const o=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const s=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Qb(e,t,r+s,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function Qb(e,t,r,n,i,a){const o=Jb(t,n,i,a);let s;try{s=await e(r,Object.assign({},o))}catch(l){throw console.error(l),new Tu(Ir(l),0)}if(s.ok||await Wf(s),n!=null&&n.noResolveJson)return s;try{return await s.json()}catch(l){await Wf(l)}}function bt(e){var t;let r=null;eS(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Ab(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function zf(e){const t=bt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ar(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Xb(e){return{data:e,error:null}}function Zb(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=e,o=ls(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},l=Object.assign({},o);return{data:{properties:s,user:l},error:null}}function Hf(e){return e}function eS(e){return e.access_token&&e.refresh_token&&e.expires_in}const gl=["global","local","others"];class tS{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=hg(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=gl[0]){if(gl.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${gl.join(", ")}`);try{return await U(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(j(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await U(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:ar})}catch(n){if(j(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=ls(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await U(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Zb,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(j(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await U(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ar})}catch(r){if(j(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,a,o,s,l;try{const u={nextPage:null,lastPage:0,total:0},c=await U(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:Hf});if(c.error)throw c.error;const f=await c.json(),d=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,h=(l=(s=c.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(p=>{const m=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(p.split(";")[1].split("=")[1]);u[`${w}Page`]=m}),u.total=parseInt(d)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(j(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){tn(t);try{return await U(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ar})}catch(r){if(j(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){tn(t);try{return await U(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:ar})}catch(n){if(j(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){tn(t);try{return await U(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:ar})}catch(n){if(j(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){tn(t.userId);try{const{data:r,error:n}=await U(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(j(r))return{data:null,error:r};throw r}}async _deleteFactor(t){tn(t.userId),tn(t.id);try{return{data:await U(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(j(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,i,a,o,s,l;try{const u={nextPage:null,lastPage:0,total:0},c=await U(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:Hf});if(c.error)throw c.error;const f=await c.json(),d=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,h=(l=(s=c.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(p=>{const m=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(p.split(";")[1].split("=")[1]);u[`${w}Page`]=m}),u.total=parseInt(d)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(j(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await U(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(j(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await U(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(j(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await U(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(j(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await U(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(j(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await U(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(j(r))return{data:null,error:r};throw r}}}function Gf(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Mt={debug:!!(globalThis&&fg()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class pg extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class rS extends pg{}async function nS(e,t,r){Mt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;t>0&&setTimeout(()=>{n.abort(),Mt.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve();try{return await globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Mt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{Mt.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Mt.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new rS(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Mt.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}})}catch(i){if((i==null?void 0:i.name)==="AbortError"&&t>0)return Mt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire timeout, recovering by stealing lock",e),console.warn(`@supabase/gotrue-js: Lock "${e}" was not released within ${t}ms. This may indicate an orphaned lock from a component unmount (e.g., React Strict Mode). Forcefully acquiring the lock to recover.`),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,{mode:"exclusive",steal:!0},async a=>{if(a){Mt.debug&&console.log("@supabase/gotrue-js: navigatorLock: recovered (stolen)",e,a.name);try{return await r()}finally{Mt.debug&&console.log("@supabase/gotrue-js: navigatorLock: released (stolen)",e,a.name)}}else return console.warn("@supabase/gotrue-js: Navigator LockManager returned null lock even with steal: true"),await r()}));throw i}}function iS(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function vg(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function aS(e){return parseInt(e,16)}function oS(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function sS(e){var t;const{chainId:r,domain:n,expirationTime:i,issuedAt:a=new Date,nonce:o,notBefore:s,requestId:l,resources:u,scheme:c,uri:f,version:d}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(d!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${d}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const h=vg(e.address),p=c?`${c}://${n}`:n,m=e.statement?`${e.statement}
`:"",w=`${p} wants you to sign in with your Ethereum account:
${h}

${m}`;let g=`URI: ${f}
Version: ${d}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${a.toISOString()}`;if(i&&(g+=`
Expiration Time: ${i.toISOString()}`),s&&(g+=`
Not Before: ${s.toISOString()}`),l&&(g+=`
Request ID: ${l}`),u){let v=`
Resources:`;for(const y of u){if(!y||typeof y!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${y}`);v+=`
- ${y}`}g+=v}return`${w}
${g}`}class pe extends Error{constructor({message:t,code:r,cause:n,name:i}){var a;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(a=i??(n instanceof Error?n.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=r}}class Ao extends pe{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function lS({error:e,options:t}){var r,n,i;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new pe({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=a.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new pe({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=a.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new pe({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new pe({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new pe({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new pe({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(s=>s.type==="public-key").length===0?new pe({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new pe({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(gg(o)){if(a.rp.id!==o)return new pe({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new pe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new pe({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new pe({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new pe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function uS({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new pe({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new pe({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(gg(n)){if(r.rpId!==n)return new pe({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new pe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new pe({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new pe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class cS{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const dS=new cS;function fS(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,i=ls(e,["challenge","user","excludeCredentials"]),a=Dn(t).buffer,o=Object.assign(Object.assign({},r),{id:Dn(r.id).buffer}),s=Object.assign(Object.assign({},i),{challenge:a,user:o});if(n&&n.length>0){s.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];s.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:Dn(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return s}function hS(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=ls(e,["challenge","allowCredentials"]),i=Dn(t).buffer,a=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){a.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const s=r[o];a.allowCredentials[o]=Object.assign(Object.assign({},s),{id:Dn(s.id).buffer,type:s.type||"public-key",transports:s.transports})}}return a}function pS(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Br(new Uint8Array(e.response.attestationObject)),clientDataJSON:Br(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function vS(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Br(new Uint8Array(i.authenticatorData)),clientDataJSON:Br(new Uint8Array(i.clientDataJSON)),signature:Br(new Uint8Array(i.signature)),userHandle:i.userHandle?Br(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function gg(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Vf(){var e,t;return!!(Pe()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function gS(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Ao("Browser returned unexpected credential type",t)}:{data:null,error:new Ao("Empty credential response",t)}}catch(t){return{data:null,error:lS({error:t,options:e})}}}async function mS(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Ao("Browser returned unexpected credential type",t)}:{data:null,error:new Ao("Empty credential response",t)}}catch(t){return{data:null,error:uS({error:t,options:e})}}}const yS={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},wS={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function No(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of e)if(i)for(const a in i){const o=i[a];if(o!==void 0)if(Array.isArray(o))n[a]=o;else if(r(o))n[a]=o;else if(t(o)){const s=n[a];t(s)?n[a]=No(s,o):n[a]=No(o)}else n[a]=o}return n}function bS(e,t){return No(yS,e,t||{})}function SS(e,t){return No(wS,e,t||{})}class _S{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:i},a){var o;try{const{data:s,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!s)return{data:null,error:l};const u=i??dS.createNewAbortSignal();if(s.webauthn.type==="create"){const{user:c}=s.webauthn.credential_options.publicKey;if(!c.name){const f=n;if(f)c.name=`${c.id}:${f}`;else{const h=(await this.client.getUser()).data.user,p=((o=h==null?void 0:h.user_metadata)===null||o===void 0?void 0:o.name)||(h==null?void 0:h.email)||(h==null?void 0:h.id)||"User";c.name=`${c.id}:${p}`}}c.displayName||(c.displayName=c.name)}switch(s.webauthn.type){case"create":{const c=bS(s.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:f,error:d}=await gS({publicKey:c,signal:u});return f?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:f}},error:null}:{data:null,error:d}}case"request":{const c=SS(s.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:f,error:d}=await mS(Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:c,signal:u}));return f?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:f}},error:null}:{data:null,error:d}}}}catch(s){return j(s)?{data:null,error:s}:{data:null,error:new jr("Unexpected error in challenge",s)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new Vi("rpId is required for WebAuthn authentication")};try{if(!Vf())return{data:null,error:new jr("Browser does not support WebAuthn",null)};const{data:o,error:s}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:a});if(!o)return{data:null,error:s};const{webauthn:l}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(o){return j(o)?{data:null,error:o}:{data:null,error:new jr("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new Vi("rpId is required for WebAuthn registration")};try{if(!Vf())return{data:null,error:new jr("Browser does not support WebAuthn",null)};const{data:o,error:s}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(c=>{var f;return(f=c.data)===null||f===void 0?void 0:f.all.find(d=>d.factor_type==="webauthn"&&d.friendly_name===t&&d.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c==null?void 0:c.id}):void 0),{data:null,error:s};const{data:l,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:a});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(o){return j(o)?{data:null,error:o}:{data:null,error:new jr("Unexpected error in register",o)}}}}iS();const ES={url:wb,storageKey:bb,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Sb,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:5e3,skipAutoInitialize:!1};async function qf(e,t,r){return await r()}const rn={};class qi{get jwks(){var t,r;return(r=(t=rn[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){rn[this.storageKey]=Object.assign(Object.assign({},rn[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=rn[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){rn[this.storageKey]=Object.assign(Object.assign({},rn[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},ES),t);if(this.storageKey=a.storageKey,this.instanceID=(r=qi.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,qi.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&Pe()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new tS({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=hg(a.fetch),this.lock=a.lock||qf,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,this.lockAcquireTimeout=a.lockAcquireTimeout,a.lock?this.lock=a.lock:this.persistSession&&Pe()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=nS:this.lock=qf,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new _S(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:fg()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Gf(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=Gf(this.memoryStorage)),Pe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o);try{await this._notifyAllSubscribers(o.data.event,o.data.session,!1)}catch(s){this._debug("#broadcastChannel","error",s)}})}a.skipAutoInitialize||this.initialize().catch(o=>{this._debug("#initialize()","error",o)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${ug}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(Pe()&&(r=jb(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Pe()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),Cb(a)){const l=(t=a.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:a}}return{error:a}}const{session:o,redirectType:s}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",s),await this._saveSession(o),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return j(r)?this._returnResult({error:r}):this._returnResult({error:new jr("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const a=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:bt}),{data:o,error:s}=a;if(s||!o)return this._returnResult({data:{user:null,session:null},error:s});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(a){if(j(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var r,n,i;try{let a;if("email"in t){const{email:c,password:f,options:d}=t;let h=null,p=null;this.flowType==="pkce"&&([h,p]=await en(this.storage,this.storageKey)),a=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:d==null?void 0:d.emailRedirectTo,body:{email:c,password:f,data:(r=d==null?void 0:d.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:h,code_challenge_method:p},xform:bt})}else if("phone"in t){const{phone:c,password:f,options:d}=t;a=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:f,data:(n=d==null?void 0:d.data)!==null&&n!==void 0?n:{},channel:(i=d==null?void 0:d.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:bt})}else throw new Fa("You must provide either an email or phone number and a password");const{data:o,error:s}=a;if(s||!o)return await ke(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:s});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(a){if(await ke(this.storage,`${this.storageKey}-code-verifier`),j(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:o,options:s}=t;r=await U(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:zf})}else if("phone"in t){const{phone:a,password:o,options:s}=t;r=await U(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:zf})}else throw new Fa("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const a=new Zr;return this._returnResult({data:{user:null,session:null},error:a})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(j(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,i,a,o,s,l,u,c,f,d;let h,p;if("message"in t)h=t.message,p=t.signature;else{const{chain:m,wallet:w,statement:g,options:v}=t;let y;if(Pe())if(typeof w=="object")y=w;else{const I=window;if("ethereum"in I&&typeof I.ethereum=="object"&&"request"in I.ethereum&&typeof I.ethereum.request=="function")y=I.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=w}const b=new URL((r=v==null?void 0:v.url)!==null&&r!==void 0?r:window.location.href),E=await y.request({method:"eth_requestAccounts"}).then(I=>I).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!E||E.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const _=vg(E[0]);let x=(n=v==null?void 0:v.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!x){const I=await y.request({method:"eth_chainId"});x=aS(I)}const C={domain:b.host,address:_,statement:g,uri:b.href,version:"1",chainId:x,nonce:(i=v==null?void 0:v.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(a=v==null?void 0:v.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(s=v==null?void 0:v.signInWithEthereum)===null||s===void 0?void 0:s.expirationTime,notBefore:(l=v==null?void 0:v.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=v==null?void 0:v.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=v==null?void 0:v.signInWithEthereum)===null||c===void 0?void 0:c.resources};h=sS(C),p=await y.request({method:"personal_sign",params:[oS(h),_]})}try{const{data:m,error:w}=await U(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:h,signature:p},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(d=t.options)===null||d===void 0?void 0:d.captchaToken}}:null),xform:bt});if(w)throw w;if(!m||!m.session||!m.user){const g=new Zr;return this._returnResult({data:{user:null,session:null},error:g})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:Object.assign({},m),error:w})}catch(m){if(j(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async signInWithSolana(t){var r,n,i,a,o,s,l,u,c,f,d,h;let p,m;if("message"in t)p=t.message,m=t.signature;else{const{chain:w,wallet:g,statement:v,options:y}=t;let b;if(Pe())if(typeof g=="object")b=g;else{const _=window;if("solana"in _&&typeof _.solana=="object"&&("signIn"in _.solana&&typeof _.solana.signIn=="function"||"signMessage"in _.solana&&typeof _.solana.signMessage=="function"))b=_.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=g}const E=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in b&&b.signIn){const _=await b.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:E.host,uri:E.href}),v?{statement:v}:null));let x;if(Array.isArray(_)&&_[0]&&typeof _[0]=="object")x=_[0];else if(_&&typeof _=="object"&&"signedMessage"in _&&"signature"in _)x=_;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in x&&"signature"in x&&(typeof x.signedMessage=="string"||x.signedMessage instanceof Uint8Array)&&x.signature instanceof Uint8Array)p=typeof x.signedMessage=="string"?x.signedMessage:new TextDecoder().decode(x.signedMessage),m=x.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in b)||typeof b.signMessage!="function"||!("publicKey"in b)||typeof b!="object"||!b.publicKey||!("toBase58"in b.publicKey)||typeof b.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${E.host} wants you to sign in with your Solana account:`,b.publicKey.toBase58(),...v?["",v,""]:[""],"Version: 1",`URI: ${E.href}`,`Issued At: ${(i=(n=y==null?void 0:y.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=y==null?void 0:y.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((o=y==null?void 0:y.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((s=y==null?void 0:y.signInWithSolana)===null||s===void 0)&&s.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((l=y==null?void 0:y.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((u=y==null?void 0:y.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((f=(c=y==null?void 0:y.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||f===void 0)&&f.length?["Resources",...y.signInWithSolana.resources.map(x=>`- ${x}`)]:[]].join(`
`);const _=await b.signMessage(new TextEncoder().encode(p),"utf8");if(!_||!(_ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=_}}try{const{data:w,error:g}=await U(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:Br(m)},!((d=t.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:bt});if(g)throw g;if(!w||!w.session||!w.user){const v=new Zr;return this._returnResult({data:{user:null,session:null},error:v})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:g})}catch(w){if(j(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async _exchangeCodeForSession(t){const r=await Pr(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new Pb;const{data:a,error:o}=await U(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:bt});if(await ke(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!a||!a.session||!a.user){const s=new Zr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:s})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(await ke(this.storage,`${this.storageKey}-code-verifier`),j(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:a,nonce:o}=t,s=await U(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:bt}),{data:l,error:u}=s;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const c=new Zr;return this._returnResult({data:{user:null,session:null},error:c})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(r){if(j(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,i,a,o;try{if("email"in t){const{email:s,options:l}=t;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await en(this.storage,this.storageKey));const{error:f}=await U(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:s,options:l}=t,{data:u,error:c}=await U(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(a=l==null?void 0:l.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c})}throw new Fa("You must provide either an email or phone number.")}catch(s){if(await ke(this.storage,`${this.storageKey}-code-verifier`),j(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async verifyOtp(t){var r,n;try{let i,a;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:s}=await U(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:bt});if(s)throw s;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(j(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var r,n,i,a,o;try{let s=null,l=null;this.flowType==="pkce"&&([s,l]=await en(this.storage,this.storageKey));const u=await U(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:l}),headers:this.headers,xform:Xb});return!((a=u.data)===null||a===void 0)&&a.url&&Pe()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(s){if(await ke(this.storage,`${this.storageKey}-code-verifier`),j(s))return this._returnResult({data:null,error:s});throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Ye;const{error:i}=await U(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(j(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:a}=t,{error:o}=await U(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:n,type:i,options:a}=t,{data:o,error:s}=await U(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:s})}throw new Fa("You must provide either an email or phone number and a type")}catch(r){if(j(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Pr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<fl:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await Pr(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=vl()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=Kb(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await U(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ar}):await this._useSession(async r=>{var n,i,a;const{data:o,error:s}=r;if(s)throw s;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ye}:await U(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:ar})})}catch(r){if(j(r))return hl(r)&&(await this._removeSession(),await ke(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new Ye;const o=i.session;let s=null,l=null;this.flowType==="pkce"&&t.email!=null&&([s,l]=await en(this.storage,this.storageKey));const{data:u,error:c}=await U(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:s,code_challenge_method:l}),jwt:o.access_token,xform:ar});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await ke(this.storage,`${this.storageKey}-code-verifier`),j(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ye;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:o}=za(t.access_token);if(o.exp&&(n=o.exp,i=n<=r),i){const{data:s,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!s)return{data:{user:null,session:null},error:null};a=s}else{const{data:s,error:l}=await this._getUser(t.access_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});a={access_token:t.access_token,refresh_token:t.refresh_token,user:s.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(r){if(j(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:s}=r;if(s)throw s;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Ye;const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(j(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!Pe())throw new Wa("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Wa(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Lf("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Wa("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Lf("No code detected.");const{data:v,error:y}=await this._exchangeCodeForSession(t.code);if(y)throw y;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:s,expires_at:l,token_type:u}=t;if(!a||!s||!o||!u)throw new Wa("No session defined in URL");const c=Math.round(Date.now()/1e3),f=parseInt(s);let d=c+f;l&&(d=parseInt(l));const h=d-c;h*1e3<=sn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${f}s`);const p=d-f;c-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,d,c):c-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,d,c);const{data:m,error:w}=await this._getUser(a);if(w)throw w;const g={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:f,expires_at:d,refresh_token:o,token_type:u,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:g,redirectType:t.type},error:null})}catch(n){if(j(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Pr(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a&&!hl(a))return this._returnResult({error:a});const o=(n=i.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:s}=await this.admin.signOut(o,t);if(s&&!(kb(s)&&(s.status===404||s.status===401||s.status===403)||hl(s)))return this._returnResult({error:s})}return t!=="others"&&(await this._removeSession(),await ke(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=Nb(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await en(this.storage,this.storageKey,!0));try{return await U(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(await ke(this.storage,`${this.storageKey}-code-verifier`),j(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(j(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var o,s,l,u,c;const{data:f,error:d}=a;if(d)throw d;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await U(this.fetch,"GET",h,{headers:this.headers,jwt:(c=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(i)throw i;return Pe()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(j(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:a}}=r;if(i)throw i;const{options:o,provider:s,token:l,access_token:u,nonce:c}=t,f=await U(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=a==null?void 0:a.access_token)!==null&&n!==void 0?n:void 0,body:{provider:s,id_token:l,access_token:u,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:bt}),{data:d,error:h}=f;return h?this._returnResult({data:{user:null,session:null},error:h}):!d||!d.session||!d.user?this._returnResult({data:{user:null,session:null},error:new Zr}):(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("USER_UPDATED",d.session)),this._returnResult({data:d,error:h}))}catch(i){if(await ke(this.storage,`${this.storageKey}-code-verifier`),j(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:o}=r;if(o)throw o;return await U(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(j(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Mb(async i=>(i>0&&await $b(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await U(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:bt})),(i,a)=>{const o=200*Math.pow(2,i);return a&&pl(a)&&Date.now()+o-n<sn})}catch(n){if(this._debug(r,"error",n),j(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Pe()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Pr(this.storage,this.storageKey);if(i&&this.userStorage){let o=await Pr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await ln(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:vl()}else if(i&&!i.user&&!i.user){const o=await Pr(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await ke(this.storage,this.storageKey+"-user"),await ln(this.storage,this.storageKey,i)):i.user=vl()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<fl;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${fl}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),pl(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:s}=await this._getUser(i.access_token);!s&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Ye;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new ds;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new Ye;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const s={data:a.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(a){if(this._debug(i,"error",a),j(a)){const o={data:null,error:a};return pl(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(t,r)}catch(l){a.push(l)}});if(await Promise.all(o),a.length>0){for(let s=0;s<a.length;s+=1)console.error(a[s]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await ke(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await ln(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const a=Ff(i);await ln(this.storage,this.storageKey,a)}else{const i=Ff(r);await ln(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await ke(this.storage,this.storageKey),await ke(this.storage,this.storageKey+"-code-verifier"),await ke(this.storage,this.storageKey+"-user"),this.userStorage&&await ke(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Pe()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),sn);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/sn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${sn}ms, refresh threshold is ${Du} ticks`),i<=Du&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof pg)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Pe()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,o]=await en(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(s.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?this._returnResult({data:null,error:a}):await U(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(j(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:o}=r;if(o)return this._returnResult({data:null,error:o});const s=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:u}=await U(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&l.type==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(j(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?pS(t.webauthn.credential_response):vS(t.webauthn.credential_response)})}:{code:t.code}),{data:s,error:l}=await U(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),this._returnResult({data:s,error:l}))})}catch(r){if(j(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=await U(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:s}=o;if(s.type!=="webauthn")return{data:s,error:null};switch(s.webauthn.type){case"create":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:fS(s.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:hS(s.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(j(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(t){var r,n,i,a;if(t)try{const{payload:h}=za(t);let p=null;h.aal&&(p=h.aal);let m=p;const{data:{user:w},error:g}=await this.getUser(t);if(g)return this._returnResult({data:null,error:g});((n=(r=w==null?void 0:w.factors)===null||r===void 0?void 0:r.filter(b=>b.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(m="aal2");const y=h.amr||[];return{data:{currentLevel:p,nextLevel:m,currentAuthenticationMethods:y},error:null}}catch(h){if(j(h))return this._returnResult({data:null,error:h});throw h}const{data:{session:o},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=za(o.access_token);let u=null;l.aal&&(u=l.aal);let c=u;((a=(i=o.user.factors)===null||i===void 0?void 0:i.filter(h=>h.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(c="aal2");const d=l.amr||[];return{data:{currentLevel:u,nextLevel:c,currentAuthenticationMethods:d},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await U(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Ye})})}catch(r){if(j(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new Ye});const o=await U(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:s=>({data:s,error:null})});return o.data&&o.data.redirect_url&&Pe()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(j(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new Ye});const o=await U(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:s=>({data:s,error:null})});return o.data&&o.data.redirect_url&&Pe()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(j(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await U(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Ye})})}catch(t){if(j(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?(await U(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Ye})})}catch(r){if(j(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(s=>s.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(s=>s.kid===t),n&&this.jwks_cached_at+Eb>i)return n;const{data:a,error:o}=await U(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,n=a.keys.find(s=>s.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:h,error:p}=await this.getSession();if(p||!h.session)return this._returnResult({data:null,error:p});n=h.session.access_token}const{header:i,payload:a,signature:o,raw:{header:s,payload:l}}=za(n);r!=null&&r.allowExpired||Gb(a.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:h}=await this.getUser(n);if(h)throw h;return{data:{claims:a,header:i,signature:o},error:null}}const c=Vb(i.alg),f=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,f,o,Rb(`${s}.${l}`)))throw new Iu("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(n){if(j(n))return this._returnResult({data:null,error:n});throw n}}}qi.nextInstanceID={};const xS=qi,kS="2.98.0";let di="";typeof Deno<"u"?di="deno":typeof document<"u"?di="web":typeof navigator<"u"&&navigator.product==="ReactNative"?di="react-native":di="node";const CS={"X-Client-Info":`supabase-js-${di}/${kS}`},PS={headers:CS},DS={schema:"public"},OS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},TS={};function Ki(e){"@babel/helpers - typeof";return Ki=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ki(e)}function IS(e,t){if(Ki(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ki(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RS(e){var t=IS(e,"string");return Ki(t)=="symbol"?t:t+""}function AS(e,t,r){return(t=RS(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ue(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kf(Object(r),!0).forEach(function(n){AS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kf(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const NS=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),jS=()=>Headers,LS=(e,t,r)=>{const n=NS(r),i=jS();return async(a,o)=>{var s;const l=(s=await t())!==null&&s!==void 0?s:e;let u=new i(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(a,ue(ue({},o),{},{headers:u}))}};function $S(e){return e.endsWith("/")?e:e+"/"}function MS(e,t){var r,n;const{db:i,auth:a,realtime:o,global:s}=e,{db:l,auth:u,realtime:c,global:f}=t,d={db:ue(ue({},l),i),auth:ue(ue({},u),a),realtime:ue(ue({},c),o),storage:{},global:ue(ue(ue({},f),s),{},{headers:ue(ue({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=s==null?void 0:s.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}function BS(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL($S(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var US=class extends xS{constructor(e){super(e)}},FS=class{constructor(e,t,r){var n,i;this.supabaseUrl=e,this.supabaseKey=t;const a=BS(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const o=`sb-${a.hostname.split(".")[0]}-auth-token`,s={db:DS,realtime:TS,auth:ue(ue({},OS),{},{storageKey:o}),global:PS},l=MS(r??{},s);if(this.storageKey=(n=l.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=l.global.headers)!==null&&i!==void 0?i:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(c,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=l.auth)!==null&&u!==void 0?u:{},this.headers,l.global.fetch)}this.fetch=LS(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(ue({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(c=>this.realtime.setAuth(c)).catch(c=>console.warn("Failed to set initial Realtime auth token:",c)),this.rest=new k0(new URL("rest/v1",a).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch,timeout:l.db.timeout,urlLengthLimit:l.db.urlLengthLimit}),this.storage=new yb(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new m0(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:i,storageKey:a,flowType:o,lock:s,debug:l,throwOnError:u},c,f){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new US({url:this.authUrl.href,headers:ue(ue({},d),c),storageKey:a,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:i,flowType:o,lock:s,debug:l,throwOnError:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(h=>h.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new W0(this.realtimeUrl.href,ue(ue({},e),{},{params:ue(ue({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const WS=(e,t,r)=>new FS(e,t,r);function zS(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}zS()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const HS="https://bdisppaxbvygsspcuymb.supabase.co",GS="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJkaXNwcGF4YnZ5Z3NzcGN1eW1iIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzEyNDY4NDQsImV4cCI6MjA4NjgyMjg0NH0.bjgoVhVboDQTmIPe_A5_4yiWvTBvckVtw88lQ7GWFrc",Je=WS(HS,GS);function ie(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Tt(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function VS(e,t){const r=ie(e);return isNaN(t)?Tt(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function mg(e,t){const r=ie(e);if(isNaN(t))return Tt(e,NaN);if(!t)return r;const n=r.getDate(),i=Tt(e,r.getTime());i.setMonth(r.getMonth()+t+1,0);const a=i.getDate();return n>=a?i:(r.setFullYear(i.getFullYear(),i.getMonth(),n),r)}const yg=6048e5,qS=864e5;let KS={};function fs(){return KS}function Ht(e,t){var s,l,u,c;const r=fs(),n=(t==null?void 0:t.weekStartsOn)??((l=(s=t==null?void 0:t.locale)==null?void 0:s.options)==null?void 0:l.weekStartsOn)??r.weekStartsOn??((c=(u=r.locale)==null?void 0:u.options)==null?void 0:c.weekStartsOn)??0,i=ie(e),a=i.getDay(),o=(a<n?7:0)+a-n;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function jo(e){return Ht(e,{weekStartsOn:1})}function wg(e){const t=ie(e),r=t.getFullYear(),n=Tt(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const i=jo(n),a=Tt(e,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const o=jo(a);return t.getTime()>=i.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function Lo(e){const t=ie(e);return t.setHours(0,0,0,0),t}function Yf(e){const t=ie(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function YS(e,t){const r=Lo(e),n=Lo(t),i=+r-Yf(r),a=+n-Yf(n);return Math.round((i-a)/qS)}function JS(e){const t=wg(e),r=Tt(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),jo(r)}function QS(e,t){const r=t*7;return VS(e,r)}function XS(e){return Tt(e,Date.now())}function Ru(e,t){const r=Lo(e),n=Lo(t);return+r==+n}function ZS(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function e_(e){if(!ZS(e)&&typeof e!="number")return!1;const t=ie(e);return!isNaN(Number(t))}function t_(e){const t=ie(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function r_(e,t){const r=ie(e.start),n=ie(e.end);let i=+r>+n;const a=i?+r:+n,o=i?n:r;o.setHours(0,0,0,0);let s=1;const l=[];for(;+o<=a;)l.push(ie(o)),o.setDate(o.getDate()+s),o.setHours(0,0,0,0);return i?l.reverse():l}function n_(e,t){const r=ie(e.start),n=ie(e.end);let i=+r>+n;const a=Ht(i?n:r,t),o=Ht(i?r:n,t);a.setHours(15),o.setHours(15);const s=+o.getTime();let l=a,u=(t==null?void 0:t.step)??1;if(!u)return[];u<0&&(u=-u,i=!i);const c=[];for(;+l<=s;)l.setHours(0),c.push(ie(l)),l=QS(l,u),l.setHours(15);return i?c.reverse():c}function i_(e){const t=ie(e);return t.setDate(1),t.setHours(0,0,0,0),t}function a_(e){const t=ie(e),r=Tt(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function o_(e,t){const r=t==null?void 0:t.weekStartsOn,n=ie(e),i=n.getDay(),a=(i<r?-7:0)+6-(i-r);return n.setDate(n.getDate()+a),n.setHours(23,59,59,999),n}const s_={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},l_=(e,t,r)=>{let n;const i=s_[e];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function ml(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const u_={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},c_={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},d_={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},f_={date:ml({formats:u_,defaultWidth:"full"}),time:ml({formats:c_,defaultWidth:"full"}),dateTime:ml({formats:d_,defaultWidth:"full"})},h_={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},p_=(e,t,r,n)=>h_[e];function ri(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,s=r!=null&&r.width?String(r.width):o;i=e.formattingValues[s]||e.formattingValues[o]}else{const o=e.defaultWidth,s=r!=null&&r.width?String(r.width):e.defaultWidth;i=e.values[s]||e.values[o]}const a=e.argumentCallback?e.argumentCallback(t):t;return i[a]}}const v_={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},g_={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},m_={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},y_={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},w_={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},b_={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},S_=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},__={ordinalNumber:S_,era:ri({values:v_,defaultWidth:"wide"}),quarter:ri({values:g_,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ri({values:m_,defaultWidth:"wide"}),day:ri({values:y_,defaultWidth:"wide"}),dayPeriod:ri({values:w_,defaultWidth:"wide",formattingValues:b_,defaultFormattingWidth:"wide"})};function ni(e){return(t,r={})=>{const n=r.width,i=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;const o=a[0],s=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(s)?x_(s,f=>f.test(o)):E_(s,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(l):l,u=r.valueCallback?r.valueCallback(u):u;const c=t.slice(o.length);return{value:u,rest:c}}}function E_(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function x_(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function k_(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const i=n[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=r.valueCallback?r.valueCallback(o):o;const s=t.slice(i.length);return{value:o,rest:s}}}const C_=/^(\d+)(th|st|nd|rd)?/i,P_=/\d+/i,D_={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},O_={any:[/^b/i,/^(a|c)/i]},T_={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},I_={any:[/1/i,/2/i,/3/i,/4/i]},R_={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},A_={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},N_={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},j_={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},L_={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},$_={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},M_={ordinalNumber:k_({matchPattern:C_,parsePattern:P_,valueCallback:e=>parseInt(e,10)}),era:ni({matchPatterns:D_,defaultMatchWidth:"wide",parsePatterns:O_,defaultParseWidth:"any"}),quarter:ni({matchPatterns:T_,defaultMatchWidth:"wide",parsePatterns:I_,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ni({matchPatterns:R_,defaultMatchWidth:"wide",parsePatterns:A_,defaultParseWidth:"any"}),day:ni({matchPatterns:N_,defaultMatchWidth:"wide",parsePatterns:j_,defaultParseWidth:"any"}),dayPeriod:ni({matchPatterns:L_,defaultMatchWidth:"any",parsePatterns:$_,defaultParseWidth:"any"})},B_={code:"en-US",formatDistance:l_,formatLong:f_,formatRelative:p_,localize:__,match:M_,options:{weekStartsOn:0,firstWeekContainsDate:1}};function U_(e){const t=ie(e);return YS(t,a_(t))+1}function F_(e){const t=ie(e),r=+jo(t)-+JS(t);return Math.round(r/yg)+1}function bg(e,t){var c,f,d,h;const r=ie(e),n=r.getFullYear(),i=fs(),a=(t==null?void 0:t.firstWeekContainsDate)??((f=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:f.firstWeekContainsDate)??i.firstWeekContainsDate??((h=(d=i.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,o=Tt(e,0);o.setFullYear(n+1,0,a),o.setHours(0,0,0,0);const s=Ht(o,t),l=Tt(e,0);l.setFullYear(n,0,a),l.setHours(0,0,0,0);const u=Ht(l,t);return r.getTime()>=s.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function W_(e,t){var s,l,u,c;const r=fs(),n=(t==null?void 0:t.firstWeekContainsDate)??((l=(s=t==null?void 0:t.locale)==null?void 0:s.options)==null?void 0:l.firstWeekContainsDate)??r.firstWeekContainsDate??((c=(u=r.locale)==null?void 0:u.options)==null?void 0:c.firstWeekContainsDate)??1,i=bg(e,t),a=Tt(e,0);return a.setFullYear(i,0,n),a.setHours(0,0,0,0),Ht(a,t)}function z_(e,t){const r=ie(e),n=+Ht(r,t)-+W_(r,t);return Math.round(n/yg)+1}function K(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Zt={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return K(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):K(r+1,2)},d(e,t){return K(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return K(e.getHours()%12||12,t.length)},H(e,t){return K(e.getHours(),t.length)},m(e,t){return K(e.getMinutes(),t.length)},s(e,t){return K(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return K(i,t.length)}},nn={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Jf={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return Zt.y(e,t)},Y:function(e,t,r,n){const i=bg(e,n),a=i>0?i:1-i;if(t==="YY"){const o=a%100;return K(o,2)}return t==="Yo"?r.ordinalNumber(a,{unit:"year"}):K(a,t.length)},R:function(e,t){const r=wg(e);return K(r,t.length)},u:function(e,t){const r=e.getFullYear();return K(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return K(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return K(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Zt.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return K(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const i=z_(e,n);return t==="wo"?r.ordinalNumber(i,{unit:"week"}):K(i,t.length)},I:function(e,t,r){const n=F_(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):K(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Zt.d(e,t)},D:function(e,t,r){const n=U_(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):K(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const i=e.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return K(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const i=e.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return K(a,t.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),i=n===0?7:n;switch(t){case"i":return String(i);case"ii":return K(i,t.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let i;switch(n===12?i=nn.noon:n===0?i=nn.midnight:i=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let i;switch(n>=17?i=nn.evening:n>=12?i=nn.afternoon:n>=4?i=nn.morning:i=nn.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Zt.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Zt.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):K(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):K(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Zt.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Zt.s(e,t)},S:function(e,t){return Zt.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return Xf(n);case"XXXX":case"XX":return Rr(n);case"XXXXX":case"XXX":default:return Rr(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return Xf(n);case"xxxx":case"xx":return Rr(n);case"xxxxx":case"xxx":default:return Rr(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Qf(n,":");case"OOOO":default:return"GMT"+Rr(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Qf(n,":");case"zzzz":default:return"GMT"+Rr(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return K(n,t.length)},T:function(e,t,r){const n=e.getTime();return K(n,t.length)}};function Qf(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=Math.trunc(n/60),a=n%60;return a===0?r+String(i):r+String(i)+t+K(a,2)}function Xf(e,t){return e%60===0?(e>0?"-":"+")+K(Math.abs(e)/60,2):Rr(e,t)}function Rr(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=K(Math.trunc(n/60),2),a=K(n%60,2);return r+i+t+a}const Zf=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Sg=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},H_=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return Zf(e,t);let a;switch(n){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",Zf(n,t)).replace("{{time}}",Sg(i,t))},G_={p:Sg,P:H_},V_=/^D+$/,q_=/^Y+$/,K_=["D","DD","YY","YYYY"];function Y_(e){return V_.test(e)}function J_(e){return q_.test(e)}function Q_(e,t,r){const n=X_(e,t,r);if(console.warn(n),K_.includes(e))throw new RangeError(n)}function X_(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Z_=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,eE=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,tE=/^'([^]*?)'?$/,rE=/''/g,nE=/[a-zA-Z]/;function _g(e,t,r){var c,f,d,h;const n=fs(),i=n.locale??B_,a=n.firstWeekContainsDate??((f=(c=n.locale)==null?void 0:c.options)==null?void 0:f.firstWeekContainsDate)??1,o=n.weekStartsOn??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.weekStartsOn)??0,s=ie(e);if(!e_(s))throw new RangeError("Invalid time value");let l=t.match(eE).map(p=>{const m=p[0];if(m==="p"||m==="P"){const w=G_[m];return w(p,i.formatLong)}return p}).join("").match(Z_).map(p=>{if(p==="''")return{isToken:!1,value:"'"};const m=p[0];if(m==="'")return{isToken:!1,value:iE(p)};if(Jf[m])return{isToken:!0,value:p};if(m.match(nE))throw new RangeError("Format string contains an unescaped latin alphabet character `"+m+"`");return{isToken:!1,value:p}});i.localize.preprocessor&&(l=i.localize.preprocessor(s,l));const u={firstWeekContainsDate:a,weekStartsOn:o,locale:i};return l.map(p=>{if(!p.isToken)return p.value;const m=p.value;(J_(m)||Y_(m))&&Q_(m,t,String(e));const w=Jf[m[0]];return w(s,m,i.localize,u)}).join("")}function iE(e){const t=e.match(tE);return t?t[1].replace(rE,"'"):e}function aE(e,t){const r=ie(e),n=ie(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function oE(e){return Ru(e,XS(e))}function sE(e,t){return mg(e,-1)}function lE({currentMonth:e,onMonthChange:t,onExportPDF:r,onToggleFavorites:n,bulkEditMode:i,onToggleBulkEdit:a}){const o=async()=>{await Je.auth.signOut(),window.location.reload()};return S.jsxs("header",{className:"calendar-header",children:[S.jsxs("div",{className:"header-left",children:[S.jsx("h1",{children:"Athlete's Training Plan"}),S.jsx("p",{className:"subtitle",children:"12-week program for Low Risk (AISRI: 75/100)"})]}),S.jsxs("div",{className:"header-center",children:[S.jsx("button",{className:"month-nav-btn",onClick:()=>t(sE(e)),children:""}),S.jsx("h2",{className:"current-month",children:_g(e,"MMMM yyyy")}),S.jsx("button",{className:"month-nav-btn",onClick:()=>t(mg(e,1)),children:""})]}),S.jsxs("div",{className:"header-right",children:[S.jsx("button",{className:`btn-icon ${i?"active":""}`,onClick:a,title:"Bulk Edit Mode",children:""}),S.jsx("button",{className:"btn-icon",onClick:n,title:"Favorites",children:""}),S.jsx("button",{className:"btn-primary",onClick:r,children:" Export PDF"}),S.jsx("button",{className:"btn-secondary",onClick:o,title:"Sign Out",children:" Sign Out"})]})]})}function Au(e,t){return Au=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Au(e,t)}function Eg(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Au(e,t)}function M(){return M=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},M.apply(null,arguments)}function Yi(e){"@babel/helpers - typeof";return Yi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yi(e)}function uE(e,t){if(Yi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cE(e){var t=uE(e,"string");return Yi(t)=="symbol"?t:t+""}function dE(e,t,r){return(t=cE(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function th(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eh(Object(r),!0).forEach(function(n){dE(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eh(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ze(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var rh=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),nh=function(){return Math.random().toString(36).substring(7).split("").join(".")},ih={INIT:"@@redux/INIT"+nh(),REPLACE:"@@redux/REPLACE"+nh()};function fE(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function xg(e,t,r){var n;if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(ze(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(ze(1));return r(xg)(e,t)}if(typeof e!="function")throw new Error(ze(2));var i=e,a=t,o=[],s=o,l=!1;function u(){s===o&&(s=o.slice())}function c(){if(l)throw new Error(ze(3));return a}function f(m){if(typeof m!="function")throw new Error(ze(4));if(l)throw new Error(ze(5));var w=!0;return u(),s.push(m),function(){if(w){if(l)throw new Error(ze(6));w=!1,u();var v=s.indexOf(m);s.splice(v,1),o=null}}}function d(m){if(!fE(m))throw new Error(ze(7));if(typeof m.type>"u")throw new Error(ze(8));if(l)throw new Error(ze(9));try{l=!0,a=i(a,m)}finally{l=!1}for(var w=o=s,g=0;g<w.length;g++){var v=w[g];v()}return m}function h(m){if(typeof m!="function")throw new Error(ze(10));i=m,d({type:ih.REPLACE})}function p(){var m,w=f;return m={subscribe:function(v){if(typeof v!="object"||v===null)throw new Error(ze(11));function y(){v.next&&v.next(c())}y();var b=w(y);return{unsubscribe:b}}},m[rh]=function(){return this},m}return d({type:ih.INIT}),n={dispatch:d,subscribe:f,getState:c,replaceReducer:h},n[rh]=p,n}function ah(e,t){return function(){return t(e.apply(this,arguments))}}function oh(e,t){if(typeof e=="function")return ah(e,t);if(typeof e!="object"||e===null)throw new Error(ze(16));var r={};for(var n in e){var i=e[n];typeof i=="function"&&(r[n]=ah(i,t))}return r}function kg(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.length===0?function(n){return n}:t.length===1?t[0]:t.reduce(function(n,i){return function(){return n(i.apply(void 0,arguments))}})}function hE(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){return function(){var i=n.apply(void 0,arguments),a=function(){throw new Error(ze(15))},o={getState:i.getState,dispatch:function(){return a.apply(void 0,arguments)}},s=t.map(function(l){return l(o)});return a=kg.apply(void 0,s)(i.dispatch),th(th({},i),{},{dispatch:a})}}}var Cg=Z.createContext(null);function pE(e){e()}var Pg=pE,vE=function(t){return Pg=t},gE=function(){return Pg};function mE(){var e=gE(),t=null,r=null;return{clear:function(){t=null,r=null},notify:function(){e(function(){for(var i=t;i;)i.callback(),i=i.next})},get:function(){for(var i=[],a=t;a;)i.push(a),a=a.next;return i},subscribe:function(i){var a=!0,o=r={callback:i,next:null,prev:r};return o.prev?o.prev.next=o:t=o,function(){!a||t===null||(a=!1,o.next?o.next.prev=o.prev:r=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}var sh={notify:function(){},get:function(){return[]}};function Dg(e,t){var r,n=sh;function i(f){return l(),n.subscribe(f)}function a(){n.notify()}function o(){c.onStateChange&&c.onStateChange()}function s(){return!!r}function l(){r||(r=t?t.addNestedSub(o):e.subscribe(o),n=mE())}function u(){r&&(r(),r=void 0,n.clear(),n=sh)}var c={addNestedSub:i,notifyNestedSubs:a,handleChangeWrapper:o,isSubscribed:s,trySubscribe:l,tryUnsubscribe:u,getListeners:function(){return n}};return c}var Og=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?O.useLayoutEffect:O.useEffect;function yE(e){var t=e.store,r=e.context,n=e.children,i=O.useMemo(function(){var s=Dg(t);return{store:t,subscription:s}},[t]),a=O.useMemo(function(){return t.getState()},[t]);Og(function(){var s=i.subscription;return s.onStateChange=s.notifyNestedSubs,s.trySubscribe(),a!==t.getState()&&s.notifyNestedSubs(),function(){s.tryUnsubscribe(),s.onStateChange=null}},[i,a]);var o=r||Cg;return Z.createElement(o.Provider,{value:i},n)}function $o(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Tg={exports:{}},J={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ee=typeof Symbol=="function"&&Symbol.for,Mc=Ee?Symbol.for("react.element"):60103,Bc=Ee?Symbol.for("react.portal"):60106,hs=Ee?Symbol.for("react.fragment"):60107,ps=Ee?Symbol.for("react.strict_mode"):60108,vs=Ee?Symbol.for("react.profiler"):60114,gs=Ee?Symbol.for("react.provider"):60109,ms=Ee?Symbol.for("react.context"):60110,Uc=Ee?Symbol.for("react.async_mode"):60111,ys=Ee?Symbol.for("react.concurrent_mode"):60111,ws=Ee?Symbol.for("react.forward_ref"):60112,bs=Ee?Symbol.for("react.suspense"):60113,wE=Ee?Symbol.for("react.suspense_list"):60120,Ss=Ee?Symbol.for("react.memo"):60115,_s=Ee?Symbol.for("react.lazy"):60116,bE=Ee?Symbol.for("react.block"):60121,SE=Ee?Symbol.for("react.fundamental"):60117,_E=Ee?Symbol.for("react.responder"):60118,EE=Ee?Symbol.for("react.scope"):60119;function st(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Mc:switch(e=e.type,e){case Uc:case ys:case hs:case vs:case ps:case bs:return e;default:switch(e=e&&e.$$typeof,e){case ms:case ws:case _s:case Ss:case gs:return e;default:return t}}case Bc:return t}}}function Ig(e){return st(e)===ys}J.AsyncMode=Uc;J.ConcurrentMode=ys;J.ContextConsumer=ms;J.ContextProvider=gs;J.Element=Mc;J.ForwardRef=ws;J.Fragment=hs;J.Lazy=_s;J.Memo=Ss;J.Portal=Bc;J.Profiler=vs;J.StrictMode=ps;J.Suspense=bs;J.isAsyncMode=function(e){return Ig(e)||st(e)===Uc};J.isConcurrentMode=Ig;J.isContextConsumer=function(e){return st(e)===ms};J.isContextProvider=function(e){return st(e)===gs};J.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Mc};J.isForwardRef=function(e){return st(e)===ws};J.isFragment=function(e){return st(e)===hs};J.isLazy=function(e){return st(e)===_s};J.isMemo=function(e){return st(e)===Ss};J.isPortal=function(e){return st(e)===Bc};J.isProfiler=function(e){return st(e)===vs};J.isStrictMode=function(e){return st(e)===ps};J.isSuspense=function(e){return st(e)===bs};J.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===hs||e===ys||e===vs||e===ps||e===bs||e===wE||typeof e=="object"&&e!==null&&(e.$$typeof===_s||e.$$typeof===Ss||e.$$typeof===gs||e.$$typeof===ms||e.$$typeof===ws||e.$$typeof===SE||e.$$typeof===_E||e.$$typeof===EE||e.$$typeof===bE)};J.typeOf=st;Tg.exports=J;var xE=Tg.exports,Fc=xE,kE={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},CE={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},PE={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Rg={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Wc={};Wc[Fc.ForwardRef]=PE;Wc[Fc.Memo]=Rg;function lh(e){return Fc.isMemo(e)?Rg:Wc[e.$$typeof]||kE}var DE=Object.defineProperty,OE=Object.getOwnPropertyNames,uh=Object.getOwnPropertySymbols,TE=Object.getOwnPropertyDescriptor,IE=Object.getPrototypeOf,ch=Object.prototype;function Ag(e,t,r){if(typeof t!="string"){if(ch){var n=IE(t);n&&n!==ch&&Ag(e,n,r)}var i=OE(t);uh&&(i=i.concat(uh(t)));for(var a=lh(e),o=lh(t),s=0;s<i.length;++s){var l=i[s];if(!CE[l]&&!(r&&r[l])&&!(o&&o[l])&&!(a&&a[l])){var u=TE(t,l);try{DE(e,l,u)}catch{}}}}return e}var RE=Ag;const dh=Uu(RE);var Ng={exports:{}},Q={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Es=60103,xs=60106,sa=60107,la=60108,ua=60114,ca=60109,da=60110,fa=60112,ha=60113,zc=60120,pa=60115,va=60116,jg=60121,Lg=60122,$g=60117,Mg=60129,Bg=60131;if(typeof Symbol=="function"&&Symbol.for){var Ce=Symbol.for;Es=Ce("react.element"),xs=Ce("react.portal"),sa=Ce("react.fragment"),la=Ce("react.strict_mode"),ua=Ce("react.profiler"),ca=Ce("react.provider"),da=Ce("react.context"),fa=Ce("react.forward_ref"),ha=Ce("react.suspense"),zc=Ce("react.suspense_list"),pa=Ce("react.memo"),va=Ce("react.lazy"),jg=Ce("react.block"),Lg=Ce("react.server.block"),$g=Ce("react.fundamental"),Mg=Ce("react.debug_trace_mode"),Bg=Ce("react.legacy_hidden")}function It(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Es:switch(e=e.type,e){case sa:case ua:case la:case ha:case zc:return e;default:switch(e=e&&e.$$typeof,e){case da:case fa:case va:case pa:case ca:return e;default:return t}}case xs:return t}}}var AE=ca,NE=Es,jE=fa,LE=sa,$E=va,ME=pa,BE=xs,UE=ua,FE=la,WE=ha;Q.ContextConsumer=da;Q.ContextProvider=AE;Q.Element=NE;Q.ForwardRef=jE;Q.Fragment=LE;Q.Lazy=$E;Q.Memo=ME;Q.Portal=BE;Q.Profiler=UE;Q.StrictMode=FE;Q.Suspense=WE;Q.isAsyncMode=function(){return!1};Q.isConcurrentMode=function(){return!1};Q.isContextConsumer=function(e){return It(e)===da};Q.isContextProvider=function(e){return It(e)===ca};Q.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Es};Q.isForwardRef=function(e){return It(e)===fa};Q.isFragment=function(e){return It(e)===sa};Q.isLazy=function(e){return It(e)===va};Q.isMemo=function(e){return It(e)===pa};Q.isPortal=function(e){return It(e)===xs};Q.isProfiler=function(e){return It(e)===ua};Q.isStrictMode=function(e){return It(e)===la};Q.isSuspense=function(e){return It(e)===ha};Q.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===sa||e===ua||e===Mg||e===la||e===ha||e===zc||e===Bg||typeof e=="object"&&e!==null&&(e.$$typeof===va||e.$$typeof===pa||e.$$typeof===ca||e.$$typeof===da||e.$$typeof===fa||e.$$typeof===$g||e.$$typeof===jg||e[0]===Lg)};Q.typeOf=It;Ng.exports=Q;var zE=Ng.exports,HE=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],GE=["reactReduxForwardedRef"],VE=[],qE=[null,null];function KE(e,t){var r=e[1];return[t.payload,r+1]}function fh(e,t,r){Og(function(){return e.apply(void 0,t)},r)}function YE(e,t,r,n,i,a,o){e.current=n,t.current=i,r.current=!1,a.current&&(a.current=null,o())}function JE(e,t,r,n,i,a,o,s,l,u){if(e){var c=!1,f=null,d=function(){if(!c){var m=t.getState(),w,g;try{w=n(m,i.current)}catch(v){g=v,f=v}g||(f=null),w===a.current?o.current||l():(a.current=w,s.current=w,o.current=!0,u({type:"STORE_UPDATED",payload:{error:g}}))}};r.onStateChange=d,r.trySubscribe(),d();var h=function(){if(c=!0,r.tryUnsubscribe(),r.onStateChange=null,f)throw f};return h}}var QE=function(){return[null,0]};function XE(e,t){t===void 0&&(t={});var r=t,n=r.getDisplayName,i=n===void 0?function(y){return"ConnectAdvanced("+y+")"}:n,a=r.methodName,o=a===void 0?"connectAdvanced":a,s=r.renderCountProp,l=s===void 0?void 0:s,u=r.shouldHandleStateChanges,c=u===void 0?!0:u,f=r.storeKey,d=f===void 0?"store":f;r.withRef;var h=r.forwardRef,p=h===void 0?!1:h,m=r.context,w=m===void 0?Cg:m,g=$o(r,HE),v=w;return function(b){var E=b.displayName||b.name||"Component",_=i(E),x=M({},g,{getDisplayName:i,methodName:o,renderCountProp:l,shouldHandleStateChanges:c,storeKey:d,displayName:_,wrappedComponentName:E,WrappedComponent:b}),C=g.pure;function I(q){return e(q.dispatch,x)}var A=C?O.useMemo:function(q){return q()};function F(q){var de=O.useMemo(function(){var Vn=q.reactReduxForwardedRef,$s=$o(q,GE);return[q.context,Vn,$s]},[q]),he=de[0],lt=de[1],T=de[2],P=O.useMemo(function(){return he&&he.Consumer&&zE.isContextConsumer(Z.createElement(he.Consumer,null))?he:v},[he,v]),R=O.useContext(P),B=!!q.store&&!!q.store.getState&&!!q.store.dispatch;R&&R.store;var W=B?q.store:R.store,$e=O.useMemo(function(){return I(W)},[W]),xe=O.useMemo(function(){if(!c)return qE;var Vn=Dg(W,B?null:R.subscription),$s=Vn.notifyNestedSubs.bind(Vn);return[Vn,$s]},[W,B,R]),Re=xe[0],ut=xe[1],$t=O.useMemo(function(){return B?R:M({},R,{subscription:Re})},[B,R,Re]),ya=O.useReducer(KE,VE,QE),Rs=ya[0],Jr=Rs[0],As=ya[1];if(Jr&&Jr.error)throw Jr.error;var hd=O.useRef(),Ns=O.useRef(T),wa=O.useRef(),pd=O.useRef(!1),js=A(function(){return wa.current&&T===Ns.current?wa.current:$e(W.getState(),T)},[W,Jr,T]);fh(YE,[Ns,hd,pd,T,js,wa,ut]),fh(JE,[c,W,Re,$e,Ns,hd,pd,wa,ut,As],[W,Re,$e]);var Ls=O.useMemo(function(){return Z.createElement(b,M({},js,{ref:lt}))},[lt,b,js]),Fm=O.useMemo(function(){return c?Z.createElement(P.Provider,{value:$t},Ls):Ls},[P,Ls,$t]);return Fm}var le=C?Z.memo(F):F;if(le.WrappedComponent=b,le.displayName=F.displayName=_,p){var z=Z.forwardRef(function(de,he){return Z.createElement(le,M({},de,{reactReduxForwardedRef:he}))});return z.displayName=_,z.WrappedComponent=b,dh(z,b)}return dh(le,b)}}function hh(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function yl(e,t){if(hh(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var i=0;i<r.length;i++)if(!Object.prototype.hasOwnProperty.call(t,r[i])||!hh(e[r[i]],t[r[i]]))return!1;return!0}function ZE(e,t){var r={},n=function(o){var s=e[o];typeof s=="function"&&(r[o]=function(){return t(s.apply(void 0,arguments))})};for(var i in e)n(i);return r}function Hc(e){return function(r,n){var i=e(r,n);function a(){return i}return a.dependsOnOwnProps=!1,a}}function ph(e){return e.dependsOnOwnProps!==null&&e.dependsOnOwnProps!==void 0?!!e.dependsOnOwnProps:e.length!==1}function Ug(e,t){return function(n,i){i.displayName;var a=function(s,l){return a.dependsOnOwnProps?a.mapToProps(s,l):a.mapToProps(s)};return a.dependsOnOwnProps=!0,a.mapToProps=function(s,l){a.mapToProps=e,a.dependsOnOwnProps=ph(e);var u=a(s,l);return typeof u=="function"&&(a.mapToProps=u,a.dependsOnOwnProps=ph(u),u=a(s,l)),u},a}}function ex(e){return typeof e=="function"?Ug(e):void 0}function tx(e){return e?void 0:Hc(function(t){return{dispatch:t}})}function rx(e){return e&&typeof e=="object"?Hc(function(t){return ZE(e,t)}):void 0}const nx=[ex,tx,rx];function ix(e){return typeof e=="function"?Ug(e):void 0}function ax(e){return e?void 0:Hc(function(){return{}})}const ox=[ix,ax];function sx(e,t,r){return M({},r,e,t)}function lx(e){return function(r,n){n.displayName;var i=n.pure,a=n.areMergedPropsEqual,o=!1,s;return function(u,c,f){var d=e(u,c,f);return o?(!i||!a(d,s))&&(s=d):(o=!0,s=d),s}}}function ux(e){return typeof e=="function"?lx(e):void 0}function cx(e){return e?void 0:function(){return sx}}const dx=[ux,cx];var fx=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function hx(e,t,r,n){return function(a,o){return r(e(a,o),t(n,o),o)}}function px(e,t,r,n,i){var a=i.areStatesEqual,o=i.areOwnPropsEqual,s=i.areStatePropsEqual,l=!1,u,c,f,d,h;function p(y,b){return u=y,c=b,f=e(u,c),d=t(n,c),h=r(f,d,c),l=!0,h}function m(){return f=e(u,c),t.dependsOnOwnProps&&(d=t(n,c)),h=r(f,d,c),h}function w(){return e.dependsOnOwnProps&&(f=e(u,c)),t.dependsOnOwnProps&&(d=t(n,c)),h=r(f,d,c),h}function g(){var y=e(u,c),b=!s(y,f);return f=y,b&&(h=r(f,d,c)),h}function v(y,b){var E=!o(b,c),_=!a(y,u,b,c);return u=y,c=b,E&&_?m():E?w():_?g():h}return function(b,E){return l?v(b,E):p(b,E)}}function vx(e,t){var r=t.initMapStateToProps,n=t.initMapDispatchToProps,i=t.initMergeProps,a=$o(t,fx),o=r(e,a),s=n(e,a),l=i(e,a),u=a.pure?px:hx;return u(o,s,l,e,a)}var gx=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function wl(e,t,r){for(var n=t.length-1;n>=0;n--){var i=t[n](e);if(i)return i}return function(a,o){throw new Error("Invalid value of type "+typeof e+" for "+r+" argument when connecting component "+o.wrappedComponentName+".")}}function mx(e,t){return e===t}function yx(e){var t=e===void 0?{}:e,r=t.connectHOC,n=r===void 0?XE:r,i=t.mapStateToPropsFactories,a=i===void 0?ox:i,o=t.mapDispatchToPropsFactories,s=o===void 0?nx:o,l=t.mergePropsFactories,u=l===void 0?dx:l,c=t.selectorFactory,f=c===void 0?vx:c;return function(h,p,m,w){w===void 0&&(w={});var g=w,v=g.pure,y=v===void 0?!0:v,b=g.areStatesEqual,E=b===void 0?mx:b,_=g.areOwnPropsEqual,x=_===void 0?yl:_,C=g.areStatePropsEqual,I=C===void 0?yl:C,A=g.areMergedPropsEqual,F=A===void 0?yl:A,le=$o(g,gx),z=wl(h,a,"mapStateToProps"),q=wl(p,s,"mapDispatchToProps"),de=wl(m,u,"mergeProps");return n(f,M({methodName:"connect",getDisplayName:function(lt){return"Connect("+lt+")"},shouldHandleStateChanges:!!h,initMapStateToProps:z,initMapDispatchToProps:q,initMergeProps:de,pure:y,areStatesEqual:E,areOwnPropsEqual:x,areStatePropsEqual:I,areMergedPropsEqual:F},le))}}const Fg=yx();vE(jc.unstable_batchedUpdates);function wx(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function Wg(e,t){var r=O.useState(function(){return{inputs:t,result:e()}})[0],n=O.useRef(!0),i=O.useRef(r),a=n.current||!!(t&&i.current.inputs&&wx(t,i.current.inputs)),o=a?i.current:{inputs:t,result:e()};return O.useEffect(function(){n.current=!1,i.current=o},[o]),o.result}function bx(e,t){return Wg(function(){return e},t)}var G=Wg,L=bx,Sx="Invariant failed";function _x(e,t){throw new Error(Sx)}var Ct=function(t){var r=t.top,n=t.right,i=t.bottom,a=t.left,o=n-a,s=i-r,l={top:r,right:n,bottom:i,left:a,width:o,height:s,x:a,y:r,center:{x:(n+a)/2,y:(i+r)/2}};return l},Gc=function(t,r){return{top:t.top-r.top,left:t.left-r.left,bottom:t.bottom+r.bottom,right:t.right+r.right}},vh=function(t,r){return{top:t.top+r.top,left:t.left+r.left,bottom:t.bottom-r.bottom,right:t.right-r.right}},Ex=function(t,r){return{top:t.top+r.y,left:t.left+r.x,bottom:t.bottom+r.y,right:t.right+r.x}},bl={top:0,right:0,bottom:0,left:0},Vc=function(t){var r=t.borderBox,n=t.margin,i=n===void 0?bl:n,a=t.border,o=a===void 0?bl:a,s=t.padding,l=s===void 0?bl:s,u=Ct(Gc(r,i)),c=Ct(vh(r,o)),f=Ct(vh(c,l));return{marginBox:u,borderBox:Ct(r),paddingBox:c,contentBox:f,margin:i,border:o,padding:l}},ct=function(t){var r=t.slice(0,-2),n=t.slice(-2);if(n!=="px")return 0;var i=Number(r);return isNaN(i)&&_x(),i},xx=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Mo=function(t,r){var n=t.borderBox,i=t.border,a=t.margin,o=t.padding,s=Ex(n,r);return Vc({borderBox:s,border:i,margin:a,padding:o})},Bo=function(t,r){return r===void 0&&(r=xx()),Mo(t,r)},zg=function(t,r){var n={top:ct(r.marginTop),right:ct(r.marginRight),bottom:ct(r.marginBottom),left:ct(r.marginLeft)},i={top:ct(r.paddingTop),right:ct(r.paddingRight),bottom:ct(r.paddingBottom),left:ct(r.paddingLeft)},a={top:ct(r.borderTopWidth),right:ct(r.borderRightWidth),bottom:ct(r.borderBottomWidth),left:ct(r.borderLeftWidth)};return Vc({borderBox:t,margin:n,padding:i,border:a})},Hg=function(t){var r=t.getBoundingClientRect(),n=window.getComputedStyle(t);return zg(r,n)},gh=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function kx(e,t){return!!(e===t||gh(e)&&gh(t))}function Cx(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!kx(e[r],t[r]))return!1;return!0}function Se(e,t){t===void 0&&(t=Cx);var r,n=[],i,a=!1;function o(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];return a&&r===this&&t(s,n)||(i=e.apply(this,s),a=!0,r=this,n=s),i}return o}var Ji=function(t){var r=[],n=null,i=function(){for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];r=s,!n&&(n=requestAnimationFrame(function(){n=null,t.apply(void 0,r)}))};return i.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},i};function Gg(e,t){}Gg.bind(null,"warn");Gg.bind(null,"error");function gr(){}function Px(e,t){return M({},e,{},t)}function pt(e,t,r){var n=t.map(function(i){var a=Px(r,i.options);return e.addEventListener(i.eventName,i.fn,a),function(){e.removeEventListener(i.eventName,i.fn,a)}});return function(){n.forEach(function(a){a()})}}var Dx="Invariant failed";function Uo(e){this.message=e}Uo.prototype.toString=function(){return this.message};function D(e,t){throw new Uo(Dx)}var Ox=function(e){Eg(t,e);function t(){for(var n,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=e.call.apply(e,[this].concat(a))||this,n.callbacks=null,n.unbind=gr,n.onWindowError=function(s){var l=n.getCallbacks();l.isDragging()&&l.tryAbort();var u=s.error;u instanceof Uo&&s.preventDefault()},n.getCallbacks=function(){if(!n.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return n.callbacks},n.setCallbacks=function(s){n.callbacks=s},n}var r=t.prototype;return r.componentDidMount=function(){this.unbind=pt(window,[{eventName:"error",fn:this.onWindowError}])},r.componentDidCatch=function(i){if(i instanceof Uo){this.setState({});return}throw i},r.componentWillUnmount=function(){this.unbind()},r.render=function(){return this.props.children(this.setCallbacks)},t}(Z.Component),Tx=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Fo=function(t){return t+1},Ix=function(t){return`
  You have lifted an item in position `+Fo(t.source.index)+`
`},Vg=function(t,r){var n=t.droppableId===r.droppableId,i=Fo(t.index),a=Fo(r.index);return n?`
      You have moved the item from position `+i+`
      to position `+a+`
    `:`
    You have moved the item from position `+i+`
    in list `+t.droppableId+`
    to list `+r.droppableId+`
    in position `+a+`
  `},qg=function(t,r,n){var i=r.droppableId===n.droppableId;return i?`
      The item `+t+`
      has been combined with `+n.draggableId:`
      The item `+t+`
      in list `+r.droppableId+`
      has been combined with `+n.draggableId+`
      in list `+n.droppableId+`
    `},Rx=function(t){var r=t.destination;if(r)return Vg(t.source,r);var n=t.combine;return n?qg(t.draggableId,t.source,n):"You are over an area that cannot be dropped on"},mh=function(t){return`
  The item has returned to its starting position
  of `+Fo(t.index)+`
`},Ax=function(t){if(t.reason==="CANCEL")return`
      Movement cancelled.
      `+mh(t.source)+`
    `;var r=t.destination,n=t.combine;return r?`
      You have dropped the item.
      `+Vg(t.source,r)+`
    `:n?`
      You have dropped the item.
      `+qg(t.draggableId,t.source,n)+`
    `:`
    The item has been dropped while not over a drop area.
    `+mh(t.source)+`
  `},oo={dragHandleUsageInstructions:Tx,onDragStart:Ix,onDragUpdate:Rx,onDragEnd:Ax},_e={x:0,y:0},Oe=function(t,r){return{x:t.x+r.x,y:t.y+r.y}},et=function(t,r){return{x:t.x-r.x,y:t.y-r.y}},mr=function(t,r){return t.x===r.x&&t.y===r.y},zn=function(t){return{x:t.x!==0?-t.x:0,y:t.y!==0?-t.y:0}},qr=function(t,r,n){var i;return n===void 0&&(n=0),i={},i[t]=r,i[t==="x"?"y":"x"]=n,i},Qi=function(t,r){return Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2))},yh=function(t,r){return Math.min.apply(Math,r.map(function(n){return Qi(t,n)}))},Kg=function(t){return function(r){return{x:t(r.x),y:t(r.y)}}},Nx=function(e,t){var r=Ct({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return r.width<=0||r.height<=0?null:r},ga=function(t,r){return{top:t.top+r.y,left:t.left+r.x,bottom:t.bottom+r.y,right:t.right+r.x}},wh=function(t){return[{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom}]},jx={top:0,right:0,bottom:0,left:0},Lx=function(t,r){return r?ga(t,r.scroll.diff.displacement):t},$x=function(t,r,n){if(n&&n.increasedBy){var i;return M({},t,(i={},i[r.end]=t[r.end]+n.increasedBy[r.line],i))}return t},Mx=function(t,r){return r&&r.shouldClipSubject?Nx(r.pageMarginBox,t):Ct(t)},Ln=function(e){var t=e.page,r=e.withPlaceholder,n=e.axis,i=e.frame,a=Lx(t.marginBox,i),o=$x(a,n,r),s=Mx(o,i);return{page:t,withPlaceholder:r,active:s}},qc=function(e,t){e.frame||D();var r=e.frame,n=et(t,r.scroll.initial),i=zn(n),a=M({},r,{scroll:{initial:r.scroll.initial,current:t,diff:{value:n,displacement:i},max:r.scroll.max}}),o=Ln({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:a}),s=M({},e,{frame:a,subject:o});return s};function Wo(e){return Object.values?Object.values(e):Object.keys(e).map(function(t){return e[t]})}function Kc(e,t){if(e.findIndex)return e.findIndex(t);for(var r=0;r<e.length;r++)if(t(e[r]))return r;return-1}function kr(e,t){if(e.find)return e.find(t);var r=Kc(e,t);if(r!==-1)return e[r]}function Yg(e){return Array.prototype.slice.call(e)}var Jg=Se(function(e){return e.reduce(function(t,r){return t[r.descriptor.id]=r,t},{})}),Qg=Se(function(e){return e.reduce(function(t,r){return t[r.descriptor.id]=r,t},{})}),ks=Se(function(e){return Wo(e)}),Bx=Se(function(e){return Wo(e)}),Hn=Se(function(e,t){var r=Bx(t).filter(function(n){return e===n.descriptor.droppableId}).sort(function(n,i){return n.descriptor.index-i.descriptor.index});return r});function Yc(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function Cs(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var Ps=Se(function(e,t){return t.filter(function(r){return r.descriptor.id!==e.descriptor.id})}),Ux=function(e){var t=e.isMovingForward,r=e.draggable,n=e.destination,i=e.insideDestination,a=e.previousImpact;if(!n.isCombineEnabled)return null;var o=Yc(a);if(!o)return null;function s(m){var w={type:"COMBINE",combine:{draggableId:m,droppableId:n.descriptor.id}};return M({},a,{at:w})}var l=a.displaced.all,u=l.length?l[0]:null;if(t)return u?s(u):null;var c=Ps(r,i);if(!u){if(!c.length)return null;var f=c[c.length-1];return s(f.descriptor.id)}var d=Kc(c,function(m){return m.descriptor.id===u});d===-1&&D();var h=d-1;if(h<0)return null;var p=c[h];return s(p.descriptor.id)},Gn=function(e,t){return e.descriptor.droppableId===t.descriptor.id},Xg={point:_e,value:0},Xi={invisible:{},visible:{},all:[]},Fx={displaced:Xi,displacedBy:Xg,at:null},gt=function(e,t){return function(r){return e<=r&&r<=t}},Zg=function(e){var t=gt(e.top,e.bottom),r=gt(e.left,e.right);return function(n){var i=t(n.top)&&t(n.bottom)&&r(n.left)&&r(n.right);if(i)return!0;var a=t(n.top)||t(n.bottom),o=r(n.left)||r(n.right),s=a&&o;if(s)return!0;var l=n.top<e.top&&n.bottom>e.bottom,u=n.left<e.left&&n.right>e.right,c=l&&u;if(c)return!0;var f=l&&o||u&&a;return f}},Wx=function(e){var t=gt(e.top,e.bottom),r=gt(e.left,e.right);return function(n){var i=t(n.top)&&t(n.bottom)&&r(n.left)&&r(n.right);return i}},Jc={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},em={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},zx=function(e){return function(t){var r=gt(t.top,t.bottom),n=gt(t.left,t.right);return function(i){return e===Jc?r(i.top)&&r(i.bottom):n(i.left)&&n(i.right)}}},Hx=function(t,r){var n=r.frame?r.frame.scroll.diff.displacement:_e;return ga(t,n)},Gx=function(t,r,n){return r.subject.active?n(r.subject.active)(t):!1},Vx=function(t,r,n){return n(r)(t)},Qc=function(t){var r=t.target,n=t.destination,i=t.viewport,a=t.withDroppableDisplacement,o=t.isVisibleThroughFrameFn,s=a?Hx(r,n):r;return Gx(s,n,o)&&Vx(s,i,o)},qx=function(t){return Qc(M({},t,{isVisibleThroughFrameFn:Zg}))},tm=function(t){return Qc(M({},t,{isVisibleThroughFrameFn:Wx}))},Kx=function(t){return Qc(M({},t,{isVisibleThroughFrameFn:zx(t.destination.axis)}))},Yx=function(t,r,n){if(typeof n=="boolean")return n;if(!r)return!0;var i=r.invisible,a=r.visible;if(i[t])return!1;var o=a[t];return o?o.shouldAnimate:!0};function Jx(e,t){var r=e.page.marginBox,n={top:t.point.y,right:0,bottom:0,left:t.point.x};return Ct(Gc(r,n))}function Zi(e){var t=e.afterDragging,r=e.destination,n=e.displacedBy,i=e.viewport,a=e.forceShouldAnimate,o=e.last;return t.reduce(function(l,u){var c=Jx(u,n),f=u.descriptor.id;l.all.push(f);var d=qx({target:c,destination:r,viewport:i,withDroppableDisplacement:!0});if(!d)return l.invisible[u.descriptor.id]=!0,l;var h=Yx(f,o,a),p={draggableId:f,shouldAnimate:h};return l.visible[f]=p,l},{all:[],visible:{},invisible:{}})}function Qx(e,t){if(!e.length)return 0;var r=e[e.length-1].descriptor.index;return t.inHomeList?r:r+1}function bh(e){var t=e.insideDestination,r=e.inHomeList,n=e.displacedBy,i=e.destination,a=Qx(t,{inHomeList:r});return{displaced:Xi,displacedBy:n,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:a}}}}function zo(e){var t=e.draggable,r=e.insideDestination,n=e.destination,i=e.viewport,a=e.displacedBy,o=e.last,s=e.index,l=e.forceShouldAnimate,u=Gn(t,n);if(s==null)return bh({insideDestination:r,inHomeList:u,displacedBy:a,destination:n});var c=kr(r,function(m){return m.descriptor.index===s});if(!c)return bh({insideDestination:r,inHomeList:u,displacedBy:a,destination:n});var f=Ps(t,r),d=r.indexOf(c),h=f.slice(d),p=Zi({afterDragging:h,destination:n,displacedBy:a,last:o,viewport:i.frame,forceShouldAnimate:l});return{displaced:p,displacedBy:a,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:s}}}}function Sr(e,t){return!!t.effected[e]}var Xx=function(e){var t=e.isMovingForward,r=e.destination,n=e.draggables,i=e.combine,a=e.afterCritical;if(!r.isCombineEnabled)return null;var o=i.draggableId,s=n[o],l=s.descriptor.index,u=Sr(o,a);return u?t?l:l-1:t?l+1:l},Zx=function(e){var t=e.isMovingForward,r=e.isInHomeList,n=e.insideDestination,i=e.location;if(!n.length)return null;var a=i.index,o=t?a+1:a-1,s=n[0].descriptor.index,l=n[n.length-1].descriptor.index,u=r?l:l+1;return o<s||o>u?null:o},ek=function(e){var t=e.isMovingForward,r=e.isInHomeList,n=e.draggable,i=e.draggables,a=e.destination,o=e.insideDestination,s=e.previousImpact,l=e.viewport,u=e.afterCritical,c=s.at;if(c||D(),c.type==="REORDER"){var f=Zx({isMovingForward:t,isInHomeList:r,location:c.destination,insideDestination:o});return f==null?null:zo({draggable:n,insideDestination:o,destination:a,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:f})}var d=Xx({isMovingForward:t,destination:a,displaced:s.displaced,draggables:i,combine:c.combine,afterCritical:u});return d==null?null:zo({draggable:n,insideDestination:o,destination:a,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:d})},tk=function(e){var t=e.displaced,r=e.afterCritical,n=e.combineWith,i=e.displacedBy,a=!!(t.visible[n]||t.invisible[n]);return Sr(n,r)?a?_e:zn(i.point):a?i.point:_e},rk=function(e){var t=e.afterCritical,r=e.impact,n=e.draggables,i=Cs(r);i||D();var a=i.draggableId,o=n[a].page.borderBox.center,s=tk({displaced:r.displaced,afterCritical:t,combineWith:a,displacedBy:r.displacedBy});return Oe(o,s)},rm=function(t,r){return r.margin[t.start]+r.borderBox[t.size]/2},nk=function(t,r){return r.margin[t.end]+r.borderBox[t.size]/2},Xc=function(t,r,n){return r[t.crossAxisStart]+n.margin[t.crossAxisStart]+n.borderBox[t.crossAxisSize]/2},Sh=function(t){var r=t.axis,n=t.moveRelativeTo,i=t.isMoving;return qr(r.line,n.marginBox[r.end]+rm(r,i),Xc(r,n.marginBox,i))},_h=function(t){var r=t.axis,n=t.moveRelativeTo,i=t.isMoving;return qr(r.line,n.marginBox[r.start]-nk(r,i),Xc(r,n.marginBox,i))},ik=function(t){var r=t.axis,n=t.moveInto,i=t.isMoving;return qr(r.line,n.contentBox[r.start]+rm(r,i),Xc(r,n.contentBox,i))},ak=function(e){var t=e.impact,r=e.draggable,n=e.draggables,i=e.droppable,a=e.afterCritical,o=Hn(i.descriptor.id,n),s=r.page,l=i.axis;if(!o.length)return ik({axis:l,moveInto:i.page,isMoving:s});var u=t.displaced,c=t.displacedBy,f=u.all[0];if(f){var d=n[f];if(Sr(f,a))return _h({axis:l,moveRelativeTo:d.page,isMoving:s});var h=Mo(d.page,c.point);return _h({axis:l,moveRelativeTo:h,isMoving:s})}var p=o[o.length-1];if(p.descriptor.id===r.descriptor.id)return s.borderBox.center;if(Sr(p.descriptor.id,a)){var m=Mo(p.page,zn(a.displacedBy.point));return Sh({axis:l,moveRelativeTo:m,isMoving:s})}return Sh({axis:l,moveRelativeTo:p.page,isMoving:s})},Nu=function(e,t){var r=e.frame;return r?Oe(t,r.scroll.diff.displacement):t},ok=function(t){var r=t.impact,n=t.draggable,i=t.droppable,a=t.draggables,o=t.afterCritical,s=n.page.borderBox.center,l=r.at;return!i||!l?s:l.type==="REORDER"?ak({impact:r,draggable:n,draggables:a,droppable:i,afterCritical:o}):rk({impact:r,draggables:a,afterCritical:o})},Ds=function(e){var t=ok(e),r=e.droppable,n=r?Nu(r,t):t;return n},nm=function(e,t){var r=et(t,e.scroll.initial),n=zn(r),i=Ct({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),a={frame:i,scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:r,displacement:n}}};return a};function Eh(e,t){return e.map(function(r){return t[r]})}function sk(e,t){for(var r=0;r<t.length;r++){var n=t[r].visible[e];if(n)return n}return null}var lk=function(e){var t=e.impact,r=e.viewport,n=e.destination,i=e.draggables,a=e.maxScrollChange,o=nm(r,Oe(r.scroll.current,a)),s=n.frame?qc(n,Oe(n.frame.scroll.current,a)):n,l=t.displaced,u=Zi({afterDragging:Eh(l.all,i),destination:n,displacedBy:t.displacedBy,viewport:o.frame,last:l,forceShouldAnimate:!1}),c=Zi({afterDragging:Eh(l.all,i),destination:s,displacedBy:t.displacedBy,viewport:r.frame,last:l,forceShouldAnimate:!1}),f={},d={},h=[l,u,c];l.all.forEach(function(m){var w=sk(m,h);if(w){d[m]=w;return}f[m]=!0});var p=M({},t,{displaced:{all:l.all,invisible:f,visible:d}});return p},uk=function(e,t){return Oe(e.scroll.diff.displacement,t)},Zc=function(e){var t=e.pageBorderBoxCenter,r=e.draggable,n=e.viewport,i=uk(n,t),a=et(i,r.page.borderBox.center);return Oe(r.client.borderBox.center,a)},im=function(e){var t=e.draggable,r=e.destination,n=e.newPageBorderBoxCenter,i=e.viewport,a=e.withDroppableDisplacement,o=e.onlyOnMainAxis,s=o===void 0?!1:o,l=et(n,t.page.borderBox.center),u=ga(t.page.borderBox,l),c={target:u,destination:r,withDroppableDisplacement:a,viewport:i};return s?Kx(c):tm(c)},ck=function(e){var t=e.isMovingForward,r=e.draggable,n=e.destination,i=e.draggables,a=e.previousImpact,o=e.viewport,s=e.previousPageBorderBoxCenter,l=e.previousClientSelection,u=e.afterCritical;if(!n.isEnabled)return null;var c=Hn(n.descriptor.id,i),f=Gn(r,n),d=Ux({isMovingForward:t,draggable:r,destination:n,insideDestination:c,previousImpact:a})||ek({isMovingForward:t,isInHomeList:f,draggable:r,draggables:i,destination:n,insideDestination:c,previousImpact:a,viewport:o,afterCritical:u});if(!d)return null;var h=Ds({impact:d,draggable:r,droppable:n,draggables:i,afterCritical:u}),p=im({draggable:r,destination:n,newPageBorderBoxCenter:h,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});if(p){var m=Zc({pageBorderBoxCenter:h,draggable:r,viewport:o});return{clientSelection:m,impact:d,scrollJumpRequest:null}}var w=et(h,s),g=lk({impact:d,viewport:o,destination:n,draggables:i,maxScrollChange:w});return{clientSelection:l,impact:g,scrollJumpRequest:w}},Me=function(t){var r=t.subject.active;return r||D(),r},dk=function(e){var t=e.isMovingForward,r=e.pageBorderBoxCenter,n=e.source,i=e.droppables,a=e.viewport,o=n.subject.active;if(!o)return null;var s=n.axis,l=gt(o[s.start],o[s.end]),u=ks(i).filter(function(f){return f!==n}).filter(function(f){return f.isEnabled}).filter(function(f){return!!f.subject.active}).filter(function(f){return Zg(a.frame)(Me(f))}).filter(function(f){var d=Me(f);return t?o[s.crossAxisEnd]<d[s.crossAxisEnd]:d[s.crossAxisStart]<o[s.crossAxisStart]}).filter(function(f){var d=Me(f),h=gt(d[s.start],d[s.end]);return l(d[s.start])||l(d[s.end])||h(o[s.start])||h(o[s.end])}).sort(function(f,d){var h=Me(f)[s.crossAxisStart],p=Me(d)[s.crossAxisStart];return t?h-p:p-h}).filter(function(f,d,h){return Me(f)[s.crossAxisStart]===Me(h[0])[s.crossAxisStart]});if(!u.length)return null;if(u.length===1)return u[0];var c=u.filter(function(f){var d=gt(Me(f)[s.start],Me(f)[s.end]);return d(r[s.line])});return c.length===1?c[0]:c.length>1?c.sort(function(f,d){return Me(f)[s.start]-Me(d)[s.start]})[0]:u.sort(function(f,d){var h=yh(r,wh(Me(f))),p=yh(r,wh(Me(d)));return h!==p?h-p:Me(f)[s.start]-Me(d)[s.start]})[0]},xh=function(t,r){var n=t.page.borderBox.center;return Sr(t.descriptor.id,r)?et(n,r.displacedBy.point):n},fk=function(t,r){var n=t.page.borderBox;return Sr(t.descriptor.id,r)?ga(n,zn(r.displacedBy.point)):n},hk=function(e){var t=e.pageBorderBoxCenter,r=e.viewport,n=e.destination,i=e.insideDestination,a=e.afterCritical,o=i.filter(function(s){return tm({target:fk(s,a),destination:n,viewport:r.frame,withDroppableDisplacement:!0})}).sort(function(s,l){var u=Qi(t,Nu(n,xh(s,a))),c=Qi(t,Nu(n,xh(l,a)));return u<c?-1:c<u?1:s.descriptor.index-l.descriptor.index});return o[0]||null},ma=Se(function(t,r){var n=r[t.line];return{value:n,point:qr(t.line,n)}}),pk=function(t,r,n){var i=t.axis;if(t.descriptor.mode==="virtual")return qr(i.line,r[i.line]);var a=t.subject.page.contentBox[i.size],o=Hn(t.descriptor.id,n),s=o.reduce(function(c,f){return c+f.client.marginBox[i.size]},0),l=s+r[i.line],u=l-a;return u<=0?null:qr(i.line,u)},am=function(t,r){return M({},t,{scroll:M({},t.scroll,{max:r})})},om=function(t,r,n){var i=t.frame;Gn(r,t)&&D(),t.subject.withPlaceholder&&D();var a=ma(t.axis,r.displaceBy).point,o=pk(t,a,n),s={placeholderSize:a,increasedBy:o,oldFrameMaxScroll:t.frame?t.frame.scroll.max:null};if(!i){var l=Ln({page:t.subject.page,withPlaceholder:s,axis:t.axis,frame:t.frame});return M({},t,{subject:l})}var u=o?Oe(i.scroll.max,o):i.scroll.max,c=am(i,u),f=Ln({page:t.subject.page,withPlaceholder:s,axis:t.axis,frame:c});return M({},t,{subject:f,frame:c})},vk=function(t){var r=t.subject.withPlaceholder;r||D();var n=t.frame;if(!n){var i=Ln({page:t.subject.page,axis:t.axis,frame:null,withPlaceholder:null});return M({},t,{subject:i})}var a=r.oldFrameMaxScroll;a||D();var o=am(n,a),s=Ln({page:t.subject.page,axis:t.axis,frame:o,withPlaceholder:null});return M({},t,{subject:s,frame:o})},gk=function(e){var t=e.previousPageBorderBoxCenter,r=e.moveRelativeTo,n=e.insideDestination,i=e.draggable,a=e.draggables,o=e.destination,s=e.viewport,l=e.afterCritical;if(!r){if(n.length)return null;var u={displaced:Xi,displacedBy:Xg,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:0}}},c=Ds({impact:u,draggable:i,droppable:o,draggables:a,afterCritical:l}),f=Gn(i,o)?o:om(o,i,a),d=im({draggable:i,destination:f,newPageBorderBoxCenter:c,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});return d?u:null}var h=t[o.axis.line]<=r.page.borderBox.center[o.axis.line],p=function(){var w=r.descriptor.index;return r.descriptor.id===i.descriptor.id||h?w:w+1}(),m=ma(o.axis,i.displaceBy);return zo({draggable:i,insideDestination:n,destination:o,viewport:s,displacedBy:m,last:Xi,index:p})},mk=function(e){var t=e.isMovingForward,r=e.previousPageBorderBoxCenter,n=e.draggable,i=e.isOver,a=e.draggables,o=e.droppables,s=e.viewport,l=e.afterCritical,u=dk({isMovingForward:t,pageBorderBoxCenter:r,source:i,droppables:o,viewport:s});if(!u)return null;var c=Hn(u.descriptor.id,a),f=hk({pageBorderBoxCenter:r,viewport:s,destination:u,insideDestination:c,afterCritical:l}),d=gk({previousPageBorderBoxCenter:r,destination:u,draggable:n,draggables:a,moveRelativeTo:f,insideDestination:c,viewport:s,afterCritical:l});if(!d)return null;var h=Ds({impact:d,draggable:n,droppable:u,draggables:a,afterCritical:l}),p=Zc({pageBorderBoxCenter:h,draggable:n,viewport:s});return{clientSelection:p,impact:d,scrollJumpRequest:null}},rt=function(e){var t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null},yk=function(t,r){var n=rt(t);return n?r[n]:null},wk=function(e){var t=e.state,r=e.type,n=yk(t.impact,t.dimensions.droppables),i=!!n,a=t.dimensions.droppables[t.critical.droppable.id],o=n||a,s=o.axis.direction,l=s==="vertical"&&(r==="MOVE_UP"||r==="MOVE_DOWN")||s==="horizontal"&&(r==="MOVE_LEFT"||r==="MOVE_RIGHT");if(l&&!i)return null;var u=r==="MOVE_DOWN"||r==="MOVE_RIGHT",c=t.dimensions.draggables[t.critical.draggable.id],f=t.current.page.borderBoxCenter,d=t.dimensions,h=d.draggables,p=d.droppables;return l?ck({isMovingForward:u,previousPageBorderBoxCenter:f,draggable:c,destination:o,draggables:h,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):mk({isMovingForward:u,previousPageBorderBoxCenter:f,draggable:c,isOver:o,draggables:h,droppables:p,viewport:t.viewport,afterCritical:t.afterCritical})};function Ar(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function sm(e){var t=gt(e.top,e.bottom),r=gt(e.left,e.right);return function(i){return t(i.y)&&r(i.x)}}function bk(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function Sk(e){var t=e.pageBorderBox,r=e.draggable,n=e.candidates,i=r.page.borderBox.center,a=n.map(function(o){var s=o.axis,l=qr(o.axis.line,t.center[s.line],o.page.borderBox.center[s.crossAxisLine]);return{id:o.descriptor.id,distance:Qi(i,l)}}).sort(function(o,s){return s.distance-o.distance});return a[0]?a[0].id:null}function _k(e){var t=e.pageBorderBox,r=e.draggable,n=e.droppables,i=ks(n).filter(function(a){if(!a.isEnabled)return!1;var o=a.subject.active;if(!o||!bk(t,o))return!1;if(sm(o)(t.center))return!0;var s=a.axis,l=o.center[s.crossAxisLine],u=t[s.crossAxisStart],c=t[s.crossAxisEnd],f=gt(o[s.crossAxisStart],o[s.crossAxisEnd]),d=f(u),h=f(c);return!d&&!h?!0:d?u<l:c>l});return i.length?i.length===1?i[0].descriptor.id:Sk({pageBorderBox:t,draggable:r,candidates:i}):null}var lm=function(t,r){return Ct(ga(t,r))},Ek=function(e,t){var r=e.frame;return r?lm(t,r.scroll.diff.value):t};function um(e){var t=e.displaced,r=e.id;return!!(t.visible[r]||t.invisible[r])}function xk(e){var t=e.draggable,r=e.closest,n=e.inHomeList;return r?n&&r.descriptor.index>t.descriptor.index?r.descriptor.index-1:r.descriptor.index:null}var kk=function(e){var t=e.pageBorderBoxWithDroppableScroll,r=e.draggable,n=e.destination,i=e.insideDestination,a=e.last,o=e.viewport,s=e.afterCritical,l=n.axis,u=ma(n.axis,r.displaceBy),c=u.value,f=t[l.start],d=t[l.end],h=Ps(r,i),p=kr(h,function(w){var g=w.descriptor.id,v=w.page.borderBox.center[l.line],y=Sr(g,s),b=um({displaced:a,id:g});return y?b?d<=v:f<v-c:b?d<=v+c:f<v}),m=xk({draggable:r,closest:p,inHomeList:Gn(r,n)});return zo({draggable:r,insideDestination:i,destination:n,viewport:o,last:a,displacedBy:u,index:m})},Ck=4,Pk=function(e){var t=e.draggable,r=e.pageBorderBoxWithDroppableScroll,n=e.previousImpact,i=e.destination,a=e.insideDestination,o=e.afterCritical;if(!i.isCombineEnabled)return null;var s=i.axis,l=ma(i.axis,t.displaceBy),u=l.value,c=r[s.start],f=r[s.end],d=Ps(t,a),h=kr(d,function(m){var w=m.descriptor.id,g=m.page.borderBox,v=g[s.size],y=v/Ck,b=Sr(w,o),E=um({displaced:n.displaced,id:w});return b?E?f>g[s.start]+y&&f<g[s.end]-y:c>g[s.start]-u+y&&c<g[s.end]-u-y:E?f>g[s.start]+u+y&&f<g[s.end]+u-y:c>g[s.start]+y&&c<g[s.end]-y});if(!h)return null;var p={displacedBy:l,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:h.descriptor.id,droppableId:i.descriptor.id}}};return p},cm=function(e){var t=e.pageOffset,r=e.draggable,n=e.draggables,i=e.droppables,a=e.previousImpact,o=e.viewport,s=e.afterCritical,l=lm(r.page.borderBox,t),u=_k({pageBorderBox:l,draggable:r,droppables:i});if(!u)return Fx;var c=i[u],f=Hn(c.descriptor.id,n),d=Ek(c,l);return Pk({pageBorderBoxWithDroppableScroll:d,draggable:r,previousImpact:a,destination:c,insideDestination:f,afterCritical:s})||kk({pageBorderBoxWithDroppableScroll:d,draggable:r,destination:c,insideDestination:f,last:a.displaced,viewport:o,afterCritical:s})},ed=function(e,t){var r;return M({},e,(r={},r[t.descriptor.id]=t,r))},Dk=function(t){var r=t.previousImpact,n=t.impact,i=t.droppables,a=rt(r),o=rt(n);if(!a||a===o)return i;var s=i[a];if(!s.subject.withPlaceholder)return i;var l=vk(s);return ed(i,l)},Ok=function(e){var t=e.draggable,r=e.draggables,n=e.droppables,i=e.previousImpact,a=e.impact,o=Dk({previousImpact:i,impact:a,droppables:n}),s=rt(a);if(!s)return o;var l=n[s];if(Gn(t,l)||l.subject.withPlaceholder)return o;var u=om(l,t,r);return ed(o,u)},Ei=function(e){var t=e.state,r=e.clientSelection,n=e.dimensions,i=e.viewport,a=e.impact,o=e.scrollJumpRequest,s=i||t.viewport,l=n||t.dimensions,u=r||t.current.client.selection,c=et(u,t.initial.client.selection),f={offset:c,selection:u,borderBoxCenter:Oe(t.initial.client.borderBoxCenter,c)},d={selection:Oe(f.selection,s.scroll.current),borderBoxCenter:Oe(f.borderBoxCenter,s.scroll.current),offset:Oe(f.offset,s.scroll.diff.value)},h={client:f,page:d};if(t.phase==="COLLECTING")return M({phase:"COLLECTING"},t,{dimensions:l,viewport:s,current:h});var p=l.draggables[t.critical.draggable.id],m=a||cm({pageOffset:d.offset,draggable:p,draggables:l.draggables,droppables:l.droppables,previousImpact:t.impact,viewport:s,afterCritical:t.afterCritical}),w=Ok({draggable:p,impact:m,previousImpact:t.impact,draggables:l.draggables,droppables:l.droppables}),g=M({},t,{current:h,dimensions:{draggables:l.draggables,droppables:w},impact:m,viewport:s,scrollJumpRequest:o||null,forceShouldAnimate:o?!1:null});return g};function Tk(e,t){return e.map(function(r){return t[r]})}var dm=function(e){var t=e.impact,r=e.viewport,n=e.draggables,i=e.destination,a=e.forceShouldAnimate,o=t.displaced,s=Tk(o.all,n),l=Zi({afterDragging:s,destination:i,displacedBy:t.displacedBy,viewport:r.frame,forceShouldAnimate:a,last:o});return M({},t,{displaced:l})},fm=function(e){var t=e.impact,r=e.draggable,n=e.droppable,i=e.draggables,a=e.viewport,o=e.afterCritical,s=Ds({impact:t,draggable:r,draggables:i,droppable:n,afterCritical:o});return Zc({pageBorderBoxCenter:s,draggable:r,viewport:a})},hm=function(e){var t=e.state,r=e.dimensions,n=e.viewport;t.movementMode!=="SNAP"&&D();var i=t.impact,a=n||t.viewport,o=r||t.dimensions,s=o.draggables,l=o.droppables,u=s[t.critical.draggable.id],c=rt(i);c||D();var f=l[c],d=dm({impact:i,viewport:a,destination:f,draggables:s}),h=fm({impact:d,draggable:u,droppable:f,draggables:s,viewport:a,afterCritical:t.afterCritical});return Ei({impact:d,clientSelection:h,state:t,dimensions:o,viewport:a})},Ik=function(e){return{index:e.index,droppableId:e.droppableId}},pm=function(e){var t=e.draggable,r=e.home,n=e.draggables,i=e.viewport,a=ma(r.axis,t.displaceBy),o=Hn(r.descriptor.id,n),s=o.indexOf(t);s===-1&&D();var l=o.slice(s+1),u=l.reduce(function(h,p){return h[p.descriptor.id]=!0,h},{}),c={inVirtualList:r.descriptor.mode==="virtual",displacedBy:a,effected:u},f=Zi({afterDragging:l,destination:r,displacedBy:a,last:null,viewport:i.frame,forceShouldAnimate:!1}),d={displaced:f,displacedBy:a,at:{type:"REORDER",destination:Ik(t.descriptor)}};return{impact:d,afterCritical:c}},Rk=function(e,t){return{draggables:e.draggables,droppables:ed(e.droppables,t)}},Ak=function(e){var t=e.draggable,r=e.offset,n=e.initialWindowScroll,i=Mo(t.client,r),a=Bo(i,n),o=M({},t,{placeholder:M({},t.placeholder,{client:i}),client:i,page:a});return o},Nk=function(e){var t=e.frame;return t||D(),t},jk=function(e){var t=e.additions,r=e.updatedDroppables,n=e.viewport,i=n.scroll.diff.value;return t.map(function(a){var o=a.descriptor.droppableId,s=r[o],l=Nk(s),u=l.scroll.diff.value,c=Oe(i,u),f=Ak({draggable:a,offset:c,initialWindowScroll:n.scroll.initial});return f})},Lk=function(e){var t=e.state,r=e.published,n=r.modified.map(function(y){var b=t.dimensions.droppables[y.droppableId],E=qc(b,y.scroll);return E}),i=M({},t.dimensions.droppables,{},Jg(n)),a=Qg(jk({additions:r.additions,updatedDroppables:i,viewport:t.viewport})),o=M({},t.dimensions.draggables,{},a);r.removals.forEach(function(y){delete o[y]});var s={droppables:i,draggables:o},l=rt(t.impact),u=l?s.droppables[l]:null,c=s.draggables[t.critical.draggable.id],f=s.droppables[t.critical.droppable.id],d=pm({draggable:c,home:f,draggables:o,viewport:t.viewport}),h=d.impact,p=d.afterCritical,m=u&&u.isCombineEnabled?t.impact:h,w=cm({pageOffset:t.current.page.offset,draggable:s.draggables[t.critical.draggable.id],draggables:s.draggables,droppables:s.droppables,previousImpact:m,viewport:t.viewport,afterCritical:p}),g=M({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:w,onLiftImpact:h,dimensions:s,afterCritical:p,forceShouldAnimate:!1});if(t.phase==="COLLECTING")return g;var v=M({phase:"DROP_PENDING"},g,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1});return v},ju=function(t){return t.movementMode==="SNAP"},Sl=function(t,r,n){var i=Rk(t.dimensions,r);return!ju(t)||n?Ei({state:t,dimensions:i}):hm({state:t,dimensions:i})};function _l(e){return e.isDragging&&e.movementMode==="SNAP"?M({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var kh={phase:"IDLE",completed:null,shouldFlush:!1},$k=function(e,t){if(e===void 0&&(e=kh),t.type==="FLUSH")return M({},kh,{shouldFlush:!0});if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&D();var r=t.payload,n=r.critical,i=r.clientSelection,a=r.viewport,o=r.dimensions,s=r.movementMode,l=o.draggables[n.draggable.id],u=o.droppables[n.droppable.id],c={selection:i,borderBoxCenter:l.client.borderBox.center,offset:_e},f={client:c,page:{selection:Oe(c.selection,a.scroll.initial),borderBoxCenter:Oe(c.selection,a.scroll.initial),offset:Oe(c.selection,a.scroll.diff.value)}},d=ks(o.droppables).every(function(As){return!As.isFixedOnPage}),h=pm({draggable:l,home:u,draggables:o.draggables,viewport:a}),p=h.impact,m=h.afterCritical,w={phase:"DRAGGING",isDragging:!0,critical:n,movementMode:s,dimensions:o,initial:f,current:f,isWindowScrollAllowed:d,impact:p,afterCritical:m,onLiftImpact:p,viewport:a,scrollJumpRequest:null,forceShouldAnimate:null};return w}if(t.type==="COLLECTION_STARTING"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&D();var g=M({phase:"COLLECTING"},e,{phase:"COLLECTING"});return g}if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||D(),Lk({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;Ar(e)||D();var v=t.payload.client;return mr(v,e.current.client.selection)?e:Ei({state:e,clientSelection:v,impact:ju(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return _l(e);Ar(e)||D();var y=t.payload,b=y.id,E=y.newScroll,_=e.dimensions.droppables[b];if(!_)return e;var x=qc(_,E);return Sl(e,x,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;Ar(e)||D();var C=t.payload,I=C.id,A=C.isEnabled,F=e.dimensions.droppables[I];F||D(),F.isEnabled===A&&D();var le=M({},F,{isEnabled:A});return Sl(e,le,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;Ar(e)||D();var z=t.payload,q=z.id,de=z.isCombineEnabled,he=e.dimensions.droppables[q];he||D(),he.isCombineEnabled===de&&D();var lt=M({},he,{isCombineEnabled:de});return Sl(e,lt,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;Ar(e)||D(),e.isWindowScrollAllowed||D();var T=t.payload.newScroll;if(mr(e.viewport.scroll.current,T))return _l(e);var P=nm(e.viewport,T);return ju(e)?hm({state:e,viewport:P}):Ei({state:e,viewport:P})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Ar(e))return e;var R=t.payload.maxScroll;if(mr(R,e.viewport.scroll.max))return e;var B=M({},e.viewport,{scroll:M({},e.viewport.scroll,{max:R})});return M({phase:"DRAGGING"},e,{viewport:B})}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&D();var W=wk({state:e,type:t.type});return W?Ei({state:e,impact:W.impact,clientSelection:W.clientSelection,scrollJumpRequest:W.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){var $e=t.payload.reason;e.phase!=="COLLECTING"&&D();var xe=M({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:$e});return xe}if(t.type==="DROP_ANIMATE"){var Re=t.payload,ut=Re.completed,$t=Re.dropDuration,ya=Re.newHomeClientOffset;e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||D();var Rs={phase:"DROP_ANIMATING",completed:ut,dropDuration:$t,newHomeClientOffset:ya,dimensions:e.dimensions};return Rs}if(t.type==="DROP_COMPLETE"){var Jr=t.payload.completed;return{phase:"IDLE",completed:Jr,shouldFlush:!1}}return e},Mk=function(t){return{type:"BEFORE_INITIAL_CAPTURE",payload:t}},Bk=function(t){return{type:"LIFT",payload:t}},Uk=function(t){return{type:"INITIAL_PUBLISH",payload:t}},Fk=function(t){return{type:"PUBLISH_WHILE_DRAGGING",payload:t}},Wk=function(){return{type:"COLLECTION_STARTING",payload:null}},zk=function(t){return{type:"UPDATE_DROPPABLE_SCROLL",payload:t}},Hk=function(t){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:t}},Gk=function(t){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:t}},vm=function(t){return{type:"MOVE",payload:t}},Vk=function(t){return{type:"MOVE_BY_WINDOW_SCROLL",payload:t}},qk=function(t){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:t}},Kk=function(){return{type:"MOVE_UP",payload:null}},Yk=function(){return{type:"MOVE_DOWN",payload:null}},Jk=function(){return{type:"MOVE_RIGHT",payload:null}},Qk=function(){return{type:"MOVE_LEFT",payload:null}},td=function(){return{type:"FLUSH",payload:null}},Xk=function(t){return{type:"DROP_ANIMATE",payload:t}},rd=function(t){return{type:"DROP_COMPLETE",payload:t}},gm=function(t){return{type:"DROP",payload:t}},Zk=function(t){return{type:"DROP_PENDING",payload:t}},mm=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}},eC=function(e){return function(t){var r=t.getState,n=t.dispatch;return function(i){return function(a){if(a.type!=="LIFT"){i(a);return}var o=a.payload,s=o.id,l=o.clientSelection,u=o.movementMode,c=r();c.phase==="DROP_ANIMATING"&&n(rd({completed:c.completed})),r().phase!=="IDLE"&&D(),n(td()),n(Mk({draggableId:s,movementMode:u}));var f={shouldPublishImmediately:u==="SNAP"},d={draggableId:s,scrollOptions:f},h=e.startPublishing(d),p=h.critical,m=h.dimensions,w=h.viewport;n(Uk({critical:p,dimensions:m,clientSelection:l,movementMode:u,viewport:w}))}}}},tC=function(e){return function(){return function(t){return function(r){r.type==="INITIAL_PUBLISH"&&e.dragging(),r.type==="DROP_ANIMATE"&&e.dropping(r.payload.completed.result.reason),(r.type==="FLUSH"||r.type==="DROP_COMPLETE")&&e.resting(),t(r)}}}},nd={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},ea={opacity:{drop:0,combining:.7},scale:{drop:.75}},id={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Dr=id.outOfTheWay+"s "+nd.outOfTheWay,xi={fluid:"opacity "+Dr,snap:"transform "+Dr+", opacity "+Dr,drop:function(t){var r=t+"s "+nd.drop;return"transform "+r+", opacity "+r},outOfTheWay:"transform "+Dr,placeholder:"height "+Dr+", width "+Dr+", margin "+Dr},Ch=function(t){return mr(t,_e)?null:"translate("+t.x+"px, "+t.y+"px)"},Lu={moveTo:Ch,drop:function(t,r){var n=Ch(t);return n?r?n+" scale("+ea.scale.drop+")":n:null}},$u=id.minDropTime,ym=id.maxDropTime,rC=ym-$u,Ph=1500,nC=.6,iC=function(e){var t=e.current,r=e.destination,n=e.reason,i=Qi(t,r);if(i<=0)return $u;if(i>=Ph)return ym;var a=i/Ph,o=$u+rC*a,s=n==="CANCEL"?o*nC:o;return Number(s.toFixed(2))},aC=function(e){var t=e.impact,r=e.draggable,n=e.dimensions,i=e.viewport,a=e.afterCritical,o=n.draggables,s=n.droppables,l=rt(t),u=l?s[l]:null,c=s[r.descriptor.droppableId],f=fm({impact:t,draggable:r,draggables:o,afterCritical:a,droppable:u||c,viewport:i}),d=et(f,r.client.borderBox.center);return d},oC=function(e){var t=e.draggables,r=e.reason,n=e.lastImpact,i=e.home,a=e.viewport,o=e.onLiftImpact;if(!n.at||r!=="DROP"){var s=dm({draggables:t,impact:o,destination:i,viewport:a,forceShouldAnimate:!0});return{impact:s,didDropInsideDroppable:!1}}if(n.at.type==="REORDER")return{impact:n,didDropInsideDroppable:!0};var l=M({},n,{displaced:Xi});return{impact:l,didDropInsideDroppable:!0}},sC=function(e){var t=e.getState,r=e.dispatch;return function(n){return function(i){if(i.type!=="DROP"){n(i);return}var a=t(),o=i.payload.reason;if(a.phase==="COLLECTING"){r(Zk({reason:o}));return}if(a.phase!=="IDLE"){var s=a.phase==="DROP_PENDING"&&a.isWaiting;s&&D(),a.phase==="DRAGGING"||a.phase==="DROP_PENDING"||D();var l=a.critical,u=a.dimensions,c=u.draggables[a.critical.draggable.id],f=oC({reason:o,lastImpact:a.impact,afterCritical:a.afterCritical,onLiftImpact:a.onLiftImpact,home:a.dimensions.droppables[a.critical.droppable.id],viewport:a.viewport,draggables:a.dimensions.draggables}),d=f.impact,h=f.didDropInsideDroppable,p=h?Yc(d):null,m=h?Cs(d):null,w={index:l.draggable.index,droppableId:l.droppable.id},g={draggableId:c.descriptor.id,type:c.descriptor.type,source:w,reason:o,mode:a.movementMode,destination:p,combine:m},v=aC({impact:d,draggable:c,dimensions:u,viewport:a.viewport,afterCritical:a.afterCritical}),y={critical:a.critical,afterCritical:a.afterCritical,result:g,impact:d},b=!mr(a.current.client.offset,v)||!!g.combine;if(!b){r(rd({completed:y}));return}var E=iC({current:a.current.client.offset,destination:v,reason:o}),_={newHomeClientOffset:v,dropDuration:E,completed:y};r(Xk(_))}}}},wm=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function lC(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(r){r.target!==window&&r.target!==window.document||e()}}}function uC(e){var t=e.onWindowScroll;function r(){t(wm())}var n=Ji(r),i=lC(n),a=gr;function o(){return a!==gr}function s(){o()&&D(),a=pt(window,[i])}function l(){o()||D(),n.cancel(),a(),a=gr}return{start:s,stop:l,isActive:o}}var cC=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},dC=function(e){var t=uC({onWindowScroll:function(n){e.dispatch(Vk({newScroll:n}))}});return function(r){return function(n){!t.isActive()&&n.type==="INITIAL_PUBLISH"&&t.start(),t.isActive()&&cC(n)&&t.stop(),r(n)}}},fC=function(e){var t=!1,r=!1,n=setTimeout(function(){r=!0}),i=function(o){t||r||(t=!0,e(o),clearTimeout(n))};return i.wasCalled=function(){return t},i},hC=function(){var e=[],t=function(a){var o=Kc(e,function(u){return u.timerId===a});o===-1&&D();var s=e.splice(o,1),l=s[0];l.callback()},r=function(a){var o=setTimeout(function(){return t(o)}),s={timerId:o,callback:a};e.push(s)},n=function(){if(e.length){var a=[].concat(e);e.length=0,a.forEach(function(o){clearTimeout(o.timerId),o.callback()})}};return{add:r,flush:n}},pC=function(t,r){return t==null&&r==null?!0:t==null||r==null?!1:t.droppableId===r.droppableId&&t.index===r.index},vC=function(t,r){return t==null&&r==null?!0:t==null||r==null?!1:t.draggableId===r.draggableId&&t.droppableId===r.droppableId},gC=function(t,r){if(t===r)return!0;var n=t.draggable.id===r.draggable.id&&t.draggable.droppableId===r.draggable.droppableId&&t.draggable.type===r.draggable.type&&t.draggable.index===r.draggable.index,i=t.droppable.id===r.droppable.id&&t.droppable.type===r.droppable.type;return n&&i},ii=function(t,r){r()},Ha=function(t,r){return{draggableId:t.draggable.id,type:t.droppable.type,source:{droppableId:t.droppable.id,index:t.draggable.index},mode:r}},El=function(t,r,n,i){if(!t){n(i(r));return}var a=fC(n),o={announce:a};t(r,o),a.wasCalled()||n(i(r))},mC=function(e,t){var r=hC(),n=null,i=function(d,h){n&&D(),ii("onBeforeCapture",function(){var p=e().onBeforeCapture;if(p){var m={draggableId:d,mode:h};p(m)}})},a=function(d,h){n&&D(),ii("onBeforeDragStart",function(){var p=e().onBeforeDragStart;p&&p(Ha(d,h))})},o=function(d,h){n&&D();var p=Ha(d,h);n={mode:h,lastCritical:d,lastLocation:p.source,lastCombine:null},r.add(function(){ii("onDragStart",function(){return El(e().onDragStart,p,t,oo.onDragStart)})})},s=function(d,h){var p=Yc(h),m=Cs(h);n||D();var w=!gC(d,n.lastCritical);w&&(n.lastCritical=d);var g=!pC(n.lastLocation,p);g&&(n.lastLocation=p);var v=!vC(n.lastCombine,m);if(v&&(n.lastCombine=m),!(!w&&!g&&!v)){var y=M({},Ha(d,n.mode),{combine:m,destination:p});r.add(function(){ii("onDragUpdate",function(){return El(e().onDragUpdate,y,t,oo.onDragUpdate)})})}},l=function(){n||D(),r.flush()},u=function(d){n||D(),n=null,ii("onDragEnd",function(){return El(e().onDragEnd,d,t,oo.onDragEnd)})},c=function(){if(n){var d=M({},Ha(n.lastCritical,n.mode),{combine:null,destination:null,reason:"CANCEL"});u(d)}};return{beforeCapture:i,beforeStart:a,start:o,update:s,flush:l,drop:u,abort:c}},yC=function(e,t){var r=mC(e,t);return function(n){return function(i){return function(a){if(a.type==="BEFORE_INITIAL_CAPTURE"){r.beforeCapture(a.payload.draggableId,a.payload.movementMode);return}if(a.type==="INITIAL_PUBLISH"){var o=a.payload.critical;r.beforeStart(o,a.payload.movementMode),i(a),r.start(o,a.payload.movementMode);return}if(a.type==="DROP_COMPLETE"){var s=a.payload.completed.result;r.flush(),i(a),r.drop(s);return}if(i(a),a.type==="FLUSH"){r.abort();return}var l=n.getState();l.phase==="DRAGGING"&&r.update(l.critical,l.impact)}}}},wC=function(e){return function(t){return function(r){if(r.type!=="DROP_ANIMATION_FINISHED"){t(r);return}var n=e.getState();n.phase!=="DROP_ANIMATING"&&D(),e.dispatch(rd({completed:n.completed}))}}},bC=function(e){var t=null,r=null;function n(){r&&(cancelAnimationFrame(r),r=null),t&&(t(),t=null)}return function(i){return function(a){if((a.type==="FLUSH"||a.type==="DROP_COMPLETE"||a.type==="DROP_ANIMATION_FINISHED")&&n(),i(a),a.type==="DROP_ANIMATE"){var o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){var l=e.getState();l.phase==="DROP_ANIMATING"&&e.dispatch(mm())}};r=requestAnimationFrame(function(){r=null,t=pt(window,[o])})}}}},SC=function(e){return function(){return function(t){return function(r){(r.type==="DROP_COMPLETE"||r.type==="FLUSH"||r.type==="DROP_ANIMATE")&&e.stopPublishing(),t(r)}}}},_C=function(e){var t=!1;return function(){return function(r){return function(n){if(n.type==="INITIAL_PUBLISH"){t=!0,e.tryRecordFocus(n.payload.critical.draggable.id),r(n),e.tryRestoreFocusRecorded();return}if(r(n),!!t){if(n.type==="FLUSH"){t=!1,e.tryRestoreFocusRecorded();return}if(n.type==="DROP_COMPLETE"){t=!1;var i=n.payload.completed.result;i.combine&&e.tryShiftRecord(i.draggableId,i.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}},EC=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},xC=function(e){return function(t){return function(r){return function(n){if(EC(n)){e.stop(),r(n);return}if(n.type==="INITIAL_PUBLISH"){r(n);var i=t.getState();i.phase!=="DRAGGING"&&D(),e.start(i);return}r(n),e.scroll(t.getState())}}}},kC=function(e){return function(t){return function(r){if(t(r),r.type==="PUBLISH_WHILE_DRAGGING"){var n=e.getState();n.phase==="DROP_PENDING"&&(n.isWaiting||e.dispatch(gm({reason:n.reason})))}}}},CC=kg,PC=function(e){var t=e.dimensionMarshal,r=e.focusMarshal,n=e.styleMarshal,i=e.getResponders,a=e.announce,o=e.autoScroller;return xg($k,CC(hE(tC(n),SC(t),eC(t),sC,wC,bC,kC,xC(o),dC,_C(r),yC(i,a))))},xl=function(){return{additions:{},removals:{},modified:{}}};function DC(e){var t=e.registry,r=e.callbacks,n=xl(),i=null,a=function(){i||(r.collectionStarting(),i=requestAnimationFrame(function(){i=null;var c=n,f=c.additions,d=c.removals,h=c.modified,p=Object.keys(f).map(function(g){return t.draggable.getById(g).getDimension(_e)}).sort(function(g,v){return g.descriptor.index-v.descriptor.index}),m=Object.keys(h).map(function(g){var v=t.droppable.getById(g),y=v.callbacks.getScrollWhileDragging();return{droppableId:g,scroll:y}}),w={additions:p,removals:Object.keys(d),modified:m};n=xl(),r.publish(w)}))},o=function(c){var f=c.descriptor.id;n.additions[f]=c,n.modified[c.descriptor.droppableId]=!0,n.removals[f]&&delete n.removals[f],a()},s=function(c){var f=c.descriptor;n.removals[f.id]=!0,n.modified[f.droppableId]=!0,n.additions[f.id]&&delete n.additions[f.id],a()},l=function(){i&&(cancelAnimationFrame(i),i=null,n=xl())};return{add:o,remove:s,stop:l}}var bm=function(e){var t=e.scrollHeight,r=e.scrollWidth,n=e.height,i=e.width,a=et({x:r,y:t},{x:i,y:n}),o={x:Math.max(0,a.x),y:Math.max(0,a.y)};return o},Sm=function(){var e=document.documentElement;return e||D(),e},_m=function(){var e=Sm(),t=bm({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight});return t},OC=function(){var e=wm(),t=_m(),r=e.y,n=e.x,i=Sm(),a=i.clientWidth,o=i.clientHeight,s=n+a,l=r+o,u=Ct({top:r,left:n,right:s,bottom:l}),c={frame:u,scroll:{initial:e,current:e,max:t,diff:{value:_e,displacement:_e}}};return c},TC=function(e){var t=e.critical,r=e.scrollOptions,n=e.registry,i=OC(),a=i.scroll.current,o=t.droppable,s=n.droppable.getAllByType(o.type).map(function(f){return f.callbacks.getDimensionAndWatchScroll(a,r)}),l=n.draggable.getAllByType(t.draggable.type).map(function(f){return f.getDimension(a)}),u={draggables:Qg(l),droppables:Jg(s)},c={dimensions:u,critical:t,viewport:i};return c};function Dh(e,t,r){if(r.descriptor.id===t.id||r.descriptor.type!==t.type)return!1;var n=e.droppable.getById(r.descriptor.droppableId);return n.descriptor.mode==="virtual"}var IC=function(e,t){var r=null,n=DC({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),i=function(h,p){e.droppable.exists(h)||D(),r&&t.updateDroppableIsEnabled({id:h,isEnabled:p})},a=function(h,p){r&&(e.droppable.exists(h)||D(),t.updateDroppableIsCombineEnabled({id:h,isCombineEnabled:p}))},o=function(h,p){r&&(e.droppable.exists(h)||D(),t.updateDroppableScroll({id:h,newScroll:p}))},s=function(h,p){r&&e.droppable.getById(h).callbacks.scroll(p)},l=function(){if(r){n.stop();var h=r.critical.droppable;e.droppable.getAllByType(h.type).forEach(function(p){return p.callbacks.dragStopped()}),r.unsubscribe(),r=null}},u=function(h){r||D();var p=r.critical.draggable;h.type==="ADDITION"&&Dh(e,p,h.value)&&n.add(h.value),h.type==="REMOVAL"&&Dh(e,p,h.value)&&n.remove(h.value)},c=function(h){r&&D();var p=e.draggable.getById(h.draggableId),m=e.droppable.getById(p.descriptor.droppableId),w={draggable:p.descriptor,droppable:m.descriptor},g=e.subscribe(u);return r={critical:w,unsubscribe:g},TC({critical:w,registry:e,scrollOptions:h.scrollOptions})},f={updateDroppableIsEnabled:i,updateDroppableIsCombineEnabled:a,scrollDroppable:s,updateDroppableScroll:o,startPublishing:c,stopPublishing:l};return f},Em=function(e,t){return e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP"},RC=function(e){window.scrollBy(e.x,e.y)},AC=Se(function(e){return ks(e).filter(function(t){return!(!t.isEnabled||!t.frame)})}),NC=function(t,r){var n=kr(AC(r),function(i){return i.frame||D(),sm(i.frame.pageMarginBox)(t)});return n},jC=function(e){var t=e.center,r=e.destination,n=e.droppables;if(r){var i=n[r];return i.frame?i:null}var a=NC(t,n);return a},yr={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:function(t){return Math.pow(t,2)},durationDampening:{stopDampeningAt:1200,accelerateAt:360}},LC=function(e,t){var r=e[t.size]*yr.startFromPercentage,n=e[t.size]*yr.maxScrollAtPercentage,i={startScrollingFrom:r,maxScrollValueAt:n};return i},xm=function(e){var t=e.startOfRange,r=e.endOfRange,n=e.current,i=r-t;if(i===0)return 0;var a=n-t,o=a/i;return o},ad=1,$C=function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return yr.maxPixelScroll;if(e===t.startScrollingFrom)return ad;var r=xm({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),n=1-r,i=yr.maxPixelScroll*yr.ease(n);return Math.ceil(i)},Oh=yr.durationDampening.accelerateAt,Th=yr.durationDampening.stopDampeningAt,MC=function(e,t){var r=t,n=Th,i=Date.now(),a=i-r;if(a>=Th)return e;if(a<Oh)return ad;var o=xm({startOfRange:Oh,endOfRange:n,current:a}),s=e*yr.ease(o);return Math.ceil(s)},Ih=function(e){var t=e.distanceToEdge,r=e.thresholds,n=e.dragStartTime,i=e.shouldUseTimeDampening,a=$C(t,r);return a===0?0:i?Math.max(MC(a,n),ad):a},Rh=function(e){var t=e.container,r=e.distanceToEdges,n=e.dragStartTime,i=e.axis,a=e.shouldUseTimeDampening,o=LC(t,i),s=r[i.end]<r[i.start];return s?Ih({distanceToEdge:r[i.end],thresholds:o,dragStartTime:n,shouldUseTimeDampening:a}):-1*Ih({distanceToEdge:r[i.start],thresholds:o,dragStartTime:n,shouldUseTimeDampening:a})},BC=function(e){var t=e.container,r=e.subject,n=e.proposedScroll,i=r.height>t.height,a=r.width>t.width;return!a&&!i?n:a&&i?null:{x:a?0:n.x,y:i?0:n.y}},UC=Kg(function(e){return e===0?0:e}),km=function(e){var t=e.dragStartTime,r=e.container,n=e.subject,i=e.center,a=e.shouldUseTimeDampening,o={top:i.y-r.top,right:r.right-i.x,bottom:r.bottom-i.y,left:i.x-r.left},s=Rh({container:r,distanceToEdges:o,dragStartTime:t,axis:Jc,shouldUseTimeDampening:a}),l=Rh({container:r,distanceToEdges:o,dragStartTime:t,axis:em,shouldUseTimeDampening:a}),u=UC({x:l,y:s});if(mr(u,_e))return null;var c=BC({container:r,subject:n,proposedScroll:u});return c?mr(c,_e)?null:c:null},FC=Kg(function(e){return e===0?0:e>0?1:-1}),od=function(){var e=function(r,n){return r<0?r:r>n?r-n:0};return function(t){var r=t.current,n=t.max,i=t.change,a=Oe(r,i),o={x:e(a.x,n.x),y:e(a.y,n.y)};return mr(o,_e)?null:o}}(),Cm=function(t){var r=t.max,n=t.current,i=t.change,a={x:Math.max(n.x,r.x),y:Math.max(n.y,r.y)},o=FC(i),s=od({max:a,current:n,change:o});return!s||o.x!==0&&s.x===0||o.y!==0&&s.y===0},sd=function(t,r){return Cm({current:t.scroll.current,max:t.scroll.max,change:r})},WC=function(t,r){if(!sd(t,r))return null;var n=t.scroll.max,i=t.scroll.current;return od({current:i,max:n,change:r})},ld=function(t,r){var n=t.frame;return n?Cm({current:n.scroll.current,max:n.scroll.max,change:r}):!1},zC=function(t,r){var n=t.frame;return!n||!ld(t,r)?null:od({current:n.scroll.current,max:n.scroll.max,change:r})},HC=function(e){var t=e.viewport,r=e.subject,n=e.center,i=e.dragStartTime,a=e.shouldUseTimeDampening,o=km({dragStartTime:i,container:t.frame,subject:r,center:n,shouldUseTimeDampening:a});return o&&sd(t,o)?o:null},GC=function(e){var t=e.droppable,r=e.subject,n=e.center,i=e.dragStartTime,a=e.shouldUseTimeDampening,o=t.frame;if(!o)return null;var s=km({dragStartTime:i,container:o.pageMarginBox,subject:r,center:n,shouldUseTimeDampening:a});return s&&ld(t,s)?s:null},Ah=function(e){var t=e.state,r=e.dragStartTime,n=e.shouldUseTimeDampening,i=e.scrollWindow,a=e.scrollDroppable,o=t.current.page.borderBoxCenter,s=t.dimensions.draggables[t.critical.draggable.id],l=s.page.marginBox;if(t.isWindowScrollAllowed){var u=t.viewport,c=HC({dragStartTime:r,viewport:u,subject:l,center:o,shouldUseTimeDampening:n});if(c){i(c);return}}var f=jC({center:o,destination:rt(t.impact),droppables:t.dimensions.droppables});if(f){var d=GC({dragStartTime:r,droppable:f,subject:l,center:o,shouldUseTimeDampening:n});d&&a(f.descriptor.id,d)}},VC=function(e){var t=e.scrollWindow,r=e.scrollDroppable,n=Ji(t),i=Ji(r),a=null,o=function(c){a||D();var f=a,d=f.shouldUseTimeDampening,h=f.dragStartTime;Ah({state:c,scrollWindow:n,scrollDroppable:i,dragStartTime:h,shouldUseTimeDampening:d})},s=function(c){a&&D();var f=Date.now(),d=!1,h=function(){d=!0};Ah({state:c,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:h,scrollDroppable:h}),a={dragStartTime:f,shouldUseTimeDampening:d},d&&o(c)},l=function(){a&&(n.cancel(),i.cancel(),a=null)};return{start:s,stop:l,scroll:o}},qC=function(e){var t=e.move,r=e.scrollDroppable,n=e.scrollWindow,i=function(u,c){var f=Oe(u.current.client.selection,c);t({client:f})},a=function(u,c){if(!ld(u,c))return c;var f=zC(u,c);if(!f)return r(u.descriptor.id,c),null;var d=et(c,f);r(u.descriptor.id,d);var h=et(c,d);return h},o=function(u,c,f){if(!u||!sd(c,f))return f;var d=WC(c,f);if(!d)return n(f),null;var h=et(f,d);n(h);var p=et(f,h);return p},s=function(u){var c=u.scrollJumpRequest;if(c){var f=rt(u.impact);f||D();var d=a(u.dimensions.droppables[f],c);if(d){var h=u.viewport,p=o(u.isWindowScrollAllowed,h,d);p&&i(u,p)}}};return s},KC=function(e){var t=e.scrollDroppable,r=e.scrollWindow,n=e.move,i=VC({scrollWindow:r,scrollDroppable:t}),a=qC({move:n,scrollWindow:r,scrollDroppable:t}),o=function(u){if(u.phase==="DRAGGING"){if(u.movementMode==="FLUID"){i.scroll(u);return}u.scrollJumpRequest&&a(u)}},s={scroll:o,start:i.start,stop:i.stop};return s},$n="data-rbd",Mn=function(){var e=$n+"-drag-handle";return{base:e,draggableId:e+"-draggable-id",contextId:e+"-context-id"}}(),Mu=function(){var e=$n+"-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),YC=function(){var e=$n+"-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),Nh={contextId:$n+"-scroll-container-context-id"},JC=function(t){return function(r){return"["+r+'="'+t+'"]'}},ai=function(t,r){return t.map(function(n){var i=n.styles[r];return i?n.selector+" { "+i+" }":""}).join(" ")},QC="pointer-events: none;",XC=function(e){var t=JC(e),r=function(){var s=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(Mn.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:s,dragging:QC,dropAnimating:s}}}(),n=function(){var s=`
      transition: `+xi.outOfTheWay+`;
    `;return{selector:t(Mu.contextId),styles:{dragging:s,dropAnimating:s,userCancel:s}}}(),i={selector:t(YC.contextId),styles:{always:"overflow-anchor: none;"}},a={selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}},o=[n,r,i,a];return{always:ai(o,"always"),resting:ai(o,"resting"),dragging:ai(o,"dragging"),dropAnimating:ai(o,"dropAnimating"),userCancel:ai(o,"userCancel")}},nt=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?O.useLayoutEffect:O.useEffect,kl=function(){var t=document.querySelector("head");return t||D(),t},jh=function(t){var r=document.createElement("style");return t&&r.setAttribute("nonce",t),r.type="text/css",r};function ZC(e,t){var r=G(function(){return XC(e)},[e]),n=O.useRef(null),i=O.useRef(null),a=L(Se(function(f){var d=i.current;d||D(),d.textContent=f}),[]),o=L(function(f){var d=n.current;d||D(),d.textContent=f},[]);nt(function(){!n.current&&!i.current||D();var f=jh(t),d=jh(t);return n.current=f,i.current=d,f.setAttribute($n+"-always",e),d.setAttribute($n+"-dynamic",e),kl().appendChild(f),kl().appendChild(d),o(r.always),a(r.resting),function(){var h=function(m){var w=m.current;w||D(),kl().removeChild(w),m.current=null};h(n),h(i)}},[t,o,a,r.always,r.resting,e]);var s=L(function(){return a(r.dragging)},[a,r.dragging]),l=L(function(f){if(f==="DROP"){a(r.dropAnimating);return}a(r.userCancel)},[a,r.dropAnimating,r.userCancel]),u=L(function(){i.current&&a(r.resting)},[a,r.resting]),c=G(function(){return{dragging:s,dropping:l,resting:u}},[s,l,u]);return c}var Pm=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function Os(e){return e instanceof Pm(e).HTMLElement}function eP(e,t){var r="["+Mn.contextId+'="'+e+'"]',n=Yg(document.querySelectorAll(r));if(!n.length)return null;var i=kr(n,function(a){return a.getAttribute(Mn.draggableId)===t});return!i||!Os(i)?null:i}function tP(e){var t=O.useRef({}),r=O.useRef(null),n=O.useRef(null),i=O.useRef(!1),a=L(function(d,h){var p={id:d,focus:h};return t.current[d]=p,function(){var w=t.current,g=w[d];g!==p&&delete w[d]}},[]),o=L(function(d){var h=eP(e,d);h&&h!==document.activeElement&&h.focus()},[e]),s=L(function(d,h){r.current===d&&(r.current=h)},[]),l=L(function(){n.current||i.current&&(n.current=requestAnimationFrame(function(){n.current=null;var d=r.current;d&&o(d)}))},[o]),u=L(function(d){r.current=null;var h=document.activeElement;h&&h.getAttribute(Mn.draggableId)===d&&(r.current=d)},[]);nt(function(){return i.current=!0,function(){i.current=!1;var d=n.current;d&&cancelAnimationFrame(d)}},[]);var c=G(function(){return{register:a,tryRecordFocus:u,tryRestoreFocusRecorded:l,tryShiftRecord:s}},[a,u,l,s]);return c}function rP(){var e={draggables:{},droppables:{}},t=[];function r(f){return t.push(f),function(){var h=t.indexOf(f);h!==-1&&t.splice(h,1)}}function n(f){t.length&&t.forEach(function(d){return d(f)})}function i(f){return e.draggables[f]||null}function a(f){var d=i(f);return d||D(),d}var o={register:function(d){e.draggables[d.descriptor.id]=d,n({type:"ADDITION",value:d})},update:function(d,h){var p=e.draggables[h.descriptor.id];p&&p.uniqueId===d.uniqueId&&(delete e.draggables[h.descriptor.id],e.draggables[d.descriptor.id]=d)},unregister:function(d){var h=d.descriptor.id,p=i(h);p&&d.uniqueId===p.uniqueId&&(delete e.draggables[h],n({type:"REMOVAL",value:d}))},getById:a,findById:i,exists:function(d){return!!i(d)},getAllByType:function(d){return Wo(e.draggables).filter(function(h){return h.descriptor.type===d})}};function s(f){return e.droppables[f]||null}function l(f){var d=s(f);return d||D(),d}var u={register:function(d){e.droppables[d.descriptor.id]=d},unregister:function(d){var h=s(d.descriptor.id);h&&d.uniqueId===h.uniqueId&&delete e.droppables[d.descriptor.id]},getById:l,findById:s,exists:function(d){return!!s(d)},getAllByType:function(d){return Wo(e.droppables).filter(function(h){return h.descriptor.type===d})}};function c(){e.draggables={},e.droppables={},t.length=0}return{draggable:o,droppable:u,subscribe:r,clean:c}}function nP(){var e=G(rP,[]);return O.useEffect(function(){return function(){requestAnimationFrame(e.clean)}},[e]),e}var ud=Z.createContext(null),Ho=function(){var e=document.body;return e||D(),e},iP={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},aP=function(t){return"rbd-announcement-"+t};function oP(e){var t=G(function(){return aP(e)},[e]),r=O.useRef(null);O.useEffect(function(){var a=document.createElement("div");return r.current=a,a.id=t,a.setAttribute("aria-live","assertive"),a.setAttribute("aria-atomic","true"),M(a.style,iP),Ho().appendChild(a),function(){setTimeout(function(){var l=Ho();l.contains(a)&&l.removeChild(a),a===r.current&&(r.current=null)})}},[t]);var n=L(function(i){var a=r.current;if(a){a.textContent=i;return}},[]);return n}var sP=0,lP={separator:"::"};function cd(e,t){return t===void 0&&(t=lP),G(function(){return""+e+t.separator+sP++},[t.separator,e])}function uP(e){var t=e.contextId,r=e.uniqueId;return"rbd-hidden-text-"+t+"-"+r}function cP(e){var t=e.contextId,r=e.text,n=cd("hidden-text",{separator:"-"}),i=G(function(){return uP({contextId:t,uniqueId:n})},[n,t]);return O.useEffect(function(){var o=document.createElement("div");return o.id=i,o.textContent=r,o.style.display="none",Ho().appendChild(o),function(){var l=Ho();l.contains(o)&&l.removeChild(o)}},[i,r]),i}var Ts=Z.createContext(null);function Dm(e){var t=O.useRef(e);return O.useEffect(function(){t.current=e}),t}function dP(){var e=null;function t(){return!!e}function r(o){return o===e}function n(o){e&&D();var s={abandon:o};return e=s,s}function i(){e||D(),e=null}function a(){e&&(e.abandon(),i())}return{isClaimed:t,isActive:r,claim:n,release:i,tryAbandon:a}}var fP=9,hP=13,dd=27,Om=32,pP=33,vP=34,gP=35,mP=36,yP=37,wP=38,bP=39,SP=40,Ga,_P=(Ga={},Ga[hP]=!0,Ga[fP]=!0,Ga),Tm=function(e){_P[e.keyCode]&&e.preventDefault()},Is=function(){var e="visibilitychange";if(typeof document>"u")return e;var t=[e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],r=kr(t,function(n){return"on"+n in document});return r||e}(),Im=0,Lh=5;function EP(e,t){return Math.abs(t.x-e.x)>=Lh||Math.abs(t.y-e.y)>=Lh}var $h={type:"IDLE"};function xP(e){var t=e.cancel,r=e.completed,n=e.getPhase,i=e.setPhase;return[{eventName:"mousemove",fn:function(o){var s=o.button,l=o.clientX,u=o.clientY;if(s===Im){var c={x:l,y:u},f=n();if(f.type==="DRAGGING"){o.preventDefault(),f.actions.move(c);return}f.type!=="PENDING"&&D();var d=f.point;if(EP(d,c)){o.preventDefault();var h=f.actions.fluidLift(c);i({type:"DRAGGING",actions:h})}}}},{eventName:"mouseup",fn:function(o){var s=n();if(s.type!=="DRAGGING"){t();return}o.preventDefault(),s.actions.drop({shouldBlockNextClick:!0}),r()}},{eventName:"mousedown",fn:function(o){n().type==="DRAGGING"&&o.preventDefault(),t()}},{eventName:"keydown",fn:function(o){var s=n();if(s.type==="PENDING"){t();return}if(o.keyCode===dd){o.preventDefault(),t();return}Tm(o)}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){n().type==="PENDING"&&t()}},{eventName:"webkitmouseforcedown",fn:function(o){var s=n();if(s.type==="IDLE"&&D(),s.actions.shouldRespectForcePress()){t();return}o.preventDefault()}},{eventName:Is,fn:t}]}function kP(e){var t=O.useRef($h),r=O.useRef(gr),n=G(function(){return{eventName:"mousedown",fn:function(f){if(!f.defaultPrevented&&f.button===Im&&!(f.ctrlKey||f.metaKey||f.shiftKey||f.altKey)){var d=e.findClosestDraggableId(f);if(d){var h=e.tryGetLock(d,o,{sourceEvent:f});if(h){f.preventDefault();var p={x:f.clientX,y:f.clientY};r.current(),u(h,p)}}}}}},[e]),i=G(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(f){if(!f.defaultPrevented){var d=e.findClosestDraggableId(f);if(d){var h=e.findOptionsForDraggable(d);h&&(h.shouldRespectForcePress||e.canGetLock(d)&&f.preventDefault())}}}}},[e]),a=L(function(){var f={passive:!1,capture:!0};r.current=pt(window,[i,n],f)},[i,n]),o=L(function(){var c=t.current;c.type!=="IDLE"&&(t.current=$h,r.current(),a())},[a]),s=L(function(){var c=t.current;o(),c.type==="DRAGGING"&&c.actions.cancel({shouldBlockNextClick:!0}),c.type==="PENDING"&&c.actions.abort()},[o]),l=L(function(){var f={capture:!0,passive:!1},d=xP({cancel:s,completed:o,getPhase:function(){return t.current},setPhase:function(p){t.current=p}});r.current=pt(window,d,f)},[s,o]),u=L(function(f,d){t.current.type!=="IDLE"&&D(),t.current={type:"PENDING",point:d,actions:f},l()},[l]);nt(function(){return a(),function(){r.current()}},[a])}var an;function CP(){}var PP=(an={},an[vP]=!0,an[pP]=!0,an[mP]=!0,an[gP]=!0,an);function DP(e,t){function r(){t(),e.cancel()}function n(){t(),e.drop()}return[{eventName:"keydown",fn:function(a){if(a.keyCode===dd){a.preventDefault(),r();return}if(a.keyCode===Om){a.preventDefault(),n();return}if(a.keyCode===SP){a.preventDefault(),e.moveDown();return}if(a.keyCode===wP){a.preventDefault(),e.moveUp();return}if(a.keyCode===bP){a.preventDefault(),e.moveRight();return}if(a.keyCode===yP){a.preventDefault(),e.moveLeft();return}if(PP[a.keyCode]){a.preventDefault();return}Tm(a)}},{eventName:"mousedown",fn:r},{eventName:"mouseup",fn:r},{eventName:"click",fn:r},{eventName:"touchstart",fn:r},{eventName:"resize",fn:r},{eventName:"wheel",fn:r,options:{passive:!0}},{eventName:Is,fn:r}]}function OP(e){var t=O.useRef(CP),r=G(function(){return{eventName:"keydown",fn:function(a){if(a.defaultPrevented||a.keyCode!==Om)return;var o=e.findClosestDraggableId(a);if(!o)return;var s=e.tryGetLock(o,c,{sourceEvent:a});if(!s)return;a.preventDefault();var l=!0,u=s.snapLift();t.current();function c(){l||D(),l=!1,t.current(),n()}t.current=pt(window,DP(u,c),{capture:!0,passive:!1})}}},[e]),n=L(function(){var a={passive:!1,capture:!0};t.current=pt(window,[r],a)},[r]);nt(function(){return n(),function(){t.current()}},[n])}var Cl={type:"IDLE"},TP=120,IP=.15;function RP(e){var t=e.cancel,r=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(i){i.preventDefault()}},{eventName:"keydown",fn:function(i){if(r().type!=="DRAGGING"){t();return}i.keyCode===dd&&i.preventDefault(),t()}},{eventName:Is,fn:t}]}function AP(e){var t=e.cancel,r=e.completed,n=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(a){var o=n();if(o.type!=="DRAGGING"){t();return}o.hasMoved=!0;var s=a.touches[0],l=s.clientX,u=s.clientY,c={x:l,y:u};a.preventDefault(),o.actions.move(c)}},{eventName:"touchend",fn:function(a){var o=n();if(o.type!=="DRAGGING"){t();return}a.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),r()}},{eventName:"touchcancel",fn:function(a){if(n().type!=="DRAGGING"){t();return}a.preventDefault(),t()}},{eventName:"touchforcechange",fn:function(a){var o=n();o.type==="IDLE"&&D();var s=a.touches[0];if(s){var l=s.force>=IP;if(l){var u=o.actions.shouldRespectForcePress();if(o.type==="PENDING"){u&&t();return}if(u){if(o.hasMoved){a.preventDefault();return}t();return}a.preventDefault()}}}},{eventName:Is,fn:t}]}function NP(e){var t=O.useRef(Cl),r=O.useRef(gr),n=L(function(){return t.current},[]),i=L(function(h){t.current=h},[]),a=G(function(){return{eventName:"touchstart",fn:function(h){if(!h.defaultPrevented){var p=e.findClosestDraggableId(h);if(p){var m=e.tryGetLock(p,s,{sourceEvent:h});if(m){var w=h.touches[0],g=w.clientX,v=w.clientY,y={x:g,y:v};r.current(),f(m,y)}}}}}},[e]),o=L(function(){var h={capture:!0,passive:!1};r.current=pt(window,[a],h)},[a]),s=L(function(){var d=t.current;d.type!=="IDLE"&&(d.type==="PENDING"&&clearTimeout(d.longPressTimerId),i(Cl),r.current(),o())},[o,i]),l=L(function(){var d=t.current;s(),d.type==="DRAGGING"&&d.actions.cancel({shouldBlockNextClick:!0}),d.type==="PENDING"&&d.actions.abort()},[s]),u=L(function(){var h={capture:!0,passive:!1},p={cancel:l,completed:s,getPhase:n},m=pt(window,AP(p),h),w=pt(window,RP(p),h);r.current=function(){m(),w()}},[l,n,s]),c=L(function(){var h=n();h.type!=="PENDING"&&D();var p=h.actions.fluidLift(h.point);i({type:"DRAGGING",actions:p,hasMoved:!1})},[n,i]),f=L(function(h,p){n().type!=="IDLE"&&D();var m=setTimeout(c,TP);i({type:"PENDING",point:p,actions:h,longPressTimerId:m}),u()},[u,n,i,c]);nt(function(){return o(),function(){r.current();var p=n();p.type==="PENDING"&&(clearTimeout(p.longPressTimerId),i(Cl))}},[n,o,i]),nt(function(){var h=pt(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}]);return h},[])}var jP={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function Rm(e,t){if(t==null)return!1;var r=!!jP[t.tagName.toLowerCase()];if(r)return!0;var n=t.getAttribute("contenteditable");return n==="true"||n===""?!0:t===e?!1:Rm(e,t.parentElement)}function LP(e,t){var r=t.target;return Os(r)?Rm(e,r):!1}var $P=function(e){return Ct(e.getBoundingClientRect()).center};function MP(e){return e instanceof Pm(e).Element}var BP=function(){var e="matches";if(typeof document>"u")return e;var t=[e,"msMatchesSelector","webkitMatchesSelector"],r=kr(t,function(n){return n in Element.prototype});return r||e}();function Am(e,t){return e==null?null:e[BP](t)?e:Am(e.parentElement,t)}function UP(e,t){return e.closest?e.closest(t):Am(e,t)}function FP(e){return"["+Mn.contextId+'="'+e+'"]'}function WP(e,t){var r=t.target;if(!MP(r))return null;var n=FP(e),i=UP(r,n);return!i||!Os(i)?null:i}function zP(e,t){var r=WP(e,t);return r?r.getAttribute(Mn.draggableId):null}function HP(e,t){var r="["+Mu.contextId+'="'+e+'"]',n=Yg(document.querySelectorAll(r)),i=kr(n,function(a){return a.getAttribute(Mu.id)===t});return!i||!Os(i)?null:i}function GP(e){e.preventDefault()}function Va(e){var t=e.expected,r=e.phase,n=e.isLockActive;return e.shouldWarn,!(!n()||t!==r)}function Nm(e){var t=e.lockAPI,r=e.store,n=e.registry,i=e.draggableId;if(t.isClaimed())return!1;var a=n.draggable.findById(i);return!(!a||!a.options.isEnabled||!Em(r.getState(),i))}function VP(e){var t=e.lockAPI,r=e.contextId,n=e.store,i=e.registry,a=e.draggableId,o=e.forceSensorStop,s=e.sourceEvent,l=Nm({lockAPI:t,store:n,registry:i,draggableId:a});if(!l)return null;var u=i.draggable.getById(a),c=HP(r,u.descriptor.id);if(!c||s&&!u.options.canDragInteractiveElements&&LP(c,s))return null;var f=t.claim(o||gr),d="PRE_DRAG";function h(){return u.options.shouldRespectForcePress}function p(){return t.isActive(f)}function m(_,x){Va({expected:_,phase:d,isLockActive:p,shouldWarn:!0})&&n.dispatch(x())}var w=m.bind(null,"DRAGGING");function g(_){function x(){t.release(),d="COMPLETED"}d!=="PRE_DRAG"&&(x(),d!=="PRE_DRAG"&&D()),n.dispatch(Bk(_.liftActionArgs)),d="DRAGGING";function C(I,A){if(A===void 0&&(A={shouldBlockNextClick:!1}),_.cleanup(),A.shouldBlockNextClick){var F=pt(window,[{eventName:"click",fn:GP,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(F)}x(),n.dispatch(gm({reason:I}))}return M({isActive:function(){return Va({expected:"DRAGGING",phase:d,isLockActive:p,shouldWarn:!1})},shouldRespectForcePress:h,drop:function(A){return C("DROP",A)},cancel:function(A){return C("CANCEL",A)}},_.actions)}function v(_){var x=Ji(function(I){w(function(){return vm({client:I})})}),C=g({liftActionArgs:{id:a,clientSelection:_,movementMode:"FLUID"},cleanup:function(){return x.cancel()},actions:{move:x}});return M({},C,{move:x})}function y(){var _={moveUp:function(){return w(Kk)},moveRight:function(){return w(Jk)},moveDown:function(){return w(Yk)},moveLeft:function(){return w(Qk)}};return g({liftActionArgs:{id:a,clientSelection:$P(c),movementMode:"SNAP"},cleanup:gr,actions:_})}function b(){var _=Va({expected:"PRE_DRAG",phase:d,isLockActive:p,shouldWarn:!0});_&&t.release()}var E={isActive:function(){return Va({expected:"PRE_DRAG",phase:d,isLockActive:p,shouldWarn:!1})},shouldRespectForcePress:h,fluidLift:v,snapLift:y,abort:b};return E}var qP=[kP,OP,NP];function KP(e){var t=e.contextId,r=e.store,n=e.registry,i=e.customSensors,a=e.enableDefaultSensors,o=[].concat(a?qP:[],i||[]),s=O.useState(function(){return dP()})[0],l=L(function(v,y){v.isDragging&&!y.isDragging&&s.tryAbandon()},[s]);nt(function(){var v=r.getState(),y=r.subscribe(function(){var b=r.getState();l(v,b),v=b});return y},[s,r,l]),nt(function(){return s.tryAbandon},[s.tryAbandon]);for(var u=L(function(g){return Nm({lockAPI:s,registry:n,store:r,draggableId:g})},[s,n,r]),c=L(function(g,v,y){return VP({lockAPI:s,registry:n,contextId:t,store:r,draggableId:g,forceSensorStop:v,sourceEvent:y&&y.sourceEvent?y.sourceEvent:null})},[t,s,n,r]),f=L(function(g){return zP(t,g)},[t]),d=L(function(g){var v=n.draggable.findById(g);return v?v.options:null},[n.draggable]),h=L(function(){s.isClaimed()&&(s.tryAbandon(),r.getState().phase!=="IDLE"&&r.dispatch(td()))},[s,r]),p=L(s.isClaimed,[s]),m=G(function(){return{canGetLock:u,tryGetLock:c,findClosestDraggableId:f,findOptionsForDraggable:d,tryReleaseLock:h,isLockClaimed:p}},[u,c,f,d,h,p]),w=0;w<o.length;w++)o[w](m)}var YP=function(t){return{onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragEnd:t.onDragEnd,onDragUpdate:t.onDragUpdate}};function oi(e){return e.current||D(),e.current}function JP(e){var t=e.contextId,r=e.setCallbacks,n=e.sensors,i=e.nonce,a=e.dragHandleUsageInstructions,o=O.useRef(null),s=Dm(e),l=L(function(){return YP(s.current)},[s]),u=oP(t),c=cP({contextId:t,text:a}),f=ZC(t,i),d=L(function(I){oi(o).dispatch(I)},[]),h=G(function(){return oh({publishWhileDragging:Fk,updateDroppableScroll:zk,updateDroppableIsEnabled:Hk,updateDroppableIsCombineEnabled:Gk,collectionStarting:Wk},d)},[d]),p=nP(),m=G(function(){return IC(p,h)},[p,h]),w=G(function(){return KC(M({scrollWindow:RC,scrollDroppable:m.scrollDroppable},oh({move:vm},d)))},[m.scrollDroppable,d]),g=tP(t),v=G(function(){return PC({announce:u,autoScroller:w,dimensionMarshal:m,focusMarshal:g,getResponders:l,styleMarshal:f})},[u,w,m,g,l,f]);o.current=v;var y=L(function(){var I=oi(o),A=I.getState();A.phase!=="IDLE"&&I.dispatch(td())},[]),b=L(function(){var I=oi(o).getState();return I.isDragging||I.phase==="DROP_ANIMATING"},[]),E=G(function(){return{isDragging:b,tryAbort:y}},[b,y]);r(E);var _=L(function(I){return Em(oi(o).getState(),I)},[]),x=L(function(){return Ar(oi(o).getState())},[]),C=G(function(){return{marshal:m,focus:g,contextId:t,canLift:_,isMovementAllowed:x,dragHandleUsageInstructionsId:c,registry:p}},[t,m,c,g,_,x,p]);return KP({contextId:t,store:v,registry:p,customSensors:n,enableDefaultSensors:e.enableDefaultSensors!==!1}),O.useEffect(function(){return y},[y]),Z.createElement(Ts.Provider,{value:C},Z.createElement(yE,{context:ud,store:v},e.children))}var QP=0;function XP(){return G(function(){return""+QP++},[])}function ZP(e){var t=XP(),r=e.dragHandleUsageInstructions||oo.dragHandleUsageInstructions;return Z.createElement(Ox,null,function(n){return Z.createElement(JP,{nonce:e.nonce,contextId:t,setCallbacks:n,dragHandleUsageInstructions:r,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)})}var jm=function(t){return function(r){return t===r}},eD=jm("scroll"),tD=jm("auto"),Mh=function(t,r){return r(t.overflowX)||r(t.overflowY)},rD=function(t){var r=window.getComputedStyle(t),n={overflowX:r.overflowX,overflowY:r.overflowY};return Mh(n,eD)||Mh(n,tD)},nD=function(){return!1},iD=function e(t){return t==null?null:t===document.body?nD()?t:null:t===document.documentElement?null:rD(t)?t:e(t.parentElement)},Bu=function(e){return{x:e.scrollLeft,y:e.scrollTop}},aD=function e(t){if(!t)return!1;var r=window.getComputedStyle(t);return r.position==="fixed"?!0:e(t.parentElement)},oD=function(e){var t=iD(e),r=aD(e);return{closestScrollable:t,isFixedOnPage:r}},sD=function(e){var t=e.descriptor,r=e.isEnabled,n=e.isCombineEnabled,i=e.isFixedOnPage,a=e.direction,o=e.client,s=e.page,l=e.closest,u=function(){if(!l)return null;var h=l.scrollSize,p=l.client,m=bm({scrollHeight:h.scrollHeight,scrollWidth:h.scrollWidth,height:p.paddingBox.height,width:p.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:p,scrollSize:h,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:m,diff:{value:_e,displacement:_e}}}}(),c=a==="vertical"?Jc:em,f=Ln({page:s,withPlaceholder:null,axis:c,frame:u}),d={descriptor:t,isCombineEnabled:n,isFixedOnPage:i,axis:c,isEnabled:r,client:o,page:s,frame:u,subject:f};return d},lD=function(t,r){var n=Hg(t);if(!r||t!==r)return n;var i=n.paddingBox.top-r.scrollTop,a=n.paddingBox.left-r.scrollLeft,o=i+r.scrollHeight,s=a+r.scrollWidth,l={top:i,right:s,bottom:o,left:a},u=Gc(l,n.border),c=Vc({borderBox:u,margin:n.margin,border:n.border,padding:n.padding});return c},uD=function(e){var t=e.ref,r=e.descriptor,n=e.env,i=e.windowScroll,a=e.direction,o=e.isDropDisabled,s=e.isCombineEnabled,l=e.shouldClipSubject,u=n.closestScrollable,c=lD(t,u),f=Bo(c,i),d=function(){if(!u)return null;var p=Hg(u),m={scrollHeight:u.scrollHeight,scrollWidth:u.scrollWidth};return{client:p,page:Bo(p,i),scroll:Bu(u),scrollSize:m,shouldClipSubject:l}}(),h=sD({descriptor:r,isEnabled:!o,isCombineEnabled:s,isFixedOnPage:n.isFixedOnPage,direction:a,client:c,page:f,closest:d});return h},cD={passive:!1},dD={passive:!0},Bh=function(e){return e.shouldPublishImmediately?cD:dD};function Go(e){var t=O.useContext(e);return t||D(),t}var qa=function(t){return t&&t.env.closestScrollable||null};function fD(e){var t=O.useRef(null),r=Go(Ts),n=cd("droppable"),i=r.registry,a=r.marshal,o=Dm(e),s=G(function(){return{id:e.droppableId,type:e.type,mode:e.mode}},[e.droppableId,e.mode,e.type]),l=O.useRef(s),u=G(function(){return Se(function(b,E){t.current||D();var _={x:b,y:E};a.updateDroppableScroll(s.id,_)})},[s.id,a]),c=L(function(){var b=t.current;return!b||!b.env.closestScrollable?_e:Bu(b.env.closestScrollable)},[]),f=L(function(){var b=c();u(b.x,b.y)},[c,u]),d=G(function(){return Ji(f)},[f]),h=L(function(){var b=t.current,E=qa(b);b&&E||D();var _=b.scrollOptions;if(_.shouldPublishImmediately){f();return}d()},[d,f]),p=L(function(b,E){t.current&&D();var _=o.current,x=_.getDroppableRef();x||D();var C=oD(x),I={ref:x,descriptor:s,env:C,scrollOptions:E};t.current=I;var A=uD({ref:x,descriptor:s,env:C,windowScroll:b,direction:_.direction,isDropDisabled:_.isDropDisabled,isCombineEnabled:_.isCombineEnabled,shouldClipSubject:!_.ignoreContainerClipping}),F=C.closestScrollable;return F&&(F.setAttribute(Nh.contextId,r.contextId),F.addEventListener("scroll",h,Bh(I.scrollOptions))),A},[r.contextId,s,h,o]),m=L(function(){var b=t.current,E=qa(b);return b&&E||D(),Bu(E)},[]),w=L(function(){var b=t.current;b||D();var E=qa(b);t.current=null,E&&(d.cancel(),E.removeAttribute(Nh.contextId),E.removeEventListener("scroll",h,Bh(b.scrollOptions)))},[h,d]),g=L(function(b){var E=t.current;E||D();var _=qa(E);_||D(),_.scrollTop+=b.y,_.scrollLeft+=b.x},[]),v=G(function(){return{getDimensionAndWatchScroll:p,getScrollWhileDragging:m,dragStopped:w,scroll:g}},[w,p,m,g]),y=G(function(){return{uniqueId:n,descriptor:s,callbacks:v}},[v,s,n]);nt(function(){return l.current=y.descriptor,i.droppable.register(y),function(){t.current&&w(),i.droppable.unregister(y)}},[v,s,w,y,a,i.droppable]),nt(function(){t.current&&a.updateDroppableIsEnabled(l.current.id,!e.isDropDisabled)},[e.isDropDisabled,a]),nt(function(){t.current&&a.updateDroppableIsCombineEnabled(l.current.id,e.isCombineEnabled)},[e.isCombineEnabled,a])}function Pl(){}var Uh={width:0,height:0,margin:jx},hD=function(t){var r=t.isAnimatingOpenOnMount,n=t.placeholder,i=t.animate;return r||i==="close"?Uh:{height:n.client.borderBox.height,width:n.client.borderBox.width,margin:n.client.margin}},pD=function(t){var r=t.isAnimatingOpenOnMount,n=t.placeholder,i=t.animate,a=hD({isAnimatingOpenOnMount:r,placeholder:n,animate:i});return{display:n.display,boxSizing:"border-box",width:a.width,height:a.height,marginTop:a.margin.top,marginRight:a.margin.right,marginBottom:a.margin.bottom,marginLeft:a.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:i!=="none"?xi.placeholder:null}};function vD(e){var t=O.useRef(null),r=L(function(){t.current&&(clearTimeout(t.current),t.current=null)},[]),n=e.animate,i=e.onTransitionEnd,a=e.onClose,o=e.contextId,s=O.useState(e.animate==="open"),l=s[0],u=s[1];O.useEffect(function(){return l?n!=="open"?(r(),u(!1),Pl):t.current?Pl:(t.current=setTimeout(function(){t.current=null,u(!1)}),r):Pl},[n,l,r]);var c=L(function(d){d.propertyName==="height"&&(i(),n==="close"&&a())},[n,a,i]),f=pD({isAnimatingOpenOnMount:l,animate:e.animate,placeholder:e.placeholder});return Z.createElement(e.placeholder.tagName,{style:f,"data-rbd-placeholder-context-id":o,onTransitionEnd:c,ref:e.innerRef})}var gD=Z.memo(vD),fd=Z.createContext(null),mD=function(e){Eg(t,e);function t(){for(var n,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=e.call.apply(e,[this].concat(a))||this,n.state={isVisible:!!n.props.on,data:n.props.on,animate:n.props.shouldAnimate&&n.props.on?"open":"none"},n.onClose=function(){n.state.animate==="close"&&n.setState({isVisible:!1})},n}t.getDerivedStateFromProps=function(i,a){return i.shouldAnimate?i.on?{isVisible:!0,data:i.on,animate:"open"}:a.isVisible?{isVisible:!0,data:a.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!i.on,data:i.on,animate:"none"}};var r=t.prototype;return r.render=function(){if(!this.state.isVisible)return null;var i={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(i)},t}(Z.PureComponent),Fh={dragging:5e3,dropAnimating:4500},yD=function(t,r){return r?xi.drop(r.duration):t?xi.snap:xi.fluid},wD=function(t,r){return t?r?ea.opacity.drop:ea.opacity.combining:null},bD=function(t){return t.forceShouldAnimate!=null?t.forceShouldAnimate:t.mode==="SNAP"};function SD(e){var t=e.dimension,r=t.client,n=e.offset,i=e.combineWith,a=e.dropping,o=!!i,s=bD(e),l=!!a,u=l?Lu.drop(n,o):Lu.moveTo(n),c={position:"fixed",top:r.marginBox.top,left:r.marginBox.left,boxSizing:"border-box",width:r.borderBox.width,height:r.borderBox.height,transition:yD(s,a),transform:u,opacity:wD(o,l),zIndex:l?Fh.dropAnimating:Fh.dragging,pointerEvents:"none"};return c}function _D(e){return{transform:Lu.moveTo(e.offset),transition:e.shouldAnimateDisplacement?null:"none"}}function ED(e){return e.type==="DRAGGING"?SD(e):_D(e)}function xD(e,t,r){r===void 0&&(r=_e);var n=window.getComputedStyle(t),i=t.getBoundingClientRect(),a=zg(i,n),o=Bo(a,r),s={client:a,tagName:t.tagName.toLowerCase(),display:n.display},l={x:a.marginBox.width,y:a.marginBox.height},u={descriptor:e,placeholder:s,displaceBy:l,client:a,page:o};return u}function kD(e){var t=cd("draggable"),r=e.descriptor,n=e.registry,i=e.getDraggableRef,a=e.canDragInteractiveElements,o=e.shouldRespectForcePress,s=e.isEnabled,l=G(function(){return{canDragInteractiveElements:a,shouldRespectForcePress:o,isEnabled:s}},[a,s,o]),u=L(function(h){var p=i();return p||D(),xD(r,p,h)},[r,i]),c=G(function(){return{uniqueId:t,descriptor:r,options:l,getDimension:u}},[r,u,l,t]),f=O.useRef(c),d=O.useRef(!0);nt(function(){return n.draggable.register(f.current),function(){return n.draggable.unregister(f.current)}},[n.draggable]),nt(function(){if(d.current){d.current=!1;return}var h=f.current;f.current=c,n.draggable.update(c,h)},[c,n.draggable])}function CD(e){e.preventDefault()}function PD(e){var t=O.useRef(null),r=L(function(I){t.current=I},[]),n=L(function(){return t.current},[]),i=Go(Ts),a=i.contextId,o=i.dragHandleUsageInstructionsId,s=i.registry,l=Go(fd),u=l.type,c=l.droppableId,f=G(function(){return{id:e.draggableId,index:e.index,type:u,droppableId:c}},[e.draggableId,e.index,u,c]),d=e.children,h=e.draggableId,p=e.isEnabled,m=e.shouldRespectForcePress,w=e.canDragInteractiveElements,g=e.isClone,v=e.mapped,y=e.dropAnimationFinished;if(!g){var b=G(function(){return{descriptor:f,registry:s,getDraggableRef:n,canDragInteractiveElements:w,shouldRespectForcePress:m,isEnabled:p}},[f,s,n,w,m,p]);kD(b)}var E=G(function(){return p?{tabIndex:0,role:"button","aria-describedby":o,"data-rbd-drag-handle-draggable-id":h,"data-rbd-drag-handle-context-id":a,draggable:!1,onDragStart:CD}:null},[a,o,h,p]),_=L(function(I){v.type==="DRAGGING"&&v.dropping&&I.propertyName==="transform"&&y()},[y,v]),x=G(function(){var I=ED(v),A=v.type==="DRAGGING"&&v.dropping?_:null,F={innerRef:r,draggableProps:{"data-rbd-draggable-context-id":a,"data-rbd-draggable-id":h,style:I,onTransitionEnd:A},dragHandleProps:E};return F},[a,E,h,v,_,r]),C=G(function(){return{draggableId:f.id,type:f.type,source:{index:f.index,droppableId:f.droppableId}}},[f.droppableId,f.id,f.index,f.type]);return d(x,v.snapshot,C)}var Lm=function(e,t){return e===t},$m=function(e){var t=e.combine,r=e.destination;return r?r.droppableId:t?t.droppableId:null},DD=function(t){return t.combine?t.combine.draggableId:null},OD=function(t){return t.at&&t.at.type==="COMBINE"?t.at.combine.draggableId:null};function TD(){var e=Se(function(i,a){return{x:i,y:a}}),t=Se(function(i,a,o,s,l){return{isDragging:!0,isClone:a,isDropAnimating:!!l,dropAnimation:l,mode:i,draggingOver:o,combineWith:s,combineTargetFor:null}}),r=Se(function(i,a,o,s,l,u,c){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:l,combineWith:u,mode:a,offset:i,dimension:o,forceShouldAnimate:c,snapshot:t(a,s,l,u,null)}}}),n=function(a,o){if(a.isDragging){if(a.critical.draggable.id!==o.draggableId)return null;var s=a.current.client.offset,l=a.dimensions.draggables[o.draggableId],u=rt(a.impact),c=OD(a.impact),f=a.forceShouldAnimate;return r(e(s.x,s.y),a.movementMode,l,o.isClone,u,c,f)}if(a.phase==="DROP_ANIMATING"){var d=a.completed;if(d.result.draggableId!==o.draggableId)return null;var h=o.isClone,p=a.dimensions.draggables[o.draggableId],m=d.result,w=m.mode,g=$m(m),v=DD(m),y=a.dropDuration,b={duration:y,curve:nd.drop,moveTo:a.newHomeClientOffset,opacity:v?ea.opacity.drop:null,scale:v?ea.scale.drop:null};return{mapped:{type:"DRAGGING",offset:a.newHomeClientOffset,dimension:p,dropping:b,draggingOver:g,combineWith:v,mode:w,forceShouldAnimate:null,snapshot:t(w,h,g,v,b)}}}return null};return n}function Mm(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var ID={mapped:{type:"SECONDARY",offset:_e,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:Mm(null)}};function RD(){var e=Se(function(o,s){return{x:o,y:s}}),t=Se(Mm),r=Se(function(o,s,l){return s===void 0&&(s=null),{mapped:{type:"SECONDARY",offset:o,combineTargetFor:s,shouldAnimateDisplacement:l,snapshot:t(s)}}}),n=function(s){return s?r(_e,s,!0):null},i=function(s,l,u,c){var f=u.displaced.visible[s],d=!!(c.inVirtualList&&c.effected[s]),h=Cs(u),p=h&&h.draggableId===s?l:null;if(!f){if(!d)return n(p);if(u.displaced.invisible[s])return null;var m=zn(c.displacedBy.point),w=e(m.x,m.y);return r(w,p,!0)}if(d)return n(p);var g=u.displacedBy.point,v=e(g.x,g.y);return r(v,p,f.shouldAnimate)},a=function(s,l){if(s.isDragging)return s.critical.draggable.id===l.draggableId?null:i(l.draggableId,s.critical.draggable.id,s.impact,s.afterCritical);if(s.phase==="DROP_ANIMATING"){var u=s.completed;return u.result.draggableId===l.draggableId?null:i(l.draggableId,u.result.draggableId,u.impact,u.afterCritical)}return null};return a}var AD=function(){var t=TD(),r=RD(),n=function(a,o){return t(a,o)||r(a,o)||ID};return n},ND={dropAnimationFinished:mm},jD=Fg(AD,ND,null,{context:ud,pure:!0,areStatePropsEqual:Lm})(PD);function Bm(e){var t=Go(fd),r=t.isUsingCloneFor;return r===e.draggableId&&!e.isClone?null:Z.createElement(jD,e)}function LD(e){var t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,r=!!e.disableInteractiveElementBlocking,n=!!e.shouldRespectForcePress;return Z.createElement(Bm,M({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:r,shouldRespectForcePress:n}))}function $D(e){var t=O.useContext(Ts);t||D();var r=t.contextId,n=t.isMovementAllowed,i=O.useRef(null),a=O.useRef(null),o=e.children,s=e.droppableId,l=e.type,u=e.mode,c=e.direction,f=e.ignoreContainerClipping,d=e.isDropDisabled,h=e.isCombineEnabled,p=e.snapshot,m=e.useClone,w=e.updateViewportMaxScroll,g=e.getContainerForClone,v=L(function(){return i.current},[]),y=L(function(F){i.current=F},[]);L(function(){return a.current},[]);var b=L(function(F){a.current=F},[]),E=L(function(){n()&&w({maxScroll:_m()})},[n,w]);fD({droppableId:s,type:l,mode:u,direction:c,isDropDisabled:d,isCombineEnabled:h,ignoreContainerClipping:f,getDroppableRef:v});var _=Z.createElement(mD,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},function(F){var le=F.onClose,z=F.data,q=F.animate;return Z.createElement(gD,{placeholder:z,onClose:le,innerRef:b,animate:q,contextId:r,onTransitionEnd:E})}),x=G(function(){return{innerRef:y,placeholder:_,droppableProps:{"data-rbd-droppable-id":s,"data-rbd-droppable-context-id":r}}},[r,s,_,y]),C=m?m.dragging.draggableId:null,I=G(function(){return{droppableId:s,type:l,isUsingCloneFor:C}},[s,C,l]);function A(){if(!m)return null;var F=m.dragging,le=m.render,z=Z.createElement(Bm,{draggableId:F.draggableId,index:F.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},function(q,de){return le(q,de,F)});return h0.createPortal(z,g())}return Z.createElement(fd.Provider,{value:I},o(x,p),A())}var Dl=function(t,r){return t===r.droppable.type},Wh=function(t,r){return r.draggables[t.draggable.id]},MD=function(){var t={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},r=M({},t,{shouldAnimatePlaceholder:!1}),n=Se(function(o){return{draggableId:o.id,type:o.type,source:{index:o.index,droppableId:o.droppableId}}}),i=Se(function(o,s,l,u,c,f){var d=c.descriptor.id,h=c.descriptor.droppableId===o;if(h){var p=f?{render:f,dragging:n(c.descriptor)}:null,m={isDraggingOver:l,draggingOverWith:l?d:null,draggingFromThisWith:d,isUsingPlaceholder:!0};return{placeholder:c.placeholder,shouldAnimatePlaceholder:!1,snapshot:m,useClone:p}}if(!s)return r;if(!u)return t;var w={isDraggingOver:l,draggingOverWith:d,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:c.placeholder,shouldAnimatePlaceholder:!0,snapshot:w,useClone:null}}),a=function(s,l){var u=l.droppableId,c=l.type,f=!l.isDropDisabled,d=l.renderClone;if(s.isDragging){var h=s.critical;if(!Dl(c,h))return r;var p=Wh(h,s.dimensions),m=rt(s.impact)===u;return i(u,f,m,m,p,d)}if(s.phase==="DROP_ANIMATING"){var w=s.completed;if(!Dl(c,w.critical))return r;var g=Wh(w.critical,s.dimensions);return i(u,f,$m(w.result)===u,rt(w.impact)===u,g,d)}if(s.phase==="IDLE"&&s.completed&&!s.shouldFlush){var v=s.completed;if(!Dl(c,v.critical))return r;var y=rt(v.impact)===u,b=!!(v.impact.at&&v.impact.at.type==="COMBINE"),E=v.critical.droppable.id===u;return y?b?t:r:E?t:r}return r};return a},BD={updateViewportMaxScroll:qk};function UD(){return document.body||D(),document.body}var FD={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:UD},Um=Fg(MD,BD,null,{context:ud,pure:!0,areStatePropsEqual:Lm})($D);Um.defaultProps=FD;function WD({workout:e,bulkEditMode:t,isSelected:r,onSelect:n,onEdit:i,isDragging:a}){var f,d,h,p,m;const o={easy_run:{color:"#4A90E2",label:"Easy Run",icon:""},quality_session:{color:"#9B59B6",label:"Quality",icon:""},long_run:{color:"#3498DB",label:"Long Run",icon:""},tempo_run:{color:"#E74C3C",label:"Tempo",icon:""},intervals:{color:"#F39C12",label:"Intervals",icon:""},race:{color:"#E67E22",label:"Race",icon:""},cross_training:{color:"#16A085",label:"Cross Training",icon:""},rest_day:{color:"#27AE60",label:"Rest",icon:""},day_off:{color:"#95A5A6",label:"Day Off",icon:""}},s=((f=e.workout)==null?void 0:f.workout_type)||"easy_run",l=o[s]||o.easy_run,u=(d=e.workout)==null?void 0:d.distance_km,c=(h=e.workout)==null?void 0:h.duration_minutes;return S.jsxs("div",{className:`
        workout-card 
        ${t?"bulk-mode":""}
        ${r?"selected":""}
        ${a?"dragging":""}
        ${e.status==="completed"?"completed":""}
      `,style:{borderLeft:`4px solid ${l.color}`},onClick:t?n:i,children:[t&&S.jsx("input",{type:"checkbox",checked:r,onChange:n,className:"bulk-select-checkbox",onClick:w=>w.stopPropagation()}),S.jsxs("div",{className:"workout-card-header",children:[S.jsxs("span",{className:"workout-type-badge",style:{backgroundColor:l.color},children:[l.icon," ",l.label]}),e.status==="completed"&&S.jsx("span",{className:"completion-badge",children:""})]}),S.jsxs("div",{className:"workout-card-body",children:[u&&S.jsxs("div",{className:"workout-metric",children:[S.jsx("span",{className:"metric-label",children:"Distance:"}),S.jsxs("span",{className:"metric-value",children:[u," km"]})]}),c&&S.jsxs("div",{className:"workout-metric",children:[S.jsx("span",{className:"metric-label",children:"Duration:"}),S.jsxs("span",{className:"metric-value",children:[c," min"]})]}),((p=e.workout)==null?void 0:p.description)&&S.jsxs("p",{className:"workout-description",children:[e.workout.description.slice(0,60),e.workout.description.length>60?"...":""]})]}),((m=e.workout)==null?void 0:m.pace_zone)&&S.jsxs("div",{className:"workout-pace-zone",children:["Pace: ",e.workout.pace_zone]})]})}function zD({workouts:e,stravaActivities:t,weekStart:r,onCloneWeek:n,bulkEditMode:i}){const a=e.reduce((l,u)=>{var c;return l+(((c=u.workout)==null?void 0:c.distance_km)||0)},0),o=t.reduce((l,u)=>l+u.distance/1e3,0),s=a>0?Math.round(o/a*100):0;return S.jsxs("div",{className:"week-summary",children:[S.jsxs("div",{className:"week-summary-mileage",children:[S.jsxs("div",{className:"mileage-progress-circle",children:[S.jsxs("svg",{viewBox:"0 0 36 36",className:"circular-chart",children:[S.jsx("path",{className:"circle-bg",d:`M18 2.0845
                a 15.9155 15.9155 0 0 1 0 31.831
                a 15.9155 15.9155 0 0 1 0 -31.831`}),S.jsx("path",{className:"circle",strokeDasharray:`${s}, 100`,d:`M18 2.0845
                a 15.9155 15.9155 0 0 1 0 31.831
                a 15.9155 15.9155 0 0 1 0 -31.831`})]}),S.jsxs("div",{className:"percentage-text",children:[s,"%"]})]}),S.jsxs("div",{className:"mileage-details",children:[S.jsxs("div",{className:"mileage-row",children:[S.jsx("span",{className:"mileage-label",children:"Completed:"}),S.jsxs("span",{className:"mileage-value",children:[o.toFixed(1)," km"]})]}),S.jsxs("div",{className:"mileage-row",children:[S.jsx("span",{className:"mileage-label",children:"Planned:"}),S.jsxs("span",{className:"mileage-value",children:[a.toFixed(1)," km"]})]})]})]}),S.jsxs("div",{className:"week-stats",children:[S.jsxs("div",{className:"stat",children:[S.jsx("span",{className:"stat-value",children:e.length}),S.jsx("span",{className:"stat-label",children:"Workouts"})]}),S.jsxs("div",{className:"stat",children:[S.jsx("span",{className:"stat-value",children:e.filter(l=>l.status==="completed").length}),S.jsx("span",{className:"stat-label",children:"Completed"})]})]}),!i&&S.jsx("button",{className:"clone-week-btn",onClick:n,title:"Clone this week to next week",children:" Clone Week"}),i&&S.jsxs("div",{className:"bulk-week-checkbox",children:[S.jsx("input",{type:"checkbox",id:`week-${r}`}),S.jsx("label",{htmlFor:`week-${r}`,children:"Select Week"})]})]})}function HD({currentMonth:e,workouts:t,stravaActivities:r,bulkEditMode:n,selectedWorkouts:i,onSelectWorkout:a,onAddWorkout:o,onEditWorkout:s,onCloneWeek:l,onWorkoutDrop:u}){const c=i_(e),f=t_(e),d=n_({start:c,end:f},{weekStartsOn:1}),h=w=>t.filter(g=>Ru(new Date(g.scheduled_date),w)),p=w=>r.filter(g=>Ru(new Date(g.start_time),w)),m=w=>{if(!w.destination)return;const g=w.draggableId,v=new Date(w.destination.droppableId);u(g,v)};return S.jsx(ZP,{onDragEnd:m,children:S.jsxs("div",{className:"calendar-grid",children:[S.jsxs("div",{className:"calendar-header-row",children:[S.jsx("div",{className:"week-number-header",children:"#"}),["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map(w=>S.jsx("div",{className:"day-header",children:w},w)),S.jsx("div",{className:"week-summary-header",children:"Week Summary"})]}),d.map((w,g)=>{const v=o_(w,{weekStartsOn:1}),y=r_({start:w,end:v}),b=t.filter(_=>{const x=new Date(_.scheduled_date);return x>=w&&x<=v}),E=r.filter(_=>{const x=new Date(_.start_time);return x>=w&&x<=v});return S.jsxs("div",{className:"calendar-week-row",children:[S.jsxs("div",{className:"week-number",children:["Week ",g+1]}),y.map(_=>{const x=h(_),C=p(_),I=aE(_,e),A=oE(_);return S.jsx(Um,{droppableId:_.toISOString(),children:(F,le)=>S.jsxs("div",{ref:F.innerRef,...F.droppableProps,className:`
                          calendar-day 
                          ${I?"":"other-month"}
                          ${A?"today":""}
                          ${le.isDraggingOver?"drag-over":""}
                        `,children:[S.jsx("div",{className:"day-date",children:_g(_,"d")}),S.jsxs("div",{className:"day-workouts",children:[x.map((z,q)=>S.jsx(LD,{draggableId:z.id,index:q,isDragDisabled:n,children:(de,he)=>S.jsx("div",{ref:de.innerRef,...de.draggableProps,...de.dragHandleProps,style:de.draggableProps.style,children:S.jsx(WD,{workout:z,bulkEditMode:n,isSelected:i.includes(z.id),onSelect:()=>a(z.id),onEdit:()=>s(z),isDragging:he.isDragging})})},z.id)),C.map(z=>S.jsxs("div",{className:"strava-activity-badge",children:[" ",z.name,S.jsx("br",{}),S.jsxs("small",{children:[(z.distance/1e3).toFixed(2)," km ",Math.floor(z.moving_time/60)," min"]})]},z.id)),F.placeholder]}),S.jsx("button",{className:"add-workout-btn",onClick:()=>o(_),children:"+"})]})},_.toISOString())}),S.jsx(zD,{workouts:b,stravaActivities:E,weekStart:w,onCloneWeek:()=>l(w),bulkEditMode:n})]},g)})]})})}function GD({selectedCount:e,onDelete:t,onCancel:r}){return S.jsxs("div",{className:"bulk-edit-toolbar",children:[S.jsx("div",{className:"bulk-edit-info",children:S.jsxs("span",{className:"selected-count",children:[e," workouts selected"]})}),S.jsxs("div",{className:"bulk-edit-actions",children:[S.jsx("button",{className:"btn-secondary",onClick:r,children:"Cancel"}),S.jsx("button",{className:"btn-danger",onClick:t,disabled:e===0,children:" Delete Selected"}),S.jsx("button",{className:"btn-primary",disabled:e===0,children:" Save as Template"})]})]})}function VD({workout:e,onClose:t,onSave:r}){var o,s,l,u,c,f,d,h,p;const[n,i]=O.useState({workout_type:((o=e==null?void 0:e.workout)==null?void 0:o.workout_type)||"easy_run",scheduled_date:(e==null?void 0:e.scheduled_date)||new Date().toISOString().split("T")[0],distance_km:((s=e==null?void 0:e.workout)==null?void 0:s.distance_km)||"",duration_minutes:((l=e==null?void 0:e.workout)==null?void 0:l.duration_minutes)||"",description:((u=e==null?void 0:e.workout)==null?void 0:u.description)||"",pace_zone:((c=e==null?void 0:e.workout)==null?void 0:c.pace_zone)||"",intervals:((f=e==null?void 0:e.workout)==null?void 0:f.intervals)||"",sets:((d=e==null?void 0:e.workout)==null?void 0:d.sets)||"",reps:((h=e==null?void 0:e.workout)==null?void 0:h.reps)||"",rest_seconds:((p=e==null?void 0:e.workout)==null?void 0:p.rest_seconds)||""}),a=m=>{m.preventDefault(),r(n)};return S.jsx("div",{className:"modal-overlay",onClick:t,children:S.jsxs("div",{className:"modal-content",onClick:m=>m.stopPropagation(),children:[S.jsxs("div",{className:"modal-header",children:[S.jsx("h2",{children:e!=null&&e.id?"Edit Workout":"Add Workout"}),S.jsx("button",{className:"modal-close",onClick:t,children:""})]}),S.jsxs("form",{onSubmit:a,className:"workout-form",children:[S.jsxs("div",{className:"form-group",children:[S.jsx("label",{children:"Workout Type"}),S.jsxs("select",{value:n.workout_type,onChange:m=>i({...n,workout_type:m.target.value}),required:!0,children:[S.jsx("option",{value:"easy_run",children:" Easy Run"}),S.jsx("option",{value:"quality_session",children:" Quality Session"}),S.jsx("option",{value:"long_run",children:" Long Run"}),S.jsx("option",{value:"tempo_run",children:" Tempo Run"}),S.jsx("option",{value:"intervals",children:" Intervals"}),S.jsx("option",{value:"race",children:" Race"}),S.jsx("option",{value:"cross_training",children:" Cross Training"}),S.jsx("option",{value:"rest_day",children:" Rest Day"}),S.jsx("option",{value:"day_off",children:" Day Off"})]})]}),S.jsxs("div",{className:"form-row",children:[S.jsxs("div",{className:"form-group",children:[S.jsx("label",{children:"Date"}),S.jsx("input",{type:"date",value:n.scheduled_date,onChange:m=>i({...n,scheduled_date:m.target.value}),required:!0})]}),S.jsxs("div",{className:"form-group",children:[S.jsx("label",{children:"Distance (km)"}),S.jsx("input",{type:"number",step:"0.1",value:n.distance_km,onChange:m=>i({...n,distance_km:m.target.value}),placeholder:"e.g., 10.0"})]}),S.jsxs("div",{className:"form-group",children:[S.jsx("label",{children:"Duration (min)"}),S.jsx("input",{type:"number",value:n.duration_minutes,onChange:m=>i({...n,duration_minutes:m.target.value}),placeholder:"e.g., 60"})]})]}),n.workout_type==="intervals"&&S.jsxs("div",{className:"form-row",children:[S.jsxs("div",{className:"form-group",children:[S.jsx("label",{children:"Sets"}),S.jsx("input",{type:"number",value:n.sets,onChange:m=>i({...n,sets:m.target.value}),placeholder:"e.g., 3"})]}),S.jsxs("div",{className:"form-group",children:[S.jsx("label",{children:"Reps per Set"}),S.jsx("input",{type:"number",value:n.reps,onChange:m=>i({...n,reps:m.target.value}),placeholder:"e.g., 8"})]}),S.jsxs("div",{className:"form-group",children:[S.jsx("label",{children:"Rest (seconds)"}),S.jsx("input",{type:"number",value:n.rest_seconds,onChange:m=>i({...n,rest_seconds:m.target.value}),placeholder:"e.g., 90"})]})]}),S.jsxs("div",{className:"form-group",children:[S.jsx("label",{children:"Pace Zone"}),S.jsxs("select",{value:n.pace_zone,onChange:m=>i({...n,pace_zone:m.target.value}),children:[S.jsx("option",{value:"",children:"Select pace zone"}),S.jsx("option",{value:"easy",children:"Easy (Conversational)"}),S.jsx("option",{value:"moderate",children:"Moderate (Comfortably hard)"}),S.jsx("option",{value:"tempo",children:"Tempo (10K race pace)"}),S.jsx("option",{value:"threshold",children:"Threshold (Hard but sustainable)"}),S.jsx("option",{value:"interval",children:"Interval (5K race pace)"}),S.jsx("option",{value:"repetition",children:"Repetition (Max effort)"})]})]}),S.jsxs("div",{className:"form-group",children:[S.jsx("label",{children:"Description"}),S.jsx("textarea",{value:n.description,onChange:m=>i({...n,description:m.target.value}),placeholder:"Add workout notes, instructions, or goals...",rows:"4"})]}),S.jsxs("div",{className:"modal-footer",children:[S.jsx("button",{type:"button",className:"btn-secondary",onClick:t,children:"Cancel"}),S.jsx("button",{type:"submit",className:"btn-primary",children:e!=null&&e.id?"Update Workout":"Add Workout"})]})]})]})})}function qD({onClose:e,onApplyWorkout:t}){const[r,n]=O.useState([]),[i,a]=O.useState(["All Workouts","Easy Runs","Quality Sessions","Long Runs"]),[o,s]=O.useState("All Workouts"),[l,u]=O.useState("");O.useEffect(()=>{c()},[]);async function c(){const{data:d}=await Je.from("workout_templates").select("*").order("name");n(d||[])}const f=r.filter(d=>{var m;const h=(m=d.name)==null?void 0:m.toLowerCase().includes(l.toLowerCase()),p=o==="All Workouts"||d.category===o;return h&&p});return S.jsxs("div",{className:"favorites-sidebar",children:[S.jsxs("div",{className:"sidebar-header",children:[S.jsx("h3",{children:"Favorite Workouts"}),S.jsx("button",{className:"close-btn",onClick:e,children:""})]}),S.jsx("div",{className:"sidebar-search",children:S.jsx("input",{type:"text",placeholder:"Search workouts...",value:l,onChange:d=>u(d.target.value),className:"search-input"})}),S.jsx("div",{className:"sidebar-folders",children:i.map(d=>S.jsxs("button",{className:`folder-btn ${o===d?"active":""}`,onClick:()=>s(d),children:[" ",d]},d))}),S.jsx("div",{className:"sidebar-favorites-list",children:f.length===0?S.jsxs("div",{className:"empty-state",children:[S.jsx("p",{children:"No favorite workouts yet"}),S.jsx("small",{children:"Save workouts from the calendar to access them quickly"})]}):f.map(d=>S.jsxs("div",{className:"favorite-item",children:[S.jsxs("div",{className:"favorite-info",children:[S.jsx("h4",{children:d.name}),S.jsx("p",{children:d.description}),S.jsxs("div",{className:"favorite-meta",children:[d.distance_km&&S.jsxs("span",{children:[d.distance_km," km"]}),d.duration_minutes&&S.jsxs("span",{children:[d.duration_minutes," min"]})]})]}),S.jsx("button",{className:"apply-btn",onClick:()=>{const h=prompt("Apply to date (YYYY-MM-DD):");h&&t(d,new Date(h))},children:"Apply "})]},d.id))}),S.jsx("div",{className:"sidebar-footer",children:S.jsx("button",{className:"btn-secondary full-width",children:"+ New Template"})})]})}function KD(){const[e,t]=O.useState(new Date),[r,n]=O.useState([]),[i,a]=O.useState([]),[o,s]=O.useState(!1),[l,u]=O.useState(!1),[c,f]=O.useState(null),[d,h]=O.useState(!1),[p,m]=O.useState([]),[w,g]=O.useState(null),[v,y]=O.useState(!0),[b,E]=O.useState(""),[_,x]=O.useState(""),[C,I]=O.useState(""),[A,F]=O.useState(!1);O.useEffect(()=>{le();const{data:{subscription:P}}=Je.auth.onAuthStateChange((R,B)=>{g((B==null?void 0:B.user)??null),B!=null&&B.user&&(z(),q())});return()=>P.unsubscribe()},[]),O.useEffect(()=>{w&&(z(),q())},[e,w]);async function le(){try{const{data:{session:P}}=await Je.auth.getSession();g((P==null?void 0:P.user)??null),y(!1)}catch(P){console.error("Error checking session:",P),y(!1)}}async function z(){if(w)try{const P=new Date(e.getFullYear(),e.getMonth(),1),R=new Date(e.getFullYear(),e.getMonth()+1,0),{data:B,error:W}=await Je.from("athlete_calendar").select(`
          *,
          workout:ai_workouts(*)
        `).gte("scheduled_date",P.toISOString()).lte("scheduled_date",R.toISOString()).order("scheduled_date",{ascending:!0});if(W){console.error("Error loading workouts:",W);return}n(B||[])}catch(P){console.error("Error loading workouts:",P)}}async function q(){if(w)try{const P=new Date(e.getFullYear(),e.getMonth(),1),R=new Date(e.getFullYear(),e.getMonth()+1,0),{data:B,error:W}=await Je.from("gps_activities").select("*").eq("athlete_id",w.id).gte("start_time",P.toISOString()).lte("start_time",R.toISOString());if(W){console.error("Error loading Strava activities:",W);return}m(B||[])}catch(P){console.error("Error loading Strava activities:",P)}}const de=P=>{f({scheduled_date:P}),u(!0)},he=P=>{f(P),u(!0)},lt=async P=>{const R=new Date(P);R.setDate(R.getDate()+6);const B=r.filter($e=>{const xe=new Date($e.scheduled_date);return xe>=P&&xe<=R}),W=new Date(P);W.setDate(W.getDate()+7);for(const $e of B){const xe=new Date($e.scheduled_date),Re=new Date(W);Re.setDate(Re.getDate()+(xe.getDay()-P.getDay())),await Je.from("athlete_calendar").insert({athlete_id:w.id,scheduled_date:Re.toISOString(),workout_id:$e.workout_id,status:"pending"})}await z()},T=async()=>{i.length&&(await Je.from("athlete_calendar").delete().in("id",i),a([]),s(!1),await z())};return v?S.jsxs("div",{className:"loading-screen",children:[S.jsx("div",{className:"spinner"}),S.jsx("p",{children:"Loading SafeStride Calendar..."})]}):w?S.jsxs("div",{className:"app",children:[S.jsx(lE,{currentMonth:e,onMonthChange:t,onExportPDF:()=>console.log("Export PDF"),onToggleFavorites:()=>h(!d),bulkEditMode:o,onToggleBulkEdit:()=>{s(!o),a([])}}),S.jsxs("div",{className:"calendar-container",children:[S.jsxs("div",{className:"calendar-main",children:[o&&S.jsx(GD,{selectedCount:i.length,onDelete:T,onCancel:()=>{s(!1),a([])}}),S.jsx(HD,{workouts:r,stravaActivities:p,bulkEditMode:o,selectedWorkouts:i,onSelectWorkout:P=>{a(R=>R.includes(P)?R.filter(B=>B!==P):[...R,P])},onAddWorkout:de,onEditWorkout:he,onCloneWeek:lt,onWorkoutDrop:async(P,R)=>{await Je.from("athlete_calendar").update({scheduled_date:R.toISOString()}).eq("id",P),await z()}})]}),d&&S.jsx(qD,{onClose:()=>h(!1),onApplyWorkout:async(P,R)=>{await Je.from("athlete_calendar").insert({athlete_id:w.id,scheduled_date:R.toISOString(),workout_id:P.id,status:"pending"}),await z()}})]}),l&&S.jsx(VD,{workout:c,onClose:()=>{u(!1),f(null)},onSave:async P=>{c!=null&&c.id?await Je.from("athlete_calendar").update({scheduled_date:P.scheduled_date,status:P.status||"pending"}).eq("id",c.id):await Je.from("athlete_calendar").insert({athlete_id:w.id,scheduled_date:P.scheduled_date,status:"pending"}),u(!1),f(null),await z()}})]}):S.jsx("div",{className:"auth-screen",children:S.jsxs("div",{className:"auth-card",children:[S.jsx("h1",{children:" SafeStride Training Calendar"}),S.jsx("p",{className:"auth-subtitle",children:"Sign in with your SafeStride account"}),S.jsxs("form",{onSubmit:async P=>{P.preventDefault(),I(""),F(!0);try{const{data:R,error:B}=await Je.auth.signInWithPassword({email:b,password:_});B?(console.error("Sign in error:",B),B.message.includes("Invalid login credentials")?I("Invalid email or password. Please check your credentials."):B.message.includes("Email not confirmed")?I("Please confirm your email address first."):I(B.message)):g(R.user)}catch(R){console.error("Sign in exception:",R),I("Failed to sign in. Please try again or use Demo Mode.")}finally{F(!1)}},children:[S.jsxs("div",{className:"form-group",children:[S.jsx("label",{children:"Email"}),S.jsx("input",{type:"email",value:b,onChange:P=>E(P.target.value),placeholder:"your@email.com",required:!0,disabled:A})]}),S.jsxs("div",{className:"form-group",children:[S.jsx("label",{children:"Password"}),S.jsx("input",{type:"password",value:_,onChange:P=>x(P.target.value),placeholder:"",required:!0,disabled:A})]}),C&&S.jsxs("div",{className:"auth-error",children:[" ",C]}),S.jsx("button",{type:"submit",disabled:A,children:A?"Signing in...":"Sign In"})]}),S.jsx("p",{className:"auth-footer",children:"Use the same credentials as your SafeStride mobile app"})]})})}Ol.createRoot(document.getElementById("root")).render(S.jsx(Z.StrictMode,{children:S.jsx(KD,{})}));
//# sourceMappingURL=index-DZZESiHK.js.map
